var _Mathabs=Math.abs;(function(){'use strict';function n(Re,Ie){return Ie={exports:{}},Re(Ie,Ie.exports),Ie.exports}function d(){return'undefined'==typeof document||'undefined'==typeof document.location?'':document.location.href}function u(Re){this.name='RavenConfigError',this.message=Re}function p(){return+new Date}function f(){for(var Re in this._hasJSON=!!('object'==typeof JSON&&JSON.stringify),this._hasDocument=!g(oe),this._hasNavigator=!g(se),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:'javascript',ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:'anonymous',collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=re.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=p(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=re.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[Re]=this._originalConsole[Re]}function g(Re){return void 0===Re}function h(Re){return'function'==typeof Re}function y(Re){return'[object String]'===ie.toString.call(Re)}function x(Re){for(var Ie in Re)return!1;return!0}function S(Re,Ie){var je,Pe;if(g(Re.length))for(je in Re)C(Re,je)&&Ie.call(null,je,Re[je]);else if(Pe=Re.length,Pe)for(je=0;je<Pe;je++)Ie.call(null,je,Re[je])}function E(Re,Ie){return Ie?(S(Ie,function(je,Pe){Re[je]=Pe}),Re):Re}function w(Re,Ie){return!Ie||Re.length<=Ie?Re:Re.substr(0,Ie)+'\u2026'}function C(Re,Ie){return ie.hasOwnProperty.call(Re,Ie)}function O(Re){for(var De,Ie=[],je=0,Pe=Re.length;je<Pe;je++)De=Re[je],y(De)?Ie.push(De.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,'\\$1')):De&&De.source&&Ie.push(De.source);return new RegExp(Ie.join('|'),'i')}function T(Re){var Ie=[];return S(Re,function(je,Pe){Ie.push(encodeURIComponent(je)+'='+encodeURIComponent(Pe))}),Ie.join('&')}function N(Re){var Ie=Re.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Ie)return{};var je=Ie[6]||'',Pe=Ie[8]||'';return{protocol:Ie[2],host:Ie[4],path:Ie[5],relative:Ie[5]+je+Pe}}function R(){var Re=re.crypto||re.msCrypto;if(!g(Re)&&Re.getRandomValues){var Ie=new Uint16Array(8);Re.getRandomValues(Ie),Ie[3]=16384|4095&Ie[3],Ie[4]=32768|16383&Ie[4];var je=function(Pe){for(var De=Pe.toString(16);4>De.length;)De='0'+De;return De};return je(Ie[0])+je(Ie[1])+je(Ie[2])+je(Ie[3])+je(Ie[4])+je(Ie[5])+je(Ie[6])+je(Ie[7])}return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(Pe){var De=0|16*Math.random(),Le='x'===Pe?De:8|3&De;return Le.toString(16)})}function I(Re){for(var Ue,Pe=[],De=0,Le=0,Be=' > ',Me=Be.length;Re&&De++<5&&(Ue=P(Re),!('html'===Ue||1<De&&Le+Pe.length*Me+Ue.length>=80));)Pe.push(Ue),Le+=Ue.length,Re=Re.parentNode;return Pe.reverse().join(Be)}function P(Re){var je,Pe,De,Le,Be,Ie=[];if(!Re||!Re.tagName)return'';if(Ie.push(Re.tagName.toLowerCase()),Re.id&&Ie.push('#'+Re.id),je=Re.className,je&&y(je))for(Pe=je.split(/\s+/),Be=0;Be<Pe.length;Be++)Ie.push('.'+Pe[Be]);var Me=['type','name','title','alt'];for(Be=0;Be<Me.length;Be++)De=Me[Be],Le=Re.getAttribute(De),Le&&Ie.push('['+De+'="'+Le+'"]');return Ie.join('')}function D(Re,Ie){return!!(!!Re^!!Ie)}function L(Re,Ie){return!D(Re,Ie)&&(Re=Re.values[0],Ie=Ie.values[0],Re.type!==Ie.type||Re.value!==Ie.value?!1:B(Re.stacktrace,Ie.stacktrace))}function B(Re,Ie){if(D(Re,Ie))return!1;var je=Re.frames,Pe=Ie.frames;if(je.length!==Pe.length)return!1;for(var De,Le,Be=0;Be<je.length;Be++)if(De=je[Be],Le=Pe[Be],De.filename!==Le.filename||De.lineno!==Le.lineno||De.colno!==Le.colno||De['function']!==Le['function'])return!1;return!0}function M(Re,Ie,je,Pe){var De=Re[Ie];Re[Ie]=je(De),Pe&&Pe.push([Re,Ie,De])}var U='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,A=n(function(Re){(function(){'use strict';function Ie(et,tt,nt,at,rt,ot){return{tag:et,key:tt,attrs:nt,children:at,text:rt,dom:ot,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function je(et){for(var tt,nt='div',at=[],rt={};tt=Be.exec(et);){var ot=tt[1],st=tt[2];if(''===ot&&''!==st)nt=st;else if('#'===ot)rt.id=st;else if('.'===ot)at.push(st);else if('['===tt[3][0]){var it=tt[6];it&&(it=it.replace(/\\(["'])/g,'$1').replace(/\\\\/g,'\\')),'class'===tt[4]?at.push(it):rt[tt[4]]=it||!0}}return 0<at.length&&(rt.className=at.join(' ')),Me[et]={tag:nt,attrs:rt}}function Pe(et,tt,nt){var rt,ot,at=!1,st=tt.className||tt.class;for(var it in et.attrs)Ue.call(et.attrs,it)&&(tt[it]=et.attrs[it]);for(var it in void 0!==st&&(void 0!==tt.class&&(tt.class=void 0,tt.className=st),null!=et.attrs.className&&(tt.className=et.attrs.className+' '+st)),tt)if(Ue.call(tt,it)&&'key'!=it){at=!0;break}return Array.isArray(nt)&&1===nt.length&&null!=nt[0]&&'#'===nt[0].tag?ot=nt[0].children:rt=nt,Ie(et.tag,tt.key,at?tt:void 0,rt,ot)}function De(et){var at,tt=arguments[1],nt=2;if(null==et||'string'!=typeof et&&'function'!=typeof et&&'function'!=typeof et.view)throw Error('The selector must be either a string or a component.');if('string'==typeof et)var rt=Me[et]||je(et);if(null==tt?tt={}:('object'!=typeof tt||null!=tt.tag||Array.isArray(tt))&&(tt={},nt=1),arguments.length===nt+1)at=arguments[nt],Array.isArray(at)||(at=[at]);else for(at=[];nt<arguments.length;)at.push(arguments[nt++]);var ot=Ie.normalizeChildren(at);return'string'==typeof et?Pe(rt,tt,ot):Ie(et,tt.key,tt,ot)}function Le(et){var tt=16,nt=0,at=null,rt='function'==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var ot=Date.now();0==nt||ot-nt>=tt?(nt=ot,et()):null==at&&(at=rt(function(){at=null,et(),nt=Date.now()},tt-(ot-nt)))}}Ie.normalize=function(et){return Array.isArray(et)?Ie('[',void 0,void 0,Ie.normalizeChildren(et),void 0,void 0):null!=et&&'object'!=typeof et?Ie('#',void 0,void 0,!1===et?'':et,void 0,void 0):et},Ie.normalizeChildren=function(tt){for(var nt=0;nt<tt.length;nt++)tt[nt]=Ie.normalize(tt[nt]);return tt};var Be=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Me={},Ue={}.hasOwnProperty;De.trust=function(et){return null==et&&(et=''),Ie('<',void 0,void 0,et,void 0,void 0)},De.fragment=function(et,tt){return Ie('[',et.key,et,Ie.normalizeChildren(tt),void 0,void 0)};var Ae=De,ze=function(et){function tt(ct,ut){return function pt(ft){var gt;try{if(ut&&null!=ft&&('object'==typeof ft||'function'==typeof ft)&&'function'==typeof(gt=ft.then)){if(ft===at)throw new TypeError('Promise can\'t be resolved w/ itself');nt(gt.bind(ft))}else dt(function(){ut||0!==ct.length||console.error('Possible unhandled promise rejection:',ft);for(var mt=0;mt<ct.length;mt++)ct[mt](ft);rt.length=0,ot.length=0,lt.state=ut,lt.retry=function(){pt(ft)}})}catch(mt){it(mt)}}}function nt(ct){function ut(gt){return function(mt){0<pt++||gt(mt)}}var pt=0,ft=ut(it);try{ct(ut(st),ft)}catch(gt){ft(gt)}}if(!(this instanceof ze))throw new Error('Promise must be called with `new`');if('function'!=typeof et)throw new TypeError('executor must be a function');var at=this,rt=[],ot=[],st=tt(rt,!0),it=tt(ot,!1),lt=at._instance={resolvers:rt,rejectors:ot},dt='function'==typeof setImmediate?setImmediate:setTimeout;nt(et)};if(ze.prototype.then=function(et,tt){function nt(lt,dt,ct,ut){dt.push(function(pt){if('function'!=typeof lt)ct(pt);else try{ot(lt(pt))}catch(ft){st&&st(ft)}}),'function'==typeof rt.retry&&ut===rt.state&&rt.retry()}var ot,st,at=this,rt=at._instance,it=new ze(function(lt,dt){ot=lt,st=dt});return nt(et,rt.resolvers,ot,!0),nt(tt,rt.rejectors,st,!1),it},ze.prototype.catch=function(et){return this.then(null,et)},ze.resolve=function(et){return et instanceof ze?et:new ze(function(tt){tt(et)})},ze.reject=function(et){return new ze(function(tt,nt){nt(et)})},ze.all=function(et){return new ze(function(tt,nt){var at=et.length,rt=0,ot=[];if(0===et.length)tt([]);else for(var st=0;st<et.length;st++)(function(it){function lt(dt){rt++,ot[it]=dt,rt===at&&tt(ot)}null!=et[it]&&('object'==typeof et[it]||'function'==typeof et[it])&&'function'==typeof et[it].then?et[it].then(lt,nt):lt(et[it])})(st)})},ze.race=function(et){return new ze(function(tt,nt){for(var at=0;at<et.length;at++)et[at].then(tt,nt)})},'undefined'!=typeof window){'undefined'==typeof window.Promise&&(window.Promise=ze);var ze=window.Promise}else if('undefined'!=typeof U){'undefined'==typeof U.Promise&&(U.Promise=ze);var ze=U.Promise}else;var He=function(et){function tt(rt,ot){if(Array.isArray(ot))for(var st=0;st<ot.length;st++)tt(rt+'['+st+']',ot[st]);else if('[object Object]'===Object.prototype.toString.call(ot))for(var st in ot)tt(rt+'['+st+']',ot[st]);else nt.push(encodeURIComponent(rt)+(null!=ot&&''!==ot?'='+encodeURIComponent(ot):''))}if('[object Object]'!==Object.prototype.toString.call(et))return'';var nt=[];for(var at in et)tt(at,et[at]);return nt.join('&')},qe=/^file:\/\//i,Fe=function(et,tt){function at(){function gt(){0==--mt&&'function'==typeof ft&&ft()}var mt=0;return function ht(bt){var _t=bt.then;return bt.then=function(){mt++;var yt=_t.apply(bt,arguments);return yt.then(gt,function(vt){if(gt(),0==mt)throw vt}),ht(yt)},bt}}function rt(gt,mt){if('string'==typeof gt){var ht=gt;gt=mt||{},null==gt.url&&(gt.url=ht)}return gt}function it(gt,mt){if(null==mt)return gt;for(var _t,ht=gt.match(/:[^\/]+/gi)||[],bt=0;bt<ht.length;bt++)_t=ht[bt].slice(1),null!=mt[_t]&&(gt=gt.replace(ht[bt],mt[_t]));return gt}function lt(gt,mt){var ht=He(mt);if(''!==ht){var bt=0>gt.indexOf('?')?'?':'&';gt+=bt+ht}return gt}function dt(gt){try{return''===gt?null:JSON.parse(gt)}catch(mt){throw new Error(gt)}}function ct(gt){return gt.responseText}function ut(gt,mt){if('function'==typeof gt)if(Array.isArray(mt))for(var ht=0;ht<mt.length;ht++)mt[ht]=new gt(mt[ht]);else return new gt(mt);return mt}var ft,pt=0;return{request:function(gt,mt){var ht=at();gt=rt(gt,mt);var bt=new tt(function(_t,yt){null==gt.method&&(gt.method='GET'),gt.method=gt.method.toUpperCase();var vt='GET'===gt.method||'TRACE'===gt.method?!1:'boolean'!=typeof gt.useBody||gt.useBody;'function'!=typeof gt.serialize&&(gt.serialize='undefined'!=typeof FormData&&gt.data instanceof FormData?function(wt){return wt}:JSON.stringify),'function'!=typeof gt.deserialize&&(gt.deserialize=dt),'function'!=typeof gt.extract&&(gt.extract=ct),gt.url=it(gt.url,gt.data),vt?gt.data=gt.serialize(gt.data):gt.url=lt(gt.url,gt.data);var kt=new et.XMLHttpRequest,xt=!1,St=kt.abort;for(var Et in kt.abort=function(){xt=!0,St.call(kt)},kt.open(gt.method,gt.url,'boolean'!=typeof gt.async||gt.async,'string'==typeof gt.user?gt.user:void 0,'string'==typeof gt.password?gt.password:void 0),gt.serialize===JSON.stringify&&vt&&kt.setRequestHeader('Content-Type','application/json; charset=utf-8'),gt.deserialize===dt&&kt.setRequestHeader('Accept','application/json, text/*'),gt.withCredentials&&(kt.withCredentials=gt.withCredentials),gt.headers)({}).hasOwnProperty.call(gt.headers,Et)&&kt.setRequestHeader(Et,gt.headers[Et]);'function'==typeof gt.config&&(kt=gt.config(kt,gt)||kt),kt.onreadystatechange=function(){if(!xt&&4===kt.readyState)try{var wt=gt.extract===ct?gt.deserialize(gt.extract(kt,gt)):gt.extract(kt,gt);if(200<=kt.status&&300>kt.status||304===kt.status||qe.test(gt.url))_t(ut(gt.type,wt));else{var Ct=new Error(kt.responseText);for(var Ot in wt)Ct[Ot]=wt[Ot];yt(Ct)}}catch(Tt){yt(Tt)}},vt&&null!=gt.data?kt.send(gt.data):kt.send()});return!0===gt.background?bt:ht(bt)},jsonp:function(gt,mt){var ht=at();gt=rt(gt,mt);var bt=new tt(function(_t,yt){var vt=gt.callbackName||'_mithril_'+Math.round(1e16*Math.random())+'_'+pt++,kt=et.document.createElement('script');et[vt]=function(xt){kt.parentNode.removeChild(kt),_t(ut(gt.type,xt)),delete et[vt]},kt.onerror=function(){kt.parentNode.removeChild(kt),yt(new Error('JSONP request failed')),delete et[vt]},null==gt.data&&(gt.data={}),gt.url=it(gt.url,gt.data),gt.data[gt.callbackKey||'callback']=vt,kt.src=lt(gt.url,gt.data),et.document.documentElement.appendChild(kt)});return!0===gt.background?bt:ht(bt)},setCompletionCallback:function(gt){ft=gt}}}(window,ze),We=function(et){function nt(Wt,Kt,Vt,Gt,Xt,Yt,Jt){for(var Zt,Qt=Vt;Qt<Gt;Qt++)Zt=Kt[Qt],null!=Zt&&at(Wt,Zt,Xt,Jt,Yt)}function at(Wt,Kt,Vt,Gt,Xt){var Yt=Kt.tag;return'string'==typeof Yt?(Kt.state={},null!=Kt.attrs&&Ut(Kt.attrs,Kt,Vt),'#'===Yt?rt(Wt,Kt,Xt):'<'===Yt?ot(Wt,Kt,Xt):'['===Yt?st(Wt,Kt,Vt,Gt,Xt):it(Wt,Kt,Vt,Gt,Xt)):dt(Wt,Kt,Vt,Gt,Xt)}function rt(Wt,Kt,Vt){return Kt.dom=qt.createTextNode(Kt.children),kt(Wt,Kt.dom,Vt),Kt.dom}function ot(Wt,Kt,Vt){var Gt=Kt.children.match(/^\s*?<(\w+)/im)||[],Xt={caption:'table',thead:'table',tbody:'table',tfoot:'table',tr:'tbody',th:'tr',td:'tr',colgroup:'table',col:'colgroup'}[Gt[1]]||'div',Yt=qt.createElement(Xt);Yt.innerHTML=Kt.children,Kt.dom=Yt.firstChild,Kt.domSize=Yt.childNodes.length;for(var Qt,Jt=qt.createDocumentFragment();Qt=Yt.firstChild;)Jt.appendChild(Qt);return kt(Wt,Jt,Vt),Jt}function st(Wt,Kt,Vt,Gt,Xt){var Yt=qt.createDocumentFragment();if(null!=Kt.children){var Jt=Kt.children;nt(Yt,Jt,0,Jt.length,Vt,null,Gt)}return Kt.dom=Yt.firstChild,Kt.domSize=Yt.childNodes.length,kt(Wt,Yt,Xt),Yt}function it(Wt,Kt,Vt,Gt,Xt){var Yt=Kt.tag;switch(Kt.tag){case'svg':Gt='http://www.w3.org/2000/svg';break;case'math':Gt='http://www.w3.org/1998/Math/MathML';}var Jt=Kt.attrs,Qt=Jt&&Jt.is,Zt=Gt?Qt?qt.createElementNS(Gt,Yt,{is:Qt}):qt.createElementNS(Gt,Yt):Qt?qt.createElement(Yt,{is:Qt}):qt.createElement(Yt);if(Kt.dom=Zt,null!=Jt&&Ot(Kt,Jt,Gt),kt(Wt,Zt,Xt),null!=Kt.attrs&&null!=Kt.attrs.contenteditable)xt(Kt);else if(null!=Kt.text&&(''===Kt.text?Kt.children=[Ie('#',void 0,void 0,Kt.text,void 0,void 0)]:Zt.textContent=Kt.text),null!=Kt.children){var en=Kt.children;nt(Zt,en,0,en.length,Vt,null,Gt),Nt(Kt)}return Zt}function lt(Wt,Kt){var Vt;if('function'==typeof Wt.tag.view){if(Wt.state=Object.create(Wt.tag),Vt=Wt.state.view,null!=Vt.$$reentrantLock$$)return $t;Vt.$$reentrantLock$$=!0}else{if(Wt.state=void 0,Vt=Wt.tag,null!=Vt.$$reentrantLock$$)return $t;Vt.$$reentrantLock$$=!0,Wt.state=null!=Wt.tag.prototype&&'function'==typeof Wt.tag.prototype.view?new Wt.tag(Wt):Wt.tag(Wt)}if(Wt._state=Wt.state,null!=Wt.attrs&&Ut(Wt.attrs,Wt,Kt),Ut(Wt._state,Wt,Kt),Wt.instance=Ie.normalize(Wt._state.view.call(Wt.state,Wt)),Wt.instance===Wt)throw Error('A view cannot return the vnode it received as argument');Vt.$$reentrantLock$$=null}function dt(Wt,Kt,Vt,Gt,Xt){if(lt(Kt,Vt),null!=Kt.instance){var Yt=at(Wt,Kt.instance,Vt,Gt,Xt);return Kt.dom=Kt.instance.dom,Kt.domSize=null==Kt.dom?0:Kt.instance.domSize,kt(Wt,Yt,Xt),Yt}return Kt.domSize=0,$t}function ct(Wt,Kt,Vt,Gt,Xt,Yt,Jt){if(Kt!==Vt&&(null!=Kt||null!=Vt))if(null==Kt)nt(Wt,Vt,0,Vt.length,Xt,Yt,void 0);else if(null==Vt)St(Kt,0,Kt.length,Vt);else{if(Kt.length===Vt.length){for(var Qt=!1,Zt=0;Zt<Vt.length;Zt++)if(null!=Vt[Zt]&&null!=Kt[Zt]){Qt=null==Vt[Zt].key&&null==Kt[Zt].key;break}if(Qt){for(var Zt=0;Zt<Kt.length;Zt++)if(Kt[Zt]===Vt[Zt])continue;else null==Kt[Zt]&&null!=Vt[Zt]?at(Wt,Vt[Zt],Xt,Jt,vt(Kt,Zt+1,Yt)):null==Vt[Zt]?St(Kt,Zt,Zt+1,Vt):ut(Wt,Kt[Zt],Vt[Zt],Xt,vt(Kt,Zt+1,Yt),Gt,Jt);return}}if(Gt=Gt||bt(Kt,Vt),Gt){var en=Kt.pool;Kt=Kt.concat(Kt.pool)}for(var on,tn=0,nn=0,an=Kt.length-1,rn=Vt.length-1;an>=tn&&rn>=nn;){var sn=Kt[tn],ln=Vt[nn];if(sn===ln&&!Gt)tn++,nn++;else if(null==sn)tn++;else if(null==ln)nn++;else if(sn.key===ln.key){var dn=null!=en&&tn>=Kt.length-en.length||null==en&&Gt;tn++,nn++,ut(Wt,sn,ln,Xt,vt(Kt,tn,Yt),dn,Jt),Gt&&sn.tag===ln.tag&&kt(Wt,yt(sn),Yt)}else{var sn=Kt[an];if(sn===ln&&!Gt)an--,nn++;else if(null==sn)an--;else if(null==ln)nn++;else if(sn.key===ln.key){var dn=null!=en&&an>=Kt.length-en.length||null==en&&Gt;ut(Wt,sn,ln,Xt,vt(Kt,an+1,Yt),dn,Jt),(Gt||nn<rn)&&kt(Wt,yt(sn),vt(Kt,tn,Yt)),an--,nn++}else break}}for(;an>=tn&&rn>=nn;){var sn=Kt[an],ln=Vt[rn];if(sn===ln&&!Gt)an--,rn--;else if(null==sn)an--;else if(null==ln)rn--;else if(sn.key===ln.key){var dn=null!=en&&an>=Kt.length-en.length||null==en&&Gt;ut(Wt,sn,ln,Xt,vt(Kt,an+1,Yt),dn,Jt),Gt&&sn.tag===ln.tag&&kt(Wt,yt(sn),Yt),null!=sn.dom&&(Yt=sn.dom),an--,rn--}else{if(on||(on=_t(Kt,an)),null!=ln){var cn=on[ln.key];if(null!=cn){var un=Kt[cn],dn=null!=en&&cn>=Kt.length-en.length||null==en&&Gt;ut(Wt,un,ln,Xt,vt(Kt,an+1,Yt),Gt,Jt),kt(Wt,yt(un),Yt),Kt[cn].skip=!0,null!=un.dom&&(Yt=un.dom)}else{var pn=at(Wt,ln,Xt,void 0,Yt);Yt=pn}}rn--}if(rn<nn)break}nt(Wt,Vt,nn,rn+1,Xt,Yt,Jt),St(Kt,tn,an+1,Vt)}}function ut(Wt,Kt,Vt,Gt,Xt,Yt,Jt){var Qt=Kt.tag,Zt=Vt.tag;if(Qt===Zt){if(Vt.state=Kt.state,Vt._state=Kt._state,Vt.events=Kt.events,!Yt&&zt(Vt,Kt))return;'string'==typeof Qt?(null!=Vt.attrs&&(Yt?(Vt.state={},Ut(Vt.attrs,Vt,Gt)):At(Vt.attrs,Vt,Gt)),'#'===Qt?pt(Kt,Vt):'<'===Qt?ft(Wt,Kt,Vt,Xt):'['===Qt?gt(Wt,Kt,Vt,Yt,Gt,Xt,Jt):mt(Kt,Vt,Yt,Gt,Jt)):ht(Wt,Kt,Vt,Gt,Xt,Yt,Jt)}else Et(Kt,null),at(Wt,Vt,Gt,Jt,Xt)}function pt(Wt,Kt){Wt.children.toString()!==Kt.children.toString()&&(Wt.dom.nodeValue=Kt.children),Kt.dom=Wt.dom}function ft(Wt,Kt,Vt,Gt){Kt.children===Vt.children?(Vt.dom=Kt.dom,Vt.domSize=Kt.domSize):(yt(Kt),ot(Wt,Vt,Gt))}function gt(Wt,Kt,Vt,Gt,Xt,Yt,Jt){ct(Wt,Kt.children,Vt.children,Gt,Xt,Yt,Jt);var Qt=0,Zt=Vt.children;if(Vt.dom=null,null!=Zt){for(var tn,en=0;en<Zt.length;en++)tn=Zt[en],null!=tn&&null!=tn.dom&&(null==Vt.dom&&(Vt.dom=tn.dom),Qt+=tn.domSize||1);1!==Qt&&(Vt.domSize=Qt)}}function mt(Wt,Kt,Vt,Gt,Xt){var Yt=Kt.dom=Wt.dom;switch(Kt.tag){case'svg':Xt='http://www.w3.org/2000/svg';break;case'math':Xt='http://www.w3.org/1998/Math/MathML';}'textarea'===Kt.tag&&(null==Kt.attrs&&(Kt.attrs={}),null!=Kt.text&&(Kt.attrs.value=Kt.text,Kt.text=void 0)),Rt(Kt,Wt.attrs,Kt.attrs,Xt),null!=Kt.attrs&&null!=Kt.attrs.contenteditable?xt(Kt):null!=Wt.text&&null!=Kt.text&&''!==Kt.text?Wt.text.toString()!==Kt.text.toString()&&(Wt.dom.firstChild.nodeValue=Kt.text):(null!=Wt.text&&(Wt.children=[Ie('#',void 0,void 0,Wt.text,void 0,Wt.dom.firstChild)]),null!=Kt.text&&(Kt.children=[Ie('#',void 0,void 0,Kt.text,void 0,void 0)]),ct(Yt,Wt.children,Kt.children,Vt,Gt,null,Xt))}function ht(Wt,Kt,Vt,Gt,Xt,Yt,Jt){if(Yt)lt(Vt,Gt);else{if(Vt.instance=Ie.normalize(Vt._state.view.call(Vt.state,Vt)),Vt.instance===Vt)throw Error('A view cannot return the vnode it received as argument');null!=Vt.attrs&&At(Vt.attrs,Vt,Gt),At(Vt._state,Vt,Gt)}null==Vt.instance?null==Kt.instance?(Vt.dom=Kt.dom,Vt.domSize=Kt.domSize):(Et(Kt.instance,null),Vt.dom=void 0,Vt.domSize=0):(null==Kt.instance?at(Wt,Vt.instance,Gt,Jt,Xt):ut(Wt,Kt.instance,Vt.instance,Gt,Xt,Yt,Jt),Vt.dom=Vt.instance.dom,Vt.domSize=Vt.instance.domSize)}function bt(Wt,Kt){if(null!=Wt.pool&&_Mathabs(Wt.pool.length-Kt.length)<=_Mathabs(Wt.length-Kt.length)){var Vt=Wt[0]&&Wt[0].children&&Wt[0].children.length||0,Gt=Wt.pool[0]&&Wt.pool[0].children&&Wt.pool[0].children.length||0,Xt=Kt[0]&&Kt[0].children&&Kt[0].children.length||0;if(_Mathabs(Gt-Xt)<=_Mathabs(Vt-Xt))return!0}return!1}function _t(Wt,Kt){for(var Xt,Vt={},Gt=0,Gt=0;Gt<Kt;Gt++)if(Xt=Wt[Gt],null!=Xt){var Yt=Xt.key;null!=Yt&&(Vt[Yt]=Gt)}return Vt}function yt(Wt){var Kt=Wt.domSize;if(null!=Kt||null==Wt.dom){var Vt=qt.createDocumentFragment();if(0<Kt){for(var Gt=Wt.dom;--Kt;)Vt.appendChild(Gt.nextSibling);Vt.insertBefore(Gt,Vt.firstChild)}return Vt}return Wt.dom}function vt(Wt,Kt,Vt){for(;Kt<Wt.length;Kt++)if(null!=Wt[Kt]&&null!=Wt[Kt].dom)return Wt[Kt].dom;return Vt}function kt(Wt,Kt,Vt){Vt&&Vt.parentNode?Wt.insertBefore(Kt,Vt):Wt.appendChild(Kt)}function xt(Wt){var Kt=Wt.children;if(null!=Kt&&1===Kt.length&&'<'===Kt[0].tag){var Vt=Kt[0].children;Wt.dom.innerHTML!==Vt&&(Wt.dom.innerHTML=Vt)}else if(null!=Wt.text||null!=Kt&&0!==Kt.length)throw new Error('Child node of a contenteditable must be trusted')}function St(Wt,Kt,Vt,Gt){for(var Yt,Xt=Kt;Xt<Vt;Xt++)Yt=Wt[Xt],null!=Yt&&(Yt.skip?Yt.skip=!1:Et(Yt,Gt))}function Et(Wt,Kt){function Vt(){if(++Xt==Gt&&(Ct(Wt),Wt.dom)){var Jt=Wt.domSize||1;if(1<Jt)for(var Qt=Wt.dom;--Jt;)wt(Qt.nextSibling);wt(Wt.dom),null==Kt||null!=Wt.domSize||Lt(Wt.attrs)||'string'!=typeof Wt.tag||(Kt.pool?Kt.pool.push(Wt):Kt.pool=[Wt])}}var Gt=1,Xt=0;if(Wt.attrs&&'function'==typeof Wt.attrs.onbeforeremove){var Yt=Wt.attrs.onbeforeremove.call(Wt.state,Wt);null!=Yt&&'function'==typeof Yt.then&&(Gt++,Yt.then(Vt,Vt))}if('string'!=typeof Wt.tag&&'function'==typeof Wt._state.onbeforeremove){var Yt=Wt._state.onbeforeremove.call(Wt.state,Wt);null!=Yt&&'function'==typeof Yt.then&&(Gt++,Yt.then(Vt,Vt))}Vt()}function wt(Wt){var Kt=Wt.parentNode;null!=Kt&&Kt.removeChild(Wt)}function Ct(Wt){if(Wt.attrs&&'function'==typeof Wt.attrs.onremove&&Wt.attrs.onremove.call(Wt.state,Wt),'string'!=typeof Wt.tag&&'function'==typeof Wt._state.onremove&&Wt._state.onremove.call(Wt.state,Wt),null!=Wt.instance)Ct(Wt.instance);else{var Kt=Wt.children;if(Array.isArray(Kt))for(var Gt,Vt=0;Vt<Kt.length;Vt++)Gt=Kt[Vt],null!=Gt&&Ct(Gt)}}function Ot(Wt,Kt,Vt){for(var Gt in Kt)Tt(Wt,Gt,null,Kt[Gt],Vt)}function Tt(Wt,Kt,Vt,Gt,Xt){var Yt=Wt.dom;if('key'!==Kt&&'is'!==Kt&&(Vt!==Gt||It(Wt,Kt)||'object'==typeof Gt)&&'undefined'!=typeof Gt&&!jt(Kt)){var Jt=Kt.indexOf(':');if(-1<Jt&&'xlink'===Kt.substr(0,Jt))Yt.setAttributeNS('http://www.w3.org/1999/xlink',Kt.slice(Jt+1),Gt);else if('o'===Kt[0]&&'n'===Kt[1]&&'function'==typeof Gt)Mt(Wt,Kt,Gt);else if('style'===Kt)Bt(Yt,Vt,Gt);else if(Kt in Yt&&!Pt(Kt)&&void 0===Xt&&!Dt(Wt)){if('input'===Wt.tag&&'value'===Kt&&Wt.dom.value==Gt&&Wt.dom===qt.activeElement)return;if('select'===Wt.tag&&'value'===Kt&&Wt.dom.value==Gt&&Wt.dom===qt.activeElement)return;if('option'===Wt.tag&&'value'===Kt&&Wt.dom.value==Gt)return;if('input'===Wt.tag&&'type'===Kt)return void Yt.setAttribute(Kt,Gt);Yt[Kt]=Gt}else'boolean'==typeof Gt?Gt?Yt.setAttribute(Kt,''):Yt.removeAttribute(Kt):Yt.setAttribute('className'===Kt?'class':Kt,Gt)}}function Nt(Wt){var Kt=Wt.attrs;'select'===Wt.tag&&null!=Kt&&('value'in Kt&&Tt(Wt,'value',null,Kt.value,void 0),'selectedIndex'in Kt&&Tt(Wt,'selectedIndex',null,Kt.selectedIndex,void 0))}function Rt(Wt,Kt,Vt,Gt){if(null!=Vt)for(var Xt in Vt)Tt(Wt,Xt,Kt&&Kt[Xt],Vt[Xt],Gt);if(null!=Kt)for(var Xt in Kt)null!=Vt&&Xt in Vt||('className'==Xt&&(Xt='class'),'o'!==Xt[0]||'n'!==Xt[1]||jt(Xt)?'key'!=Xt&&Wt.dom.removeAttribute(Xt):Mt(Wt,Xt,void 0))}function It(Wt,Kt){return'value'===Kt||'checked'===Kt||'selectedIndex'===Kt||'selected'===Kt&&Wt.dom===qt.activeElement}function jt(Wt){return'oninit'===Wt||'oncreate'===Wt||'onupdate'===Wt||'onremove'===Wt||'onbeforeremove'===Wt||'onbeforeupdate'===Wt}function Pt(Wt){return'href'===Wt||'list'===Wt||'form'===Wt||'width'===Wt||'height'===Wt}function Dt(Wt){return Wt.attrs.is||-1<Wt.tag.indexOf('-')}function Lt(Wt){return null!=Wt&&(Wt.oncreate||Wt.onupdate||Wt.onbeforeremove||Wt.onremove)}function Bt(Wt,Kt,Vt){if(Kt===Vt&&(Wt.style.cssText='',Kt=null),null==Vt)Wt.style.cssText='';else if('string'==typeof Vt)Wt.style.cssText=Vt;else{for(var Gt in'string'==typeof Kt&&(Wt.style.cssText=''),Vt)Wt.style[Gt]=Vt[Gt];if(null!=Kt&&'string'!=typeof Kt)for(var Gt in Kt)Gt in Vt||(Wt.style[Gt]='')}}function Mt(Wt,Kt,Vt){var Gt=Wt.dom,Xt='function'==typeof Ft?function(Jt){var Qt=Vt.call(Gt,Jt);return Ft.call(Gt,Jt),Qt}:Vt;if(Kt in Gt)Gt[Kt]='function'==typeof Vt?Xt:null;else{var Yt=Kt.slice(2);if(void 0===Wt.events&&(Wt.events={}),Wt.events[Kt]===Xt)return;null!=Wt.events[Kt]&&Gt.removeEventListener(Yt,Wt.events[Kt],!1),'function'==typeof Vt&&(Wt.events[Kt]=Xt,Gt.addEventListener(Yt,Wt.events[Kt],!1))}}function Ut(Wt,Kt,Vt){'function'==typeof Wt.oninit&&Wt.oninit.call(Kt.state,Kt),'function'==typeof Wt.oncreate&&Vt.push(Wt.oncreate.bind(Kt.state,Kt))}function At(Wt,Kt,Vt){'function'==typeof Wt.onupdate&&Vt.push(Wt.onupdate.bind(Kt.state,Kt))}function zt(Wt,Kt){var Vt,Gt;return null!=Wt.attrs&&'function'==typeof Wt.attrs.onbeforeupdate&&(Vt=Wt.attrs.onbeforeupdate.call(Wt.state,Wt,Kt)),'string'!=typeof Wt.tag&&'function'==typeof Wt._state.onbeforeupdate&&(Gt=Wt._state.onbeforeupdate.call(Wt.state,Wt,Kt)),void 0===Vt&&void 0===Gt||Vt||Gt?!1:(Wt.dom=Kt.dom,Wt.domSize=Kt.domSize,Wt.instance=Kt.instance,!0)}var Ft,qt=et.document,$t=qt.createDocumentFragment();return{render:function(Wt,Kt){if(!Wt)throw new Error('Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.');var Vt=[],Gt=qt.activeElement;null==Wt.vnodes&&(Wt.textContent=''),Array.isArray(Kt)||(Kt=[Kt]),ct(Wt,Wt.vnodes,Ie.normalizeChildren(Kt),!1,Vt,null,void 0),Wt.vnodes=Kt;for(var Xt=0;Xt<Vt.length;Xt++)Vt[Xt]();qt.activeElement!==Gt&&Gt.focus()},setEventCallback:function(Wt){return Ft=Wt}}},Ve=function(et){function nt(st){var it=ot.indexOf(st);-1<it&&ot.splice(it,2)}function at(){for(var st=1;st<ot.length;st+=2)ot[st]()}var rt=We(et);rt.setEventCallback(function(st){!1!==st.redraw&&at()});var ot=[];return{subscribe:function(st,it){nt(st),ot.push(st,Le(it))},unsubscribe:nt,redraw:at,render:rt.render}}(window);Fe.setCompletionCallback(Ve.redraw);Ae.mount=function(et){return function(tt,nt){if(null===nt)return et.render(tt,[]),void et.unsubscribe(tt);if(null==nt.view&&'function'!=typeof nt)throw new Error('m.mount(element, component) expects a component, not a vnode');et.subscribe(tt,function(){et.render(tt,Ie(nt))}),et.redraw()}}(Ve);var Ye=function(et){if(''===et||null==et)return{};'?'===et.charAt(0)&&(et=et.slice(1));for(var tt=et.split('&'),nt={},at={},rt=0;rt<tt.length;rt++){var ot=tt[rt].split('='),st=decodeURIComponent(ot[0]),it=2===ot.length?decodeURIComponent(ot[1]):'';'true'===it?it=!0:'false'===it&&(it=!1);var lt=st.split(/\]\[?|\[/),dt=nt;-1<st.indexOf('[')&&lt.pop();for(var ct=0;ct<lt.length;ct++){var ut=lt[ct],pt=lt[ct+1],ft=''==pt||!isNaN(parseInt(pt,10)),gt=ct===lt.length-1;if(''===ut){var st=lt.slice(0,ct).join();null==at[st]&&(at[st]=0),ut=at[st]++}null==dt[ut]&&(dt[ut]=gt?it:ft?[]:{}),dt=dt[ut]}}return nt},Je=function(et){function tt(lt){var dt=et.location[lt].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return'pathname'===lt&&'/'!==dt[0]&&(dt='/'+dt),dt}function nt(lt){return function(){null!=st||(st=ot(function(){st=null,lt()}))}}function at(lt,dt,ct){var ut=lt.indexOf('?'),pt=lt.indexOf('#'),ft=-1<ut?ut:-1<pt?pt:lt.length;if(-1<ut){var gt=-1<pt?pt:lt.length,mt=Ye(lt.slice(ut+1,gt));for(var ht in mt)dt[ht]=mt[ht]}if(-1<pt){var bt=Ye(lt.slice(pt+1));for(var ht in bt)ct[ht]=bt[ht]}return lt.slice(0,ft)}var st,rt='function'==typeof et.history.pushState,ot='function'==typeof setImmediate?setImmediate:setTimeout,it={prefix:'#!'};return it.getPath=function(){var lt=it.prefix.charAt(0);return'#'===lt?tt('hash').slice(it.prefix.length):'?'===lt?tt('search').slice(it.prefix.length)+tt('hash'):tt('pathname').slice(it.prefix.length)+tt('search')+tt('hash')},it.setPath=function(lt,dt,ct){var ut={},pt={};if(lt=at(lt,ut,pt),null!=dt){for(var ft in dt)ut[ft]=dt[ft];lt=lt.replace(/:([^\/]+)/g,function(_t,yt){return delete ut[yt],dt[yt]})}var gt=He(ut);gt&&(lt+='?'+gt);var mt=He(pt);if(mt&&(lt+='#'+mt),rt){var ht=ct?ct.state:null,bt=ct?ct.title:null;et.onpopstate(),ct&&ct.replace?et.history.replaceState(ht,bt,it.prefix+lt):et.history.pushState(ht,bt,it.prefix+lt)}else et.location.href=it.prefix+lt},it.defineRoutes=function(lt,dt,ct){function ut(){var pt=it.getPath(),ft={},gt=at(pt,ft,ft),mt=et.history.state;if(null!=mt)for(var ht in mt)ft[ht]=mt[ht];for(var bt in lt){var _t=new RegExp('^'+bt.replace(/:[^\/]+?\.{3}/g,'(.*?)').replace(/:[^\/]+/g,'([^\\/]+)')+'/?$');if(_t.test(gt))return void gt.replace(_t,function(){for(var yt=bt.match(/:[^\/]+/g)||[],vt=[].slice.call(arguments,1,-2),kt=0;kt<yt.length;kt++)ft[yt[kt].replace(/:|\./g,'')]=decodeURIComponent(vt[kt]);dt(lt[bt],ft,pt,bt)})}ct(pt,ft)}rt?et.onpopstate=nt(ut):'#'===it.prefix.charAt(0)&&(et.onhashchange=ut),ut()},it};Ae.route=function(et,tt){var rt,ot,st,it,lt,nt=Je(et),at=function(ct){return ct},dt=function(ct,ut,pt){if(null==ct)throw new Error('Ensure the DOM element that was passed to `m.route` is not undefined');var ft=function(){null!=rt&&tt.render(ct,rt(Ie(ot,st.key,st)))},gt=function(mt){if(mt!==ut)nt.setPath(ut,null,{replace:!0});else throw new Error('Could not resolve default route '+ut)};nt.defineRoutes(pt,function(mt,ht,bt){var _t=lt=function(yt,vt){_t!==lt||(ot=null!=vt&&('function'==typeof vt.view||'function'==typeof vt)?vt:'div',st=ht,it=bt,lt=null,rt=(yt.render||at).bind(yt),ft())};mt.view||'function'==typeof mt?_t({},mt):mt.onmatch?ze.resolve(mt.onmatch(ht,bt)).then(function(yt){_t(mt,yt)},gt):_t(mt,'div')},gt),tt.subscribe(ct,ft)};return dt.set=function(ct,ut,pt){null!=lt&&(pt={replace:!0}),lt=null,nt.setPath(ct,ut,pt)},dt.get=function(){return it},dt.prefix=function(ct){nt.prefix=ct},dt.link=function(ct){ct.dom.setAttribute('href',nt.prefix+ct.attrs.href),ct.dom.onclick=function(ut){if(!(ut.ctrlKey||ut.metaKey||ut.shiftKey||2===ut.which)){ut.preventDefault(),ut.redraw=!1;var pt=this.getAttribute('href');0===pt.indexOf(nt.prefix)&&(pt=pt.slice(nt.prefix.length)),dt.set(pt,void 0,void 0)}}},dt.param=function(ct){return'undefined'!=typeof st&&'undefined'!=typeof ct?st[ct]:st},dt}(window,Ve),Ae.withAttr=function(et,tt,nt){return function(at){tt.call(nt||this,et in at.currentTarget?at.currentTarget[et]:at.currentTarget.getAttribute(et))}};var Ze=We(window);Ae.render=Ze.render,Ae.redraw=Ve.redraw,Ae.request=Fe.request,Ae.jsonp=Fe.jsonp,Ae.parseQueryString=Ye,Ae.buildQueryString=He,Ae.version='1.1.1',Ae.vnode=Ie,Re.exports=Ae})()}),z={URL:'URL_ENDPOINT_CHANGE_ME',SENTRY_PUBLIC_DSN:''},H={flashMessage:''},q={isObject:function(Re){return'object'==typeof Re&&null!==Re},isError:function(Re){switch({}.toString.call(Re)){case'[object Error]':return!0;case'[object Exception]':return!0;case'[object DOMException]':return!0;default:return Re instanceof Error;}}},$={collectWindowErrors:!0,debug:!1},F='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,W=[].slice,K='?',V=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;$.report=function(){function De(Ke,Ve){var Ge=null;if(!Ve||$.collectWindowErrors){for(var Xe in ze)if(ze.hasOwnProperty(Xe))try{ze[Xe].apply(null,[Ke].concat(W.call(arguments,2)))}catch(Ye){Ge=Ye}if(Ge)throw Ge}}function Le(Ke,Ve,Ge,Xe,Ye){var Je=null;if($e)$.computeStackTrace.augmentStackTraceWithInitialElement($e,Ve,Ge,Ke),Ue();else if(Ye&&q.isError(Ye))Je=$.computeStackTrace(Ye),De(Je,!0);else{var Ze,tt,Qe={url:Ve,line:Ge,column:Xe},et=Ke;if('[object String]'==={}.toString.call(Ke)){var tt=Ke.match(V);tt&&(Ze=tt[1],et=tt[2])}Qe.func=K,Je={name:Ze,message:et,url:d(),stack:[Qe]},De(Je,!0)}return!!Fe&&Fe.apply(this,arguments)}function Be(){We||(Fe=F.onerror,F.onerror=Le,We=!0)}function Me(){We&&(F.onerror=Fe,We=!1,Fe=void 0)}function Ue(){var Ke=$e,Ve=He;He=null,$e=null,qe=null,De.apply(null,[Ke,!1].concat(Ve))}function Ae(Ke,Ve){var Ge=W.call(arguments,1);if($e){if(qe===Ke)return;Ue()}var Xe=$.computeStackTrace(Ke);if($e=Xe,qe=Ke,He=Ge,setTimeout(function(){qe===Ke&&Ue()},Xe.incomplete?2e3:0),!1!==Ve)throw Ke}var Fe,We,ze=[],He=null,qe=null,$e=null;return Ae.subscribe=function(Ke){Be(),ze.push(Ke)},Ae.unsubscribe=function(Ke){for(var Ve=ze.length-1;0<=Ve;--Ve)ze[Ve]===Ke&&ze.splice(Ve,1)},Ae.uninstall=function(){Me(),ze=[]},Ae}(),$.computeStackTrace=function(){function Ie(Le){if('undefined'!=typeof Le.stack&&Le.stack){for(var $e,Fe,We,Be=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Me=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,Ue=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ae=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ze=/\((\S*)(?::(\d+))(?::(\d+))\)/,He=Le.stack.split('\n'),qe=[],Ke=/^(.*) is undefined$/.exec(Le.message),Ve=0,Ge=He.length;Ve<Ge;++Ve){if(Fe=Be.exec(He[Ve])){var Xe=Fe[2]&&0===Fe[2].indexOf('native'),Ye=Fe[2]&&0===Fe[2].indexOf('eval');Ye&&($e=ze.exec(Fe[2]))&&(Fe[2]=$e[1],Fe[3]=$e[2],Fe[4]=$e[3]),We={url:Xe?null:Fe[2],func:Fe[1]||K,args:Xe?[Fe[2]]:[],line:Fe[3]?+Fe[3]:null,column:Fe[4]?+Fe[4]:null}}else if(Fe=Ue.exec(He[Ve]))We={url:Fe[2],func:Fe[1]||K,args:[],line:+Fe[3],column:Fe[4]?+Fe[4]:null};else if(Fe=Me.exec(He[Ve])){var Ye=Fe[3]&&-1<Fe[3].indexOf(' > eval');Ye&&($e=Ae.exec(Fe[3]))?(Fe[3]=$e[1],Fe[4]=$e[2],Fe[5]=null):0===Ve&&!Fe[5]&&'undefined'!=typeof Le.columnNumber&&(qe[0].column=Le.columnNumber+1),We={url:Fe[3],func:Fe[1]||K,args:Fe[2]?Fe[2].split(','):[],line:Fe[4]?+Fe[4]:null,column:Fe[5]?+Fe[5]:null}}else continue;!We.func&&We.line&&(We.func=K),qe.push(We)}return qe.length?{name:Le.name,message:Le.message,url:d(),stack:qe}:null}}function je(Le,Be,Me){var Ae={url:Be,line:Me};if(Ae.url&&Ae.line){if(Le.incomplete=!1,Ae.func||(Ae.func=K),0<Le.stack.length&&Le.stack[0].url===Ae.url){if(Le.stack[0].line===Ae.line)return!1;if(!Le.stack[0].line&&Le.stack[0].func===Ae.func)return Le.stack[0].line=Ae.line,!1}return Le.stack.unshift(Ae),Le.partial=!0,!0}return Le.incomplete=!0,!1}function Pe(Le,Be){for(var He,qe,Me=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,Ue=[],Ae={},ze=!1,Fe=Pe.caller;Fe&&!ze;Fe=Fe.caller)if(Fe!==De&&Fe!==$.report){if(qe={url:null,func:K,line:null,column:null},Fe.name?qe.func=Fe.name:(He=Me.exec(Fe.toString()))&&(qe.func=He[1]),'undefined'==typeof qe.func)try{qe.func=He.input.substring(0,He.input.indexOf('{'))}catch(Ke){}Ae[''+Fe]?ze=!0:Ae[''+Fe]=!0,Ue.push(qe)}Be&&Ue.splice(0,Be);var We={name:Le.name,message:Le.message,url:d(),stack:Ue};return je(We,Le.sourceURL||Le.fileName,Le.line||Le.lineNumber,Le.message||Le.description),We}function De(Le,Be){var Me=null;Be=null==Be?0:+Be;try{if(Me=Ie(Le),Me)return Me}catch(Ue){if($.debug)throw Ue}try{if(Me=Pe(Le,Be+1),Me)return Me}catch(Ue){if($.debug)throw Ue}return{name:Le.name,message:Le.message,url:d()}}return De.augmentStackTraceWithInitialElement=je,De.computeStackTraceFromStackProp=Ie,De}();var G=$,X=n(function(Re,Ie){'use strict';function je(Le,Be){for(var Me=0;Me<Le.length;++Me)if(Le[Me]===Be)return Me;return-1}function De(Le,Be){var Me=[],Ue=[];return null==Be&&(Be=function(Ae,ze){return Me[0]===ze?'[Circular ~]':'[Circular ~.'+Ue.slice(0,je(Me,ze)).join('.')+']'}),function(Ae,ze){if(0<Me.length){var He=je(Me,this);~He?Me.splice(He+1):Me.push(this),~He?Ue.splice(He,Infinity,Ae):Ue.push(Ae),~je(Me,ze)&&(ze=Be.call(this,Ae,ze))}else Me.push(ze);return null==Le?ze:Le.call(this,Ae,ze)}}Ie=Re.exports=function(Le,Be,Me,Ue){return JSON.stringify(Le,De(Be,Ue),Me)},Ie.getSerialize=De});u.prototype=new Error,u.prototype.constructor=u;var Y=u,Z=q.isError,ee=q.isObject,te={wrapMethod:function(Re,Ie,je){var Pe=Re[Ie];if(Ie in Re){var Le='warn'===Ie?'warning':Ie;Re[Ie]=function(){var Be=[].slice.call(arguments),Me=''+Be.join(' ');je&&je(Me,{level:Le,logger:'console',extra:{arguments:Be}}),Pe&&Function.prototype.apply.call(Pe,Re,Be)}}}}.wrapMethod,ne='source protocol user pass host port path'.split(' '),ae=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,re='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,oe=re.document,se=re.navigator;f.prototype={VERSION:'3.14.2',debug:!1,TraceKit:G,config:function(Re,Ie){var je=this;if(je._globalServer)return this._logDebug('error','Error: Raven has already been configured'),je;if(!Re)return je;var Pe=je._globalOptions;Ie&&S(Ie,function(Be,Me){'tags'===Be||'extra'===Be||'user'===Be?je._globalContext[Be]=Me:Pe[Be]=Me}),je.setDSN(Re),Pe.ignoreErrors.push(/^Script error\.?$/),Pe.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),Pe.ignoreErrors=O(Pe.ignoreErrors),Pe.ignoreUrls=!!Pe.ignoreUrls.length&&O(Pe.ignoreUrls),Pe.whitelistUrls=!!Pe.whitelistUrls.length&&O(Pe.whitelistUrls),Pe.includePaths=O(Pe.includePaths),Pe.maxBreadcrumbs=Math.max(0,Math.min(Pe.maxBreadcrumbs||100,100));var De={xhr:!0,console:!0,dom:!0,location:!0},Le=Pe.autoBreadcrumbs;return'[object Object]'==={}.toString.call(Le)?Le=E(De,Le):!1!==Le&&(Le=De),Pe.autoBreadcrumbs=Le,G.collectWindowErrors=!!Pe.collectWindowErrors,je},install:function(){var Re=this;return Re.isSetup()&&!Re._isRavenInstalled&&(G.report.subscribe(function(){Re._handleOnErrorStackInfo.apply(Re,arguments)}),Re._instrumentTryCatch(),Re._globalOptions.autoBreadcrumbs&&Re._instrumentBreadcrumbs(),Re._drainPlugins(),Re._isRavenInstalled=!0),Error.stackTraceLimit=Re._globalOptions.stackTraceLimit,this},setDSN:function(Re){var Ie=this,je=Ie._parseDSN(Re),Pe=je.path.lastIndexOf('/'),De=je.path.substr(1,Pe);Ie._dsn=Re,Ie._globalKey=je.user,Ie._globalSecret=je.pass&&je.pass.substr(1),Ie._globalProject=je.path.substr(Pe+1),Ie._globalServer=Ie._getGlobalServer(je),Ie._globalEndpoint=Ie._globalServer+'/'+De+'api/'+Ie._globalProject+'/store/',this._resetBackoff()},context:function(Re,Ie,je){return h(Re)&&(je=Ie||[],Ie=Re,Re=void 0),this.wrap(Re,Ie).apply(this,je)},wrap:function(Re,Ie,je){function Pe(){var Be=[],Me=arguments.length,Ue=!Re||Re&&!1!==Re.deep;for(je&&h(je)&&je.apply(this,arguments);Me--;)Be[Me]=Ue?De.wrap(Re,arguments[Me]):arguments[Me];try{return Ie.apply(this,Be)}catch(Ae){throw De._ignoreNextOnError(),De.captureException(Ae,Re),Ae}}var De=this;if(g(Ie)&&!h(Re))return Re;if(h(Re)&&(Ie=Re,Re=void 0),!h(Ie))return Ie;try{if(Ie.__raven__)return Ie;if(Ie.__raven_wrapper__)return Ie.__raven_wrapper__}catch(Be){return Ie}for(var Le in Ie)C(Ie,Le)&&(Pe[Le]=Ie[Le]);return Pe.prototype=Ie.prototype,Ie.__raven_wrapper__=Pe,Pe.__raven__=!0,Pe.__inner__=Ie,Pe},uninstall:function(){return G.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(Re,Ie){if(!Z(Re))return this.captureMessage(Re,E({trimHeadFrames:1,stacktrace:!0},Ie));this._lastCapturedException=Re;try{var je=G.computeStackTrace(Re);this._handleStackInfo(je,Ie)}catch(Pe){if(Re!==Pe)throw Pe}return this},captureMessage:function(Re,Ie){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(Re)){Ie=Ie||{};var je=E({message:Re+''},Ie);if(this._globalOptions.stacktrace||Ie&&Ie.stacktrace){var Pe;try{throw new Error(Re)}catch(Be){Pe=Be}Pe.name=null,Ie=E({fingerprint:Re,trimHeadFrames:(Ie.trimHeadFrames||0)+1},Ie);var De=G.computeStackTrace(Pe),Le=this._prepareFrames(De,Ie);je.stacktrace={frames:Le.reverse()}}return this._send(je),this}},captureBreadcrumb:function(Re){var Ie=E({timestamp:p()/1e3},Re);if(h(this._globalOptions.breadcrumbCallback)){var je=this._globalOptions.breadcrumbCallback(Ie);if(ee(je)&&!x(je))Ie=je;else if(!1===je)return this}return this._breadcrumbs.push(Ie),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(Re){var Ie=[].slice.call(arguments,1);return this._plugins.push([Re,Ie]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(Re){return this._globalContext.user=Re,this},setExtraContext:function(Re){return this._mergeContext('extra',Re),this},setTagsContext:function(Re){return this._mergeContext('tags',Re),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(X(this._globalContext))},setEnvironment:function(Re){return this._globalOptions.environment=Re,this},setRelease:function(Re){return this._globalOptions.release=Re,this},setDataCallback:function(Re){var Ie=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=h(Re)?function(je){return Re(je,Ie)}:Re,this},setBreadcrumbCallback:function(Re){var Ie=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=h(Re)?function(je){return Re(je,Ie)}:Re,this},setShouldSendCallback:function(Re){var Ie=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=h(Re)?function(je){return Re(je,Ie)}:Re,this},setTransport:function(Re){return this._globalOptions.transport=Re,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug('error','Error: Raven has not been configured.')),!1))},afterLoad:function(){var Re=re.RavenConfig;Re&&this.config(Re.dsn,Re.config).install()},showReportDialog:function(Re){if(oe){Re=Re||{};var Ie=Re.eventId||this.lastEventId();if(!Ie)throw new Y('Missing eventId');var je=Re.dsn||this._dsn;if(!je)throw new Y('Missing DSN');var Pe=encodeURIComponent,De='';De+='?eventId='+Pe(Ie),De+='&dsn='+Pe(je);var Le=Re.user||this._globalContext.user;Le&&(Le.name&&(De+='&name='+Pe(Le.name)),Le.email&&(De+='&email='+Pe(Le.email)));var Be=this._getGlobalServer(this._parseDSN(je)),Me=oe.createElement('script');Me.async=!0,Me.src=Be+'/api/embed/error-page/'+De,(oe.head||oe.body).appendChild(Me)}},_ignoreNextOnError:function(){var Re=this;this._ignoreOnError+=1,setTimeout(function(){Re._ignoreOnError-=1})},_triggerEvent:function(Re,Ie){var je,Pe;if(this._hasDocument){for(Pe in Ie=Ie||{},Re='raven'+Re.substr(0,1).toUpperCase()+Re.substr(1),oe.createEvent?(je=oe.createEvent('HTMLEvents'),je.initEvent(Re,!0,!0)):(je=oe.createEventObject(),je.eventType=Re),Ie)C(Ie,Pe)&&(je[Pe]=Ie[Pe]);if(oe.createEvent)oe.dispatchEvent(je);else try{oe.fireEvent('on'+je.eventType.toLowerCase(),je)}catch(De){}}},_breadcrumbEventHandler:function(Re){var Ie=this;return function(je){if(Ie._keypressTimeout=null,Ie._lastCapturedEvent!==je){Ie._lastCapturedEvent=je;var Pe;try{Pe=I(je.target)}catch(De){Pe='<unknown>'}Ie.captureBreadcrumb({category:'ui.'+Re,message:Pe})}}},_keypressEventHandler:function(){var Re=this;return function(je){var Pe;try{Pe=je.target}catch(Be){return}var De=Pe&&Pe.tagName;if(De&&('INPUT'===De||'TEXTAREA'===De||Pe.isContentEditable)){var Le=Re._keypressTimeout;Le||Re._breadcrumbEventHandler('input')(je),clearTimeout(Le),Re._keypressTimeout=setTimeout(function(){Re._keypressTimeout=null},1e3)}}},_captureUrlChange:function(Re,Ie){var je=N(this._location.href),Pe=N(Ie),De=N(Re);this._lastHref=Ie,je.protocol===Pe.protocol&&je.host===Pe.host&&(Ie=Pe.relative),je.protocol===De.protocol&&je.host===De.host&&(Re=De.relative),this.captureBreadcrumb({category:'navigation',data:{to:Ie,from:Re}})},_instrumentTryCatch:function(){function Re(Me){return function(){for(var ze=Array(arguments.length),He=0;He<ze.length;++He)ze[He]=arguments[He];var qe=ze[0];return h(qe)&&(ze[0]=je.wrap(qe)),Me.apply?Me.apply(this,ze):Me(ze[0],ze[1])}}function Ie(Me){var Ue=re[Me]&&re[Me].prototype;Ue&&Ue.hasOwnProperty&&Ue.hasOwnProperty('addEventListener')&&(M(Ue,'addEventListener',function(Ae){return function(ze,He,qe,$e){try{He&&He.handleEvent&&(He.handleEvent=je.wrap(He.handleEvent))}catch(Ve){}var Fe,We,Ke;return De&&De.dom&&('EventTarget'===Me||'Node'===Me)&&(We=je._breadcrumbEventHandler('click'),Ke=je._keypressEventHandler(),Fe=function(Ve){if(Ve){var Ge;try{Ge=Ve.type}catch(Xe){return}return'click'===Ge?We(Ve):'keypress'===Ge?Ke(Ve):void 0}}),Ae.call(this,ze,je.wrap(He,void 0,Fe),qe,$e)}},Pe),M(Ue,'removeEventListener',function(Ae){return function(ze,He,qe,$e){try{He=He&&(He.__raven_wrapper__?He.__raven_wrapper__:He)}catch(Fe){}return Ae.call(this,ze,He,qe,$e)}},Pe))}var je=this,Pe=je._wrappedBuiltIns,De=this._globalOptions.autoBreadcrumbs;M(re,'setTimeout',Re,Pe),M(re,'setInterval',Re,Pe),re.requestAnimationFrame&&M(re,'requestAnimationFrame',function(Me){return function(Ue){return Me(je.wrap(Ue))}},Pe);for(var Le=['EventTarget','Window','Node','ApplicationCache','AudioTrackList','ChannelMergerNode','CryptoOperation','EventSource','FileReader','HTMLUnknownElement','IDBDatabase','IDBRequest','IDBTransaction','KeyOperation','MediaController','MessagePort','ModalWindow','Notification','SVGElementInstance','Screen','TextTrack','TextTrackCue','TextTrackList','WebSocket','WebSocketWorker','Worker','XMLHttpRequest','XMLHttpRequestEventTarget','XMLHttpRequestUpload'],Be=0;Be<Le.length;Be++)Ie(Le[Be])},_instrumentBreadcrumbs:function(){function Re(ze,He){ze in He&&h(He[ze])&&M(He,ze,function(qe){return Ie.wrap(qe)})}var Ie=this,je=this._globalOptions.autoBreadcrumbs,Pe=Ie._wrappedBuiltIns;if(je.xhr&&'XMLHttpRequest'in re){var De=XMLHttpRequest.prototype;M(De,'open',function(ze){return function(He,qe){return y(qe)&&-1===qe.indexOf(Ie._globalKey)&&(this.__raven_xhr={method:He,url:qe,status_code:null}),ze.apply(this,arguments)}},Pe),M(De,'send',function(ze){return function(){function qe(){if($e.__raven_xhr&&(1===$e.readyState||4===$e.readyState)){try{$e.__raven_xhr.status_code=$e.status}catch(Ke){}Ie.captureBreadcrumb({type:'http',category:'xhr',data:$e.__raven_xhr})}}for(var $e=this,Fe=['onload','onerror','onprogress'],We=0;We<Fe.length;We++)Re(Fe[We],$e);return'onreadystatechange'in $e&&h($e.onreadystatechange)?M($e,'onreadystatechange',function(Ke){return Ie.wrap(Ke,void 0,qe)}):$e.onreadystatechange=qe,ze.apply(this,arguments)}},Pe)}je.xhr&&'fetch'in re&&M(re,'fetch',function(ze){return function(){for(var $e=Array(arguments.length),Fe=0;Fe<$e.length;++Fe)$e[Fe]=arguments[Fe];var Ve,We=$e[0],Ke='GET';'string'==typeof We?Ve=We:(Ve=We.url,We.method&&(Ke=We.method)),$e[1]&&$e[1].method&&(Ke=$e[1].method);var Ge={method:Ke,url:Ve,status_code:null};return Ie.captureBreadcrumb({type:'http',category:'fetch',data:Ge}),ze.apply(this,$e).then(function(Xe){return Ge.status_code=Xe.status,Xe})}},Pe),je.dom&&this._hasDocument&&(oe.addEventListener?(oe.addEventListener('click',Ie._breadcrumbEventHandler('click'),!1),oe.addEventListener('keypress',Ie._keypressEventHandler(),!1)):(oe.attachEvent('onclick',Ie._breadcrumbEventHandler('click')),oe.attachEvent('onkeypress',Ie._keypressEventHandler())));var Le=re.chrome,Be=Le&&Le.app&&Le.app.runtime,Me=!Be&&re.history&&history.pushState;if(je.location&&Me){var Ue=re.onpopstate;re.onpopstate=function(){var ze=Ie._location.href;if(Ie._captureUrlChange(Ie._lastHref,ze),Ue)return Ue.apply(this,arguments)},M(history,'pushState',function(ze){return function(){var He=2<arguments.length?arguments[2]:void 0;return He&&Ie._captureUrlChange(Ie._lastHref,He+''),ze.apply(this,arguments)}},Pe)}if(je.console&&'console'in re&&console.log){var Ae=function(ze,He){Ie.captureBreadcrumb({message:ze,level:He.level,category:'console'})};S(['debug','info','warn','error','log'],function(ze,He){te(console,He,Ae)})}},_restoreBuiltIns:function(){for(var Re;this._wrappedBuiltIns.length;){Re=this._wrappedBuiltIns.shift();var Ie=Re[0],je=Re[1],Pe=Re[2];Ie[je]=Pe}},_drainPlugins:function(){var Re=this;S(this._plugins,function(Ie,je){var Pe=je[0],De=je[1];Pe.apply(Re,[Re].concat(De))})},_parseDSN:function(Re){var Ie=ae.exec(Re),je={},Pe=7;try{for(;Pe--;)je[ne[Pe]]=Ie[Pe]||''}catch(De){throw new Y('Invalid DSN: '+Re)}if(je.pass&&!this._globalOptions.allowSecretKey)throw new Y('Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key');return je},_getGlobalServer:function(Re){var Ie='//'+Re.host+(Re.port?':'+Re.port:'');return Re.protocol&&(Ie=Re.protocol+':'+Ie),Ie},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(Re,Ie){var je=this._prepareFrames(Re,Ie);this._triggerEvent('handle',{stackInfo:Re,options:Ie}),this._processException(Re.name,Re.message,Re.url,Re.lineno,je,Ie)},_prepareFrames:function(Re,Ie){var je=this,Pe=[];if(Re.stack&&Re.stack.length&&(S(Re.stack,function(Le,Be){var Me=je._normalizeFrame(Be);Me&&Pe.push(Me)}),Ie&&Ie.trimHeadFrames))for(var De=0;De<Ie.trimHeadFrames&&De<Pe.length;De++)Pe[De].in_app=!1;return Pe=Pe.slice(0,this._globalOptions.stackTraceLimit),Pe},_normalizeFrame:function(Re){if(Re.url){var Ie={filename:Re.url,lineno:Re.line,colno:Re.column,'function':Re.func||'?'};return Ie.in_app=(!this._globalOptions.includePaths.test||this._globalOptions.includePaths.test(Ie.filename))&&!/(Raven|TraceKit)\./.test(Ie['function'])&&!/raven\.(min\.)?js$/.test(Ie.filename),Ie}},_processException:function(Re,Ie,je,Pe,De,Le){var Be;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(Ie))&&(Ie+='',De&&De.length?(je=De[0].filename||je,De.reverse(),Be={frames:De}):je&&(Be={frames:[{filename:je,lineno:Pe,in_app:!0}]}),!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(je))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(je))){var Me=E({exception:{values:[{type:Re,value:Ie,stacktrace:Be}]},culprit:je},Le);this._send(Me)}},_trimPacket:function(Re){var Ie=this._globalOptions.maxMessageLength;if(Re.message&&(Re.message=w(Re.message,Ie)),Re.exception){var je=Re.exception.values[0];je.value=w(je.value,Ie)}var Pe=Re.request;return Pe&&(Pe.url&&(Pe.url=w(Pe.url,this._globalOptions.maxUrlLength)),Pe.Referer&&(Pe.Referer=w(Pe.Referer,this._globalOptions.maxUrlLength))),Re.breadcrumbs&&Re.breadcrumbs.values&&this._trimBreadcrumbs(Re.breadcrumbs),Re},_trimBreadcrumbs:function(Re){for(var je,Pe,De,Ie=['to','from','url'],Le=0;Le<Re.values.length;++Le)if(Pe=Re.values[Le],Pe.hasOwnProperty('data')&&ee(Pe.data)){De=Pe.data;for(var Be=0;Be<Ie.length;++Be)je=Ie[Be],De.hasOwnProperty(je)&&(De[je]=w(De[je],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var Re={};return this._hasNavigator&&se.userAgent&&(Re.headers={'User-Agent':navigator.userAgent}),this._hasDocument&&(oe.location&&oe.location.href&&(Re.url=oe.location.href),oe.referrer&&(!Re.headers&&(Re.headers={}),Re.headers.Referer=oe.referrer)),Re}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&p()-this._backoffStart<this._backoffDuration},_isRepeatData:function(Re){var Ie=this._lastData;if(!Ie||Re.message!==Ie.message||Re.culprit!==Ie.culprit)return!1;return Re.stacktrace||Ie.stacktrace?B(Re.stacktrace,Ie.stacktrace):Re.exception||Ie.exception?L(Re.exception,Ie.exception):!0},_setBackoffState:function(Re){if(!this._shouldBackoff()){var Ie=Re.status;if(400===Ie||401===Ie||429===Ie){var je;try{je=Re.getResponseHeader('Retry-After'),je=1e3*parseInt(je,10)}catch(Pe){}this._backoffDuration=je?je:2*this._backoffDuration||1e3,this._backoffStart=p()}}},_send:function(Re){var Ie=this._globalOptions,je={project:this._globalProject,logger:Ie.logger,platform:'javascript'},Pe=this._getHttpData();return Pe&&(je.request=Pe),Re.trimHeadFrames&&delete Re.trimHeadFrames,Re=E(je,Re),Re.tags=E(E({},this._globalContext.tags),Re.tags),Re.extra=E(E({},this._globalContext.extra),Re.extra),Re.extra['session:duration']=p()-this._startTime,this._breadcrumbs&&0<this._breadcrumbs.length&&(Re.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),x(Re.tags)&&delete Re.tags,this._globalContext.user&&(Re.user=this._globalContext.user),Ie.environment&&(Re.environment=Ie.environment),Ie.release&&(Re.release=Ie.release),Ie.serverName&&(Re.server_name=Ie.serverName),h(Ie.dataCallback)&&(Re=Ie.dataCallback(Re)||Re),!Re||x(Re)||h(Ie.shouldSendCallback)&&!Ie.shouldSendCallback(Re)?void 0:this._shouldBackoff()?void this._logDebug('warn','Raven dropped error due to backoff: ',Re):void('number'==typeof Ie.sampleRate?Math.random()<Ie.sampleRate&&this._sendProcessedPayload(Re):this._sendProcessedPayload(Re))},_getUuid:function(){return R()},_sendProcessedPayload:function(Re,Ie){var je=this,Pe=this._globalOptions;if(this.isSetup()){if(this._lastEventId=Re.event_id||(Re.event_id=this._getUuid()),Re=this._trimPacket(Re),!this._globalOptions.allowDuplicates&&this._isRepeatData(Re))return void this._logDebug('warn','Raven dropped repeat event: ',Re);this._lastData=Re,this._logDebug('debug','Raven about to send:',Re);var De={sentry_version:'7',sentry_client:'raven-js/'+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(De.sentry_secret=this._globalSecret);var Le=Re.exception&&Re.exception.values[0];this.captureBreadcrumb({category:'sentry',message:Le?(Le.type?Le.type+': ':'')+Le.value:Re.message,event_id:Re.event_id,level:Re.level||'error'});var Be=this._globalEndpoint;(Pe.transport||this._makeRequest).call(this,{url:Be,auth:De,data:Re,options:Pe,onSuccess:function(){je._resetBackoff(),je._triggerEvent('success',{data:Re,src:Be}),Ie&&Ie()},onError:function(Ue){je._logDebug('error','Raven transport failed to send: ',Ue),Ue.request&&je._setBackoffState(Ue.request),je._triggerEvent('failure',{data:Re,src:Be}),Ue=Ue||new Error('Raven send failed (no additional details provided)'),Ie&&Ie(Ue)}})}},_makeRequest:function(Re){var Ie=new XMLHttpRequest,je='withCredentials'in Ie||'undefined'!=typeof XDomainRequest;if(je){var Pe=Re.url;'withCredentials'in Ie?Ie.onreadystatechange=function(){if(4===Ie.readyState)if(200===Ie.status)Re.onSuccess&&Re.onSuccess();else if(Re.onError){var De=new Error('Sentry error code: '+Ie.status);De.request=Ie,Re.onError(De)}}:(Ie=new XDomainRequest,Pe=Pe.replace(/^https?:/,''),Re.onSuccess&&(Ie.onload=Re.onSuccess),Re.onError&&(Ie.onerror=function(){var De=new Error('Sentry error code: XDomainRequest');De.request=Ie,Re.onError(De)})),Ie.open('POST',Pe+'?'+T(Re.auth)),Ie.send(X(Re.data))}},_logDebug:function(Re){this._originalConsoleMethods[Re]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[Re],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(Re,Ie){g(Ie)?delete this._globalContext[Re]:this._globalContext[Re]=E(this._globalContext[Re]||{},Ie)}};var ie=Object.prototype;'undefined'!=typeof __DEV__&&__DEV__&&(f.utils={isUndefined:g,isFunction:h,isString:y,isObject:ee,isEmptyObject:x,isError:Z,each:S,objectMerge:E,truncate:w,hasKey:C,joinRegExp:O,urlencode:T,uuid4:R,htmlTreeAsString:I,htmlElementAsString:P,parseUrl:N,fill:M}),f.prototype.setUser=f.prototype.setUserContext,f.prototype.setReleaseContext=f.prototype.setRelease;var de='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,ce=de.Raven,ue=new f;ue.noConflict=function(){return de.Raven=ce,ue},ue.afterLoad();var pe=ue,fe={requestToken:function(Re){return A.request({method:'POST',url:z.URL+'/token/request',withCredentials:!0,data:{email:Re}}).then(function(Ie){console.log(Ie),H.flashMessage=Ie.note}).catch(function(Ie){pe.captureException(Ie)})},activateToken:function(Re){return A.request({method:'POST',url:z.URL+'/token/activate',withCredentials:!0,data:{token:Re}}).then(function(Ie){window.localStorage.setItem('hydrocarbon-key',Ie.key),window.localStorage.setItem('hydrocarbon-email',Ie.email),H.flashMessage='logged in ok'})},logout:function(){return A.request({method:'POST',url:z.URL+'/key/deactivate',withCredentials:!0,data:{key:window.localStorage.getItem('hydrocarbon-key')}}).then(function(){window.localStorage.removeItem('hydrocarbon-key'),window.localStorage.removeItem('hydrocarbon-email'),H.flashMessage='logged out'})},loggedIn:function(){return null!==window.localStorage.getItem('hydrocarbon-key')},loggedInUser:function(){return null===window.localStorage.getItem('hydrocarbon-key')?'':window.localStorage.getItem('hydrocarbon-email')}},he='link dim gray    f6 f5-ns dib mr3',be={view(){return A('nav',{class:'pa1 pa2-ns'},A('a',{class:'link dim black b f6 f5-ns dib mr3',href:'/',oncreate:A.route.link},'hydrocarbon'),fe.loggedIn()?[A('a',{class:he,href:'/settings',oncreate:A.route.link},fe.loggedInUser()),A('a',{class:he,href:'/settings',oncreate:A.route.link},'settings'),A('a',{class:he,href:'/logout',oncreate:A.route.link},'logout')]:A('a',{class:he,href:'/login',oncreate:A.route.link},'login'))}},ye='f6 dib ph2 link mid-gray dim',ke={view(){return A('footer',{class:'ph3 pv2 ph5-m w-100 mid-gray absolute bottom-1'},[A('small',{class:'f6 db tc'},'\xA9 2017 ',A('b',{class:'b'},'hydrocarbon')),A('div',{class:'flex items-center justify-center tc mt2'},A('a',{class:'f6 dib ph2 link mid-gray dim bottom-0 lh0',style:'height: 16px;',href:'https://github.com/fortytw2/hydrocarbon?ref=hc'},A('svg',{fill:'currentColor',xmlns:'http://www.w3.org/2000/svg',width:'16px',height:'16px','view-box':'0 0 16 16','fill-rule':'evenodd','clip-rule':'evenodd','stroke-linejoin':'round','stroke-miterlimit':'1.414'},A('path',{d:'M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8'}))),A('a',{class:ye,href:'/terms-and-conditions',oncreate:A.route.link},'terms and conditions'),A('a',{class:ye,href:'/promise',oncreate:A.route.link},'promise'),A('a',{class:ye,href:'/privacy-policy',oncreate:A.route.link},'privacy'))])}},xe={view(){if(''!==H.flashMessage){var Ie=H.flashMessage;return H.flashMessage='',A('div',{onchange:function(je){H.flashMessage[je.target.name]=je.target.value},class:'flex items-center justify-center pa4 bg-lightest-red red'},A('span',{class:'lh-title ml3'},Ie))}}},Se={view(Re){return A('div',{class:'min-vh-100'},[A(be),A(xe),A('div',{class:'fl w-100 pa2 h-auto'},Re.children),A(ke)])}},we={view(){return A('form',{class:'measure center',onsubmit:function(Ie){Ie.preventDefault(),fe.requestToken(document.getElementById('email').value)}},[A('fieldset',{class:'ba b--transparent ph0 mh0'},A('div',{class:'mt3'},[A('label',{class:'db fw6 lh-copy f6',for:'email-address'},'we\'ll send you a link to login'),A('input',{class:'pa2 input-reset ba bg-transparent w-100',placeholder:'example@example.com',id:'email',type:'email',name:'email-address'})])),A('div',A('input',{class:'b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib',type:'submit'},'send link'))])}},Ce={oncreate(){fe.logout()},view(){return A.route.set('/login')}},Oe={oncreate(){fe.activateToken(A.route.param('key'))},view(){return A.route.set('/')}},Te={view(){return A('h1','settings page not finished')}},Ne={view(){return A('h1','sessions page not finished')}};A.route.prefix(''),A.route(document.body,'/',{'/':{render:function(){return A(Se,A('p','this is the homepage'))}},'/about':{render:function(){return A(Se,A('p','this is the about page'))}},'/privacy-policy':{render:function(){return A(Se,A('p','this is privacy policy'))}},'/terms-and-conditions':{render:function(){return A(Se,A('p','this is terms and conditions'))}},'/promise':{render:function(){return A(Se,A('p','this is the hydrocarbon promise'))}},'/login':{render:function(){return A(Se,A(we))}},'/logout':{render:function(){return A(Se,A(Ce))}},'/login-callback':{render:function(){return A(Se,A(Oe))}},'/settings':{render:function(){return A(Se,A(Te))}},'/settings/sessions':{render:function(){return A(Se,A(Ne))}}}),''!==z.SENTRY_PUBLIC_DSN&&(console.log('installing sentry',z.SENTRY_PUBLIC_DSN),pe.config(z.SENTRY_PUBLIC_DSN,{environment:'HYDROCARBON_ENV',autoBreadcrumbs:{xhr:!0,console:!0,dom:!0,location:!0}}).install())})();
//# sourceMappingURL=bundle.min.js.map
