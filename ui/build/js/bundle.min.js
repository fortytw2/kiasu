var _Mathabs=Math.abs;(function(){'use strict';function n(Ne,Re){return Re={exports:{}},Ne(Re,Re.exports),Re.exports}function d(){return'undefined'==typeof document||'undefined'==typeof document.location?'':document.location.href}function u(Ne){this.name='RavenConfigError',this.message=Ne}function p(){return+new Date}function f(){for(var Ne in this._hasJSON=!!('object'==typeof JSON&&JSON.stringify),this._hasDocument=!g(oe),this._hasNavigator=!g(ie),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:'javascript',ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:'anonymous',collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=re.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=p(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=re.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[Ne]=this._originalConsole[Ne]}function g(Ne){return void 0===Ne}function h(Ne){return'function'==typeof Ne}function y(Ne){return'[object String]'===se.toString.call(Ne)}function x(Ne){for(var Re in Ne)return!1;return!0}function S(Ne,Re){var Ie,je;if(g(Ne.length))for(Ie in Ne)C(Ne,Ie)&&Re.call(null,Ie,Ne[Ie]);else if(je=Ne.length,je)for(Ie=0;Ie<je;Ie++)Re.call(null,Ie,Ne[Ie])}function E(Ne,Re){return Re?(S(Re,function(Ie,je){Ne[Ie]=je}),Ne):Ne}function w(Ne,Re){return!Re||Ne.length<=Re?Ne:Ne.substr(0,Re)+'\u2026'}function C(Ne,Re){return se.hasOwnProperty.call(Ne,Re)}function O(Ne){for(var Pe,Re=[],Ie=0,je=Ne.length;Ie<je;Ie++)Pe=Ne[Ie],y(Pe)?Re.push(Pe.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,'\\$1')):Pe&&Pe.source&&Re.push(Pe.source);return new RegExp(Re.join('|'),'i')}function T(Ne){var Re=[];return S(Ne,function(Ie,je){Re.push(encodeURIComponent(Ie)+'='+encodeURIComponent(je))}),Re.join('&')}function N(Ne){var Re=Ne.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Re)return{};var Ie=Re[6]||'',je=Re[8]||'';return{protocol:Re[2],host:Re[4],path:Re[5],relative:Re[5]+Ie+je}}function R(){var Ne=re.crypto||re.msCrypto;if(!g(Ne)&&Ne.getRandomValues){var Re=new Uint16Array(8);Ne.getRandomValues(Re),Re[3]=16384|4095&Re[3],Re[4]=32768|16383&Re[4];var Ie=function(je){for(var Pe=je.toString(16);4>Pe.length;)Pe='0'+Pe;return Pe};return Ie(Re[0])+Ie(Re[1])+Ie(Re[2])+Ie(Re[3])+Ie(Re[4])+Ie(Re[5])+Ie(Re[6])+Ie(Re[7])}return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(je){var Pe=0|16*Math.random(),De='x'===je?Pe:8|3&Pe;return De.toString(16)})}function I(Ne){for(var Me,je=[],Pe=0,De=0,Le=' > ',Be=Le.length;Ne&&Pe++<5&&(Me=P(Ne),!('html'===Me||1<Pe&&De+je.length*Be+Me.length>=80));)je.push(Me),De+=Me.length,Ne=Ne.parentNode;return je.reverse().join(Le)}function P(Ne){var Ie,je,Pe,De,Le,Re=[];if(!Ne||!Ne.tagName)return'';if(Re.push(Ne.tagName.toLowerCase()),Ne.id&&Re.push('#'+Ne.id),Ie=Ne.className,Ie&&y(Ie))for(je=Ie.split(/\s+/),Le=0;Le<je.length;Le++)Re.push('.'+je[Le]);var Be=['type','name','title','alt'];for(Le=0;Le<Be.length;Le++)Pe=Be[Le],De=Ne.getAttribute(Pe),De&&Re.push('['+Pe+'="'+De+'"]');return Re.join('')}function D(Ne,Re){return!!(!!Ne^!!Re)}function L(Ne,Re){return!D(Ne,Re)&&(Ne=Ne.values[0],Re=Re.values[0],Ne.type!==Re.type||Ne.value!==Re.value?!1:B(Ne.stacktrace,Re.stacktrace))}function B(Ne,Re){if(D(Ne,Re))return!1;var Ie=Ne.frames,je=Re.frames;if(Ie.length!==je.length)return!1;for(var Pe,De,Le=0;Le<Ie.length;Le++)if(Pe=Ie[Le],De=je[Le],Pe.filename!==De.filename||Pe.lineno!==De.lineno||Pe.colno!==De.colno||Pe['function']!==De['function'])return!1;return!0}function M(Ne,Re,Ie,je){var Pe=Ne[Re];Ne[Re]=Ie(Pe),je&&je.push([Ne,Re,Pe])}var U='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,A=n(function(Ne){(function(){'use strict';function Re(Ze,et,tt,nt,at,rt){return{tag:Ze,key:et,attrs:tt,children:nt,text:at,dom:rt,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function Ie(Ze){for(var et,tt='div',nt=[],at={};et=Le.exec(Ze);){var rt=et[1],ot=et[2];if(''===rt&&''!==ot)tt=ot;else if('#'===rt)at.id=ot;else if('.'===rt)nt.push(ot);else if('['===et[3][0]){var it=et[6];it&&(it=it.replace(/\\(["'])/g,'$1').replace(/\\\\/g,'\\')),'class'===et[4]?nt.push(it):at[et[4]]=it||!0}}return 0<nt.length&&(at.className=nt.join(' ')),Be[Ze]={tag:tt,attrs:at}}function je(Ze,et,tt){var at,rt,nt=!1,ot=et.className||et.class;for(var it in Ze.attrs)Me.call(Ze.attrs,it)&&(et[it]=Ze.attrs[it]);for(var it in void 0!==ot&&(void 0!==et.class&&(et.class=void 0,et.className=ot),null!=Ze.attrs.className&&(et.className=Ze.attrs.className+' '+ot)),et)if(Me.call(et,it)&&'key'!=it){nt=!0;break}return Array.isArray(tt)&&1===tt.length&&null!=tt[0]&&'#'===tt[0].tag?rt=tt[0].children:at=tt,Re(Ze.tag,et.key,nt?et:void 0,at,rt)}function Pe(Ze){var nt,et=arguments[1],tt=2;if(null==Ze||'string'!=typeof Ze&&'function'!=typeof Ze&&'function'!=typeof Ze.view)throw Error('The selector must be either a string or a component.');if('string'==typeof Ze)var at=Be[Ze]||Ie(Ze);if(null==et?et={}:('object'!=typeof et||null!=et.tag||Array.isArray(et))&&(et={},tt=1),arguments.length===tt+1)nt=arguments[tt],Array.isArray(nt)||(nt=[nt]);else for(nt=[];tt<arguments.length;)nt.push(arguments[tt++]);var rt=Re.normalizeChildren(nt);return'string'==typeof Ze?je(at,et,rt):Re(Ze,et.key,et,rt)}function De(Ze){var et=16,tt=0,nt=null,at='function'==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var rt=Date.now();0==tt||rt-tt>=et?(tt=rt,Ze()):null==nt&&(nt=at(function(){nt=null,Ze(),tt=Date.now()},et-(rt-tt)))}}Re.normalize=function(Ze){return Array.isArray(Ze)?Re('[',void 0,void 0,Re.normalizeChildren(Ze),void 0,void 0):null!=Ze&&'object'!=typeof Ze?Re('#',void 0,void 0,!1===Ze?'':Ze,void 0,void 0):Ze},Re.normalizeChildren=function(et){for(var tt=0;tt<et.length;tt++)et[tt]=Re.normalize(et[tt]);return et};var Le=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Be={},Me={}.hasOwnProperty;Pe.trust=function(Ze){return null==Ze&&(Ze=''),Re('<',void 0,void 0,Ze,void 0,void 0)},Pe.fragment=function(Ze,et){return Re('[',Ze.key,Ze,Re.normalizeChildren(et),void 0,void 0)};var Ue=Pe,Ae=function(Ze){function et(dt,ct){return function ut(pt){var ft;try{if(ct&&null!=pt&&('object'==typeof pt||'function'==typeof pt)&&'function'==typeof(ft=pt.then)){if(pt===nt)throw new TypeError('Promise can\'t be resolved w/ itself');tt(ft.bind(pt))}else lt(function(){ct||0!==dt.length||console.error('Possible unhandled promise rejection:',pt);for(var gt=0;gt<dt.length;gt++)dt[gt](pt);at.length=0,rt.length=0,st.state=ct,st.retry=function(){ut(pt)}})}catch(gt){it(gt)}}}function tt(dt){function ct(ft){return function(gt){0<ut++||ft(gt)}}var ut=0,pt=ct(it);try{dt(ct(ot),pt)}catch(ft){pt(ft)}}if(!(this instanceof Ae))throw new Error('Promise must be called with `new`');if('function'!=typeof Ze)throw new TypeError('executor must be a function');var nt=this,at=[],rt=[],ot=et(at,!0),it=et(rt,!1),st=nt._instance={resolvers:at,rejectors:rt},lt='function'==typeof setImmediate?setImmediate:setTimeout;tt(Ze)};if(Ae.prototype.then=function(Ze,et){function tt(st,lt,dt,ct){lt.push(function(ut){if('function'!=typeof st)dt(ut);else try{rt(st(ut))}catch(pt){ot&&ot(pt)}}),'function'==typeof at.retry&&ct===at.state&&at.retry()}var rt,ot,nt=this,at=nt._instance,it=new Ae(function(st,lt){rt=st,ot=lt});return tt(Ze,at.resolvers,rt,!0),tt(et,at.rejectors,ot,!1),it},Ae.prototype.catch=function(Ze){return this.then(null,Ze)},Ae.resolve=function(Ze){return Ze instanceof Ae?Ze:new Ae(function(et){et(Ze)})},Ae.reject=function(Ze){return new Ae(function(et,tt){tt(Ze)})},Ae.all=function(Ze){return new Ae(function(et,tt){var nt=Ze.length,at=0,rt=[];if(0===Ze.length)et([]);else for(var ot=0;ot<Ze.length;ot++)(function(it){function st(lt){at++,rt[it]=lt,at===nt&&et(rt)}null!=Ze[it]&&('object'==typeof Ze[it]||'function'==typeof Ze[it])&&'function'==typeof Ze[it].then?Ze[it].then(st,tt):st(Ze[it])})(ot)})},Ae.race=function(Ze){return new Ae(function(et,tt){for(var nt=0;nt<Ze.length;nt++)Ze[nt].then(et,tt)})},'undefined'!=typeof window){'undefined'==typeof window.Promise&&(window.Promise=Ae);var Ae=window.Promise}else if('undefined'!=typeof U){'undefined'==typeof U.Promise&&(U.Promise=Ae);var Ae=U.Promise}else;var ze=function(Ze){function et(at,rt){if(Array.isArray(rt))for(var ot=0;ot<rt.length;ot++)et(at+'['+ot+']',rt[ot]);else if('[object Object]'===Object.prototype.toString.call(rt))for(var ot in rt)et(at+'['+ot+']',rt[ot]);else tt.push(encodeURIComponent(at)+(null!=rt&&''!==rt?'='+encodeURIComponent(rt):''))}if('[object Object]'!==Object.prototype.toString.call(Ze))return'';var tt=[];for(var nt in Ze)et(nt,Ze[nt]);return tt.join('&')},He=/^file:\/\//i,$e=function(Ze,et){function nt(){function ft(){0==--gt&&'function'==typeof pt&&pt()}var gt=0;return function mt(ht){var bt=ht.then;return ht.then=function(){gt++;var _t=bt.apply(ht,arguments);return _t.then(ft,function(yt){if(ft(),0==gt)throw yt}),mt(_t)},ht}}function at(ft,gt){if('string'==typeof ft){var mt=ft;ft=gt||{},null==ft.url&&(ft.url=mt)}return ft}function it(ft,gt){if(null==gt)return ft;for(var bt,mt=ft.match(/:[^\/]+/gi)||[],ht=0;ht<mt.length;ht++)bt=mt[ht].slice(1),null!=gt[bt]&&(ft=ft.replace(mt[ht],gt[bt]));return ft}function st(ft,gt){var mt=ze(gt);if(''!==mt){var ht=0>ft.indexOf('?')?'?':'&';ft+=ht+mt}return ft}function lt(ft){try{return''===ft?null:JSON.parse(ft)}catch(gt){throw new Error(ft)}}function dt(ft){return ft.responseText}function ct(ft,gt){if('function'==typeof ft)if(Array.isArray(gt))for(var mt=0;mt<gt.length;mt++)gt[mt]=new ft(gt[mt]);else return new ft(gt);return gt}var pt,ut=0;return{request:function(ft,gt){var mt=nt();ft=at(ft,gt);var ht=new et(function(bt,_t){null==ft.method&&(ft.method='GET'),ft.method=ft.method.toUpperCase();var yt='GET'===ft.method||'TRACE'===ft.method?!1:'boolean'!=typeof ft.useBody||ft.useBody;'function'!=typeof ft.serialize&&(ft.serialize='undefined'!=typeof FormData&&ft.data instanceof FormData?function(Et){return Et}:JSON.stringify),'function'!=typeof ft.deserialize&&(ft.deserialize=lt),'function'!=typeof ft.extract&&(ft.extract=dt),ft.url=it(ft.url,ft.data),yt?ft.data=ft.serialize(ft.data):ft.url=st(ft.url,ft.data);var vt=new Ze.XMLHttpRequest,kt=!1,xt=vt.abort;for(var St in vt.abort=function(){kt=!0,xt.call(vt)},vt.open(ft.method,ft.url,'boolean'!=typeof ft.async||ft.async,'string'==typeof ft.user?ft.user:void 0,'string'==typeof ft.password?ft.password:void 0),ft.serialize===JSON.stringify&&yt&&vt.setRequestHeader('Content-Type','application/json; charset=utf-8'),ft.deserialize===lt&&vt.setRequestHeader('Accept','application/json, text/*'),ft.withCredentials&&(vt.withCredentials=ft.withCredentials),ft.headers)({}).hasOwnProperty.call(ft.headers,St)&&vt.setRequestHeader(St,ft.headers[St]);'function'==typeof ft.config&&(vt=ft.config(vt,ft)||vt),vt.onreadystatechange=function(){if(!kt&&4===vt.readyState)try{var Et=ft.extract===dt?ft.deserialize(ft.extract(vt,ft)):ft.extract(vt,ft);if(200<=vt.status&&300>vt.status||304===vt.status||He.test(ft.url))bt(ct(ft.type,Et));else{var wt=new Error(vt.responseText);for(var Ct in Et)wt[Ct]=Et[Ct];_t(wt)}}catch(Ot){_t(Ot)}},yt&&null!=ft.data?vt.send(ft.data):vt.send()});return!0===ft.background?ht:mt(ht)},jsonp:function(ft,gt){var mt=nt();ft=at(ft,gt);var ht=new et(function(bt,_t){var yt=ft.callbackName||'_mithril_'+Math.round(1e16*Math.random())+'_'+ut++,vt=Ze.document.createElement('script');Ze[yt]=function(kt){vt.parentNode.removeChild(vt),bt(ct(ft.type,kt)),delete Ze[yt]},vt.onerror=function(){vt.parentNode.removeChild(vt),_t(new Error('JSONP request failed')),delete Ze[yt]},null==ft.data&&(ft.data={}),ft.url=it(ft.url,ft.data),ft.data[ft.callbackKey||'callback']=yt,vt.src=st(ft.url,ft.data),Ze.document.documentElement.appendChild(vt)});return!0===ft.background?ht:mt(ht)},setCompletionCallback:function(ft){pt=ft}}}(window,Ae),Fe=function(Ze){function tt(Ft,Wt,Kt,Vt,Gt,Xt,Yt){for(var Qt,Jt=Kt;Jt<Vt;Jt++)Qt=Wt[Jt],null!=Qt&&nt(Ft,Qt,Gt,Yt,Xt)}function nt(Ft,Wt,Kt,Vt,Gt){var Xt=Wt.tag;return'string'==typeof Xt?(Wt.state={},null!=Wt.attrs&&Mt(Wt.attrs,Wt,Kt),'#'===Xt?at(Ft,Wt,Gt):'<'===Xt?rt(Ft,Wt,Gt):'['===Xt?ot(Ft,Wt,Kt,Vt,Gt):it(Ft,Wt,Kt,Vt,Gt)):lt(Ft,Wt,Kt,Vt,Gt)}function at(Ft,Wt,Kt){return Wt.dom=Ht.createTextNode(Wt.children),vt(Ft,Wt.dom,Kt),Wt.dom}function rt(Ft,Wt,Kt){var Vt=Wt.children.match(/^\s*?<(\w+)/im)||[],Gt={caption:'table',thead:'table',tbody:'table',tfoot:'table',tr:'tbody',th:'tr',td:'tr',colgroup:'table',col:'colgroup'}[Vt[1]]||'div',Xt=Ht.createElement(Gt);Xt.innerHTML=Wt.children,Wt.dom=Xt.firstChild,Wt.domSize=Xt.childNodes.length;for(var Jt,Yt=Ht.createDocumentFragment();Jt=Xt.firstChild;)Yt.appendChild(Jt);return vt(Ft,Yt,Kt),Yt}function ot(Ft,Wt,Kt,Vt,Gt){var Xt=Ht.createDocumentFragment();if(null!=Wt.children){var Yt=Wt.children;tt(Xt,Yt,0,Yt.length,Kt,null,Vt)}return Wt.dom=Xt.firstChild,Wt.domSize=Xt.childNodes.length,vt(Ft,Xt,Gt),Xt}function it(Ft,Wt,Kt,Vt,Gt){var Xt=Wt.tag;switch(Wt.tag){case'svg':Vt='http://www.w3.org/2000/svg';break;case'math':Vt='http://www.w3.org/1998/Math/MathML';}var Yt=Wt.attrs,Jt=Yt&&Yt.is,Qt=Vt?Jt?Ht.createElementNS(Vt,Xt,{is:Jt}):Ht.createElementNS(Vt,Xt):Jt?Ht.createElement(Xt,{is:Jt}):Ht.createElement(Xt);if(Wt.dom=Qt,null!=Yt&&Ct(Wt,Yt,Vt),vt(Ft,Qt,Gt),null!=Wt.attrs&&null!=Wt.attrs.contenteditable)kt(Wt);else if(null!=Wt.text&&(''===Wt.text?Wt.children=[Re('#',void 0,void 0,Wt.text,void 0,void 0)]:Qt.textContent=Wt.text),null!=Wt.children){var Zt=Wt.children;tt(Qt,Zt,0,Zt.length,Kt,null,Vt),Tt(Wt)}return Qt}function st(Ft,Wt){var Kt;if('function'==typeof Ft.tag.view){if(Ft.state=Object.create(Ft.tag),Kt=Ft.state.view,null!=Kt.$$reentrantLock$$)return qt;Kt.$$reentrantLock$$=!0}else{if(Ft.state=void 0,Kt=Ft.tag,null!=Kt.$$reentrantLock$$)return qt;Kt.$$reentrantLock$$=!0,Ft.state=null!=Ft.tag.prototype&&'function'==typeof Ft.tag.prototype.view?new Ft.tag(Ft):Ft.tag(Ft)}if(Ft._state=Ft.state,null!=Ft.attrs&&Mt(Ft.attrs,Ft,Wt),Mt(Ft._state,Ft,Wt),Ft.instance=Re.normalize(Ft._state.view.call(Ft.state,Ft)),Ft.instance===Ft)throw Error('A view cannot return the vnode it received as argument');Kt.$$reentrantLock$$=null}function lt(Ft,Wt,Kt,Vt,Gt){if(st(Wt,Kt),null!=Wt.instance){var Xt=nt(Ft,Wt.instance,Kt,Vt,Gt);return Wt.dom=Wt.instance.dom,Wt.domSize=null==Wt.dom?0:Wt.instance.domSize,vt(Ft,Xt,Gt),Xt}return Wt.domSize=0,qt}function dt(Ft,Wt,Kt,Vt,Gt,Xt,Yt){if(Wt!==Kt&&(null!=Wt||null!=Kt))if(null==Wt)tt(Ft,Kt,0,Kt.length,Gt,Xt,void 0);else if(null==Kt)xt(Wt,0,Wt.length,Kt);else{if(Wt.length===Kt.length){for(var Jt=!1,Qt=0;Qt<Kt.length;Qt++)if(null!=Kt[Qt]&&null!=Wt[Qt]){Jt=null==Kt[Qt].key&&null==Wt[Qt].key;break}if(Jt){for(var Qt=0;Qt<Wt.length;Qt++)if(Wt[Qt]===Kt[Qt])continue;else null==Wt[Qt]&&null!=Kt[Qt]?nt(Ft,Kt[Qt],Gt,Yt,yt(Wt,Qt+1,Xt)):null==Kt[Qt]?xt(Wt,Qt,Qt+1,Kt):ct(Ft,Wt[Qt],Kt[Qt],Gt,yt(Wt,Qt+1,Xt),Vt,Yt);return}}if(Vt=Vt||ht(Wt,Kt),Vt){var Zt=Wt.pool;Wt=Wt.concat(Wt.pool)}for(var rn,en=0,tn=0,nn=Wt.length-1,an=Kt.length-1;nn>=en&&an>=tn;){var on=Wt[en],sn=Kt[tn];if(on===sn&&!Vt)en++,tn++;else if(null==on)en++;else if(null==sn)tn++;else if(on.key===sn.key){var ln=null!=Zt&&en>=Wt.length-Zt.length||null==Zt&&Vt;en++,tn++,ct(Ft,on,sn,Gt,yt(Wt,en,Xt),ln,Yt),Vt&&on.tag===sn.tag&&vt(Ft,_t(on),Xt)}else{var on=Wt[nn];if(on===sn&&!Vt)nn--,tn++;else if(null==on)nn--;else if(null==sn)tn++;else if(on.key===sn.key){var ln=null!=Zt&&nn>=Wt.length-Zt.length||null==Zt&&Vt;ct(Ft,on,sn,Gt,yt(Wt,nn+1,Xt),ln,Yt),(Vt||tn<an)&&vt(Ft,_t(on),yt(Wt,en,Xt)),nn--,tn++}else break}}for(;nn>=en&&an>=tn;){var on=Wt[nn],sn=Kt[an];if(on===sn&&!Vt)nn--,an--;else if(null==on)nn--;else if(null==sn)an--;else if(on.key===sn.key){var ln=null!=Zt&&nn>=Wt.length-Zt.length||null==Zt&&Vt;ct(Ft,on,sn,Gt,yt(Wt,nn+1,Xt),ln,Yt),Vt&&on.tag===sn.tag&&vt(Ft,_t(on),Xt),null!=on.dom&&(Xt=on.dom),nn--,an--}else{if(rn||(rn=bt(Wt,nn)),null!=sn){var dn=rn[sn.key];if(null!=dn){var cn=Wt[dn],ln=null!=Zt&&dn>=Wt.length-Zt.length||null==Zt&&Vt;ct(Ft,cn,sn,Gt,yt(Wt,nn+1,Xt),Vt,Yt),vt(Ft,_t(cn),Xt),Wt[dn].skip=!0,null!=cn.dom&&(Xt=cn.dom)}else{var un=nt(Ft,sn,Gt,void 0,Xt);Xt=un}}an--}if(an<tn)break}tt(Ft,Kt,tn,an+1,Gt,Xt,Yt),xt(Wt,en,nn+1,Kt)}}function ct(Ft,Wt,Kt,Vt,Gt,Xt,Yt){var Jt=Wt.tag,Qt=Kt.tag;if(Jt===Qt){if(Kt.state=Wt.state,Kt._state=Wt._state,Kt.events=Wt.events,!Xt&&At(Kt,Wt))return;'string'==typeof Jt?(null!=Kt.attrs&&(Xt?(Kt.state={},Mt(Kt.attrs,Kt,Vt)):Ut(Kt.attrs,Kt,Vt)),'#'===Jt?ut(Wt,Kt):'<'===Jt?pt(Ft,Wt,Kt,Gt):'['===Jt?ft(Ft,Wt,Kt,Xt,Vt,Gt,Yt):gt(Wt,Kt,Xt,Vt,Yt)):mt(Ft,Wt,Kt,Vt,Gt,Xt,Yt)}else St(Wt,null),nt(Ft,Kt,Vt,Yt,Gt)}function ut(Ft,Wt){Ft.children.toString()!==Wt.children.toString()&&(Ft.dom.nodeValue=Wt.children),Wt.dom=Ft.dom}function pt(Ft,Wt,Kt,Vt){Wt.children===Kt.children?(Kt.dom=Wt.dom,Kt.domSize=Wt.domSize):(_t(Wt),rt(Ft,Kt,Vt))}function ft(Ft,Wt,Kt,Vt,Gt,Xt,Yt){dt(Ft,Wt.children,Kt.children,Vt,Gt,Xt,Yt);var Jt=0,Qt=Kt.children;if(Kt.dom=null,null!=Qt){for(var en,Zt=0;Zt<Qt.length;Zt++)en=Qt[Zt],null!=en&&null!=en.dom&&(null==Kt.dom&&(Kt.dom=en.dom),Jt+=en.domSize||1);1!==Jt&&(Kt.domSize=Jt)}}function gt(Ft,Wt,Kt,Vt,Gt){var Xt=Wt.dom=Ft.dom;switch(Wt.tag){case'svg':Gt='http://www.w3.org/2000/svg';break;case'math':Gt='http://www.w3.org/1998/Math/MathML';}'textarea'===Wt.tag&&(null==Wt.attrs&&(Wt.attrs={}),null!=Wt.text&&(Wt.attrs.value=Wt.text,Wt.text=void 0)),Nt(Wt,Ft.attrs,Wt.attrs,Gt),null!=Wt.attrs&&null!=Wt.attrs.contenteditable?kt(Wt):null!=Ft.text&&null!=Wt.text&&''!==Wt.text?Ft.text.toString()!==Wt.text.toString()&&(Ft.dom.firstChild.nodeValue=Wt.text):(null!=Ft.text&&(Ft.children=[Re('#',void 0,void 0,Ft.text,void 0,Ft.dom.firstChild)]),null!=Wt.text&&(Wt.children=[Re('#',void 0,void 0,Wt.text,void 0,void 0)]),dt(Xt,Ft.children,Wt.children,Kt,Vt,null,Gt))}function mt(Ft,Wt,Kt,Vt,Gt,Xt,Yt){if(Xt)st(Kt,Vt);else{if(Kt.instance=Re.normalize(Kt._state.view.call(Kt.state,Kt)),Kt.instance===Kt)throw Error('A view cannot return the vnode it received as argument');null!=Kt.attrs&&Ut(Kt.attrs,Kt,Vt),Ut(Kt._state,Kt,Vt)}null==Kt.instance?null==Wt.instance?(Kt.dom=Wt.dom,Kt.domSize=Wt.domSize):(St(Wt.instance,null),Kt.dom=void 0,Kt.domSize=0):(null==Wt.instance?nt(Ft,Kt.instance,Vt,Yt,Gt):ct(Ft,Wt.instance,Kt.instance,Vt,Gt,Xt,Yt),Kt.dom=Kt.instance.dom,Kt.domSize=Kt.instance.domSize)}function ht(Ft,Wt){if(null!=Ft.pool&&_Mathabs(Ft.pool.length-Wt.length)<=_Mathabs(Ft.length-Wt.length)){var Kt=Ft[0]&&Ft[0].children&&Ft[0].children.length||0,Vt=Ft.pool[0]&&Ft.pool[0].children&&Ft.pool[0].children.length||0,Gt=Wt[0]&&Wt[0].children&&Wt[0].children.length||0;if(_Mathabs(Vt-Gt)<=_Mathabs(Kt-Gt))return!0}return!1}function bt(Ft,Wt){for(var Gt,Kt={},Vt=0,Vt=0;Vt<Wt;Vt++)if(Gt=Ft[Vt],null!=Gt){var Xt=Gt.key;null!=Xt&&(Kt[Xt]=Vt)}return Kt}function _t(Ft){var Wt=Ft.domSize;if(null!=Wt||null==Ft.dom){var Kt=Ht.createDocumentFragment();if(0<Wt){for(var Vt=Ft.dom;--Wt;)Kt.appendChild(Vt.nextSibling);Kt.insertBefore(Vt,Kt.firstChild)}return Kt}return Ft.dom}function yt(Ft,Wt,Kt){for(;Wt<Ft.length;Wt++)if(null!=Ft[Wt]&&null!=Ft[Wt].dom)return Ft[Wt].dom;return Kt}function vt(Ft,Wt,Kt){Kt&&Kt.parentNode?Ft.insertBefore(Wt,Kt):Ft.appendChild(Wt)}function kt(Ft){var Wt=Ft.children;if(null!=Wt&&1===Wt.length&&'<'===Wt[0].tag){var Kt=Wt[0].children;Ft.dom.innerHTML!==Kt&&(Ft.dom.innerHTML=Kt)}else if(null!=Ft.text||null!=Wt&&0!==Wt.length)throw new Error('Child node of a contenteditable must be trusted')}function xt(Ft,Wt,Kt,Vt){for(var Xt,Gt=Wt;Gt<Kt;Gt++)Xt=Ft[Gt],null!=Xt&&(Xt.skip?Xt.skip=!1:St(Xt,Vt))}function St(Ft,Wt){function Kt(){if(++Gt==Vt&&(wt(Ft),Ft.dom)){var Yt=Ft.domSize||1;if(1<Yt)for(var Jt=Ft.dom;--Yt;)Et(Jt.nextSibling);Et(Ft.dom),null==Wt||null!=Ft.domSize||Dt(Ft.attrs)||'string'!=typeof Ft.tag||(Wt.pool?Wt.pool.push(Ft):Wt.pool=[Ft])}}var Vt=1,Gt=0;if(Ft.attrs&&'function'==typeof Ft.attrs.onbeforeremove){var Xt=Ft.attrs.onbeforeremove.call(Ft.state,Ft);null!=Xt&&'function'==typeof Xt.then&&(Vt++,Xt.then(Kt,Kt))}if('string'!=typeof Ft.tag&&'function'==typeof Ft._state.onbeforeremove){var Xt=Ft._state.onbeforeremove.call(Ft.state,Ft);null!=Xt&&'function'==typeof Xt.then&&(Vt++,Xt.then(Kt,Kt))}Kt()}function Et(Ft){var Wt=Ft.parentNode;null!=Wt&&Wt.removeChild(Ft)}function wt(Ft){if(Ft.attrs&&'function'==typeof Ft.attrs.onremove&&Ft.attrs.onremove.call(Ft.state,Ft),'string'!=typeof Ft.tag&&'function'==typeof Ft._state.onremove&&Ft._state.onremove.call(Ft.state,Ft),null!=Ft.instance)wt(Ft.instance);else{var Wt=Ft.children;if(Array.isArray(Wt))for(var Vt,Kt=0;Kt<Wt.length;Kt++)Vt=Wt[Kt],null!=Vt&&wt(Vt)}}function Ct(Ft,Wt,Kt){for(var Vt in Wt)Ot(Ft,Vt,null,Wt[Vt],Kt)}function Ot(Ft,Wt,Kt,Vt,Gt){var Xt=Ft.dom;if('key'!==Wt&&'is'!==Wt&&(Kt!==Vt||Rt(Ft,Wt)||'object'==typeof Vt)&&'undefined'!=typeof Vt&&!It(Wt)){var Yt=Wt.indexOf(':');if(-1<Yt&&'xlink'===Wt.substr(0,Yt))Xt.setAttributeNS('http://www.w3.org/1999/xlink',Wt.slice(Yt+1),Vt);else if('o'===Wt[0]&&'n'===Wt[1]&&'function'==typeof Vt)Bt(Ft,Wt,Vt);else if('style'===Wt)Lt(Xt,Kt,Vt);else if(Wt in Xt&&!jt(Wt)&&void 0===Gt&&!Pt(Ft)){if('input'===Ft.tag&&'value'===Wt&&Ft.dom.value==Vt&&Ft.dom===Ht.activeElement)return;if('select'===Ft.tag&&'value'===Wt&&Ft.dom.value==Vt&&Ft.dom===Ht.activeElement)return;if('option'===Ft.tag&&'value'===Wt&&Ft.dom.value==Vt)return;if('input'===Ft.tag&&'type'===Wt)return void Xt.setAttribute(Wt,Vt);Xt[Wt]=Vt}else'boolean'==typeof Vt?Vt?Xt.setAttribute(Wt,''):Xt.removeAttribute(Wt):Xt.setAttribute('className'===Wt?'class':Wt,Vt)}}function Tt(Ft){var Wt=Ft.attrs;'select'===Ft.tag&&null!=Wt&&('value'in Wt&&Ot(Ft,'value',null,Wt.value,void 0),'selectedIndex'in Wt&&Ot(Ft,'selectedIndex',null,Wt.selectedIndex,void 0))}function Nt(Ft,Wt,Kt,Vt){if(null!=Kt)for(var Gt in Kt)Ot(Ft,Gt,Wt&&Wt[Gt],Kt[Gt],Vt);if(null!=Wt)for(var Gt in Wt)null!=Kt&&Gt in Kt||('className'==Gt&&(Gt='class'),'o'!==Gt[0]||'n'!==Gt[1]||It(Gt)?'key'!=Gt&&Ft.dom.removeAttribute(Gt):Bt(Ft,Gt,void 0))}function Rt(Ft,Wt){return'value'===Wt||'checked'===Wt||'selectedIndex'===Wt||'selected'===Wt&&Ft.dom===Ht.activeElement}function It(Ft){return'oninit'===Ft||'oncreate'===Ft||'onupdate'===Ft||'onremove'===Ft||'onbeforeremove'===Ft||'onbeforeupdate'===Ft}function jt(Ft){return'href'===Ft||'list'===Ft||'form'===Ft||'width'===Ft||'height'===Ft}function Pt(Ft){return Ft.attrs.is||-1<Ft.tag.indexOf('-')}function Dt(Ft){return null!=Ft&&(Ft.oncreate||Ft.onupdate||Ft.onbeforeremove||Ft.onremove)}function Lt(Ft,Wt,Kt){if(Wt===Kt&&(Ft.style.cssText='',Wt=null),null==Kt)Ft.style.cssText='';else if('string'==typeof Kt)Ft.style.cssText=Kt;else{for(var Vt in'string'==typeof Wt&&(Ft.style.cssText=''),Kt)Ft.style[Vt]=Kt[Vt];if(null!=Wt&&'string'!=typeof Wt)for(var Vt in Wt)Vt in Kt||(Ft.style[Vt]='')}}function Bt(Ft,Wt,Kt){var Vt=Ft.dom,Gt='function'==typeof $t?function(Yt){var Jt=Kt.call(Vt,Yt);return $t.call(Vt,Yt),Jt}:Kt;if(Wt in Vt)Vt[Wt]='function'==typeof Kt?Gt:null;else{var Xt=Wt.slice(2);if(void 0===Ft.events&&(Ft.events={}),Ft.events[Wt]===Gt)return;null!=Ft.events[Wt]&&Vt.removeEventListener(Xt,Ft.events[Wt],!1),'function'==typeof Kt&&(Ft.events[Wt]=Gt,Vt.addEventListener(Xt,Ft.events[Wt],!1))}}function Mt(Ft,Wt,Kt){'function'==typeof Ft.oninit&&Ft.oninit.call(Wt.state,Wt),'function'==typeof Ft.oncreate&&Kt.push(Ft.oncreate.bind(Wt.state,Wt))}function Ut(Ft,Wt,Kt){'function'==typeof Ft.onupdate&&Kt.push(Ft.onupdate.bind(Wt.state,Wt))}function At(Ft,Wt){var Kt,Vt;return null!=Ft.attrs&&'function'==typeof Ft.attrs.onbeforeupdate&&(Kt=Ft.attrs.onbeforeupdate.call(Ft.state,Ft,Wt)),'string'!=typeof Ft.tag&&'function'==typeof Ft._state.onbeforeupdate&&(Vt=Ft._state.onbeforeupdate.call(Ft.state,Ft,Wt)),void 0===Kt&&void 0===Vt||Kt||Vt?!1:(Ft.dom=Wt.dom,Ft.domSize=Wt.domSize,Ft.instance=Wt.instance,!0)}var $t,Ht=Ze.document,qt=Ht.createDocumentFragment();return{render:function(Ft,Wt){if(!Ft)throw new Error('Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.');var Kt=[],Vt=Ht.activeElement;null==Ft.vnodes&&(Ft.textContent=''),Array.isArray(Wt)||(Wt=[Wt]),dt(Ft,Ft.vnodes,Re.normalizeChildren(Wt),!1,Kt,null,void 0),Ft.vnodes=Wt;for(var Gt=0;Gt<Kt.length;Gt++)Kt[Gt]();Ht.activeElement!==Vt&&Vt.focus()},setEventCallback:function(Ft){return $t=Ft}}},Ke=function(Ze){function tt(ot){var it=rt.indexOf(ot);-1<it&&rt.splice(it,2)}function nt(){for(var ot=1;ot<rt.length;ot+=2)rt[ot]()}var at=Fe(Ze);at.setEventCallback(function(ot){!1!==ot.redraw&&nt()});var rt=[];return{subscribe:function(ot,it){tt(ot),rt.push(ot,De(it))},unsubscribe:tt,redraw:nt,render:at.render}}(window);$e.setCompletionCallback(Ke.redraw);Ue.mount=function(Ze){return function(et,tt){if(null===tt)return Ze.render(et,[]),void Ze.unsubscribe(et);if(null==tt.view&&'function'!=typeof tt)throw new Error('m.mount(element, component) expects a component, not a vnode');Ze.subscribe(et,function(){Ze.render(et,Re(tt))}),Ze.redraw()}}(Ke);var Xe=function(Ze){if(''===Ze||null==Ze)return{};'?'===Ze.charAt(0)&&(Ze=Ze.slice(1));for(var et=Ze.split('&'),tt={},nt={},at=0;at<et.length;at++){var rt=et[at].split('='),ot=decodeURIComponent(rt[0]),it=2===rt.length?decodeURIComponent(rt[1]):'';'true'===it?it=!0:'false'===it&&(it=!1);var st=ot.split(/\]\[?|\[/),lt=tt;-1<ot.indexOf('[')&&st.pop();for(var dt=0;dt<st.length;dt++){var ct=st[dt],ut=st[dt+1],pt=''==ut||!isNaN(parseInt(ut,10)),ft=dt===st.length-1;if(''===ct){var ot=st.slice(0,dt).join();null==nt[ot]&&(nt[ot]=0),ct=nt[ot]++}null==lt[ct]&&(lt[ct]=ft?it:pt?[]:{}),lt=lt[ct]}}return tt},Ye=function(Ze){function et(st){var lt=Ze.location[st].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return'pathname'===st&&'/'!==lt[0]&&(lt='/'+lt),lt}function tt(st){return function(){null!=ot||(ot=rt(function(){ot=null,st()}))}}function nt(st,lt,dt){var ct=st.indexOf('?'),ut=st.indexOf('#'),pt=-1<ct?ct:-1<ut?ut:st.length;if(-1<ct){var ft=-1<ut?ut:st.length,gt=Xe(st.slice(ct+1,ft));for(var mt in gt)lt[mt]=gt[mt]}if(-1<ut){var ht=Xe(st.slice(ut+1));for(var mt in ht)dt[mt]=ht[mt]}return st.slice(0,pt)}var ot,at='function'==typeof Ze.history.pushState,rt='function'==typeof setImmediate?setImmediate:setTimeout,it={prefix:'#!'};return it.getPath=function(){var st=it.prefix.charAt(0);return'#'===st?et('hash').slice(it.prefix.length):'?'===st?et('search').slice(it.prefix.length)+et('hash'):et('pathname').slice(it.prefix.length)+et('search')+et('hash')},it.setPath=function(st,lt,dt){var ct={},ut={};if(st=nt(st,ct,ut),null!=lt){for(var pt in lt)ct[pt]=lt[pt];st=st.replace(/:([^\/]+)/g,function(bt,_t){return delete ct[_t],lt[_t]})}var ft=ze(ct);ft&&(st+='?'+ft);var gt=ze(ut);if(gt&&(st+='#'+gt),at){var mt=dt?dt.state:null,ht=dt?dt.title:null;Ze.onpopstate(),dt&&dt.replace?Ze.history.replaceState(mt,ht,it.prefix+st):Ze.history.pushState(mt,ht,it.prefix+st)}else Ze.location.href=it.prefix+st},it.defineRoutes=function(st,lt,dt){function ct(){var ut=it.getPath(),pt={},ft=nt(ut,pt,pt),gt=Ze.history.state;if(null!=gt)for(var mt in gt)pt[mt]=gt[mt];for(var ht in st){var bt=new RegExp('^'+ht.replace(/:[^\/]+?\.{3}/g,'(.*?)').replace(/:[^\/]+/g,'([^\\/]+)')+'/?$');if(bt.test(ft))return void ft.replace(bt,function(){for(var _t=ht.match(/:[^\/]+/g)||[],yt=[].slice.call(arguments,1,-2),vt=0;vt<_t.length;vt++)pt[_t[vt].replace(/:|\./g,'')]=decodeURIComponent(yt[vt]);lt(st[ht],pt,ut,ht)})}dt(ut,pt)}at?Ze.onpopstate=tt(ct):'#'===it.prefix.charAt(0)&&(Ze.onhashchange=ct),ct()},it};Ue.route=function(Ze,et){var at,rt,ot,it,st,tt=Ye(Ze),nt=function(dt){return dt},lt=function(dt,ct,ut){if(null==dt)throw new Error('Ensure the DOM element that was passed to `m.route` is not undefined');var pt=function(){null!=at&&et.render(dt,at(Re(rt,ot.key,ot)))},ft=function(gt){if(gt!==ct)tt.setPath(ct,null,{replace:!0});else throw new Error('Could not resolve default route '+ct)};tt.defineRoutes(ut,function(gt,mt,ht){var bt=st=function(_t,yt){bt!==st||(rt=null!=yt&&('function'==typeof yt.view||'function'==typeof yt)?yt:'div',ot=mt,it=ht,st=null,at=(_t.render||nt).bind(_t),pt())};gt.view||'function'==typeof gt?bt({},gt):gt.onmatch?Ae.resolve(gt.onmatch(mt,ht)).then(function(_t){bt(gt,_t)},ft):bt(gt,'div')},ft),et.subscribe(dt,pt)};return lt.set=function(dt,ct,ut){null!=st&&(ut={replace:!0}),st=null,tt.setPath(dt,ct,ut)},lt.get=function(){return it},lt.prefix=function(dt){tt.prefix=dt},lt.link=function(dt){dt.dom.setAttribute('href',tt.prefix+dt.attrs.href),dt.dom.onclick=function(ct){if(!(ct.ctrlKey||ct.metaKey||ct.shiftKey||2===ct.which)){ct.preventDefault(),ct.redraw=!1;var ut=this.getAttribute('href');0===ut.indexOf(tt.prefix)&&(ut=ut.slice(tt.prefix.length)),lt.set(ut,void 0,void 0)}}},lt.param=function(dt){return'undefined'!=typeof ot&&'undefined'!=typeof dt?ot[dt]:ot},lt}(window,Ke),Ue.withAttr=function(Ze,et,tt){return function(nt){et.call(tt||this,Ze in nt.currentTarget?nt.currentTarget[Ze]:nt.currentTarget.getAttribute(Ze))}};var Qe=Fe(window);Ue.render=Qe.render,Ue.redraw=Ke.redraw,Ue.request=$e.request,Ue.jsonp=$e.jsonp,Ue.parseQueryString=Xe,Ue.buildQueryString=ze,Ue.version='1.1.1',Ue.vnode=Re,Ne.exports=Ue})()}),z={URL:'URL_ENDPOINT_CHANGE_ME',SENTRY_PUBLIC_DSN:''},H={flashMessage:''},q={isObject:function(Ne){return'object'==typeof Ne&&null!==Ne},isError:function(Ne){switch({}.toString.call(Ne)){case'[object Error]':return!0;case'[object Exception]':return!0;case'[object DOMException]':return!0;default:return Ne instanceof Error;}}},$={collectWindowErrors:!0,debug:!1},F='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,W=[].slice,K='?',V=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;$.report=function(){function Pe(We,Ke){var Ve=null;if(!Ke||$.collectWindowErrors){for(var Ge in Ae)if(Ae.hasOwnProperty(Ge))try{Ae[Ge].apply(null,[We].concat(W.call(arguments,2)))}catch(Xe){Ve=Xe}if(Ve)throw Ve}}function De(We,Ke,Ve,Ge,Xe){var Ye=null;if(qe)$.computeStackTrace.augmentStackTraceWithInitialElement(qe,Ke,Ve,We),Me();else if(Xe&&q.isError(Xe))Ye=$.computeStackTrace(Xe),Pe(Ye,!0);else{var Qe,et,Je={url:Ke,line:Ve,column:Ge},Ze=We;if('[object String]'==={}.toString.call(We)){var et=We.match(V);et&&(Qe=et[1],Ze=et[2])}Je.func=K,Ye={name:Qe,message:Ze,url:d(),stack:[Je]},Pe(Ye,!0)}return!!$e&&$e.apply(this,arguments)}function Le(){Fe||($e=F.onerror,F.onerror=De,Fe=!0)}function Be(){Fe&&(F.onerror=$e,Fe=!1,$e=void 0)}function Me(){var We=qe,Ke=ze;ze=null,qe=null,He=null,Pe.apply(null,[We,!1].concat(Ke))}function Ue(We,Ke){var Ve=W.call(arguments,1);if(qe){if(He===We)return;Me()}var Ge=$.computeStackTrace(We);if(qe=Ge,He=We,ze=Ve,setTimeout(function(){He===We&&Me()},Ge.incomplete?2e3:0),!1!==Ke)throw We}var $e,Fe,Ae=[],ze=null,He=null,qe=null;return Ue.subscribe=function(We){Le(),Ae.push(We)},Ue.unsubscribe=function(We){for(var Ke=Ae.length-1;0<=Ke;--Ke)Ae[Ke]===We&&Ae.splice(Ke,1)},Ue.uninstall=function(){Be(),Ae=[]},Ue}(),$.computeStackTrace=function(){function Re(De){if('undefined'!=typeof De.stack&&De.stack){for(var qe,$e,Fe,Le=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Be=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,Me=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ue=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ae=/\((\S*)(?::(\d+))(?::(\d+))\)/,ze=De.stack.split('\n'),He=[],We=/^(.*) is undefined$/.exec(De.message),Ke=0,Ve=ze.length;Ke<Ve;++Ke){if($e=Le.exec(ze[Ke])){var Ge=$e[2]&&0===$e[2].indexOf('native'),Xe=$e[2]&&0===$e[2].indexOf('eval');Xe&&(qe=Ae.exec($e[2]))&&($e[2]=qe[1],$e[3]=qe[2],$e[4]=qe[3]),Fe={url:Ge?null:$e[2],func:$e[1]||K,args:Ge?[$e[2]]:[],line:$e[3]?+$e[3]:null,column:$e[4]?+$e[4]:null}}else if($e=Me.exec(ze[Ke]))Fe={url:$e[2],func:$e[1]||K,args:[],line:+$e[3],column:$e[4]?+$e[4]:null};else if($e=Be.exec(ze[Ke])){var Xe=$e[3]&&-1<$e[3].indexOf(' > eval');Xe&&(qe=Ue.exec($e[3]))?($e[3]=qe[1],$e[4]=qe[2],$e[5]=null):0===Ke&&!$e[5]&&'undefined'!=typeof De.columnNumber&&(He[0].column=De.columnNumber+1),Fe={url:$e[3],func:$e[1]||K,args:$e[2]?$e[2].split(','):[],line:$e[4]?+$e[4]:null,column:$e[5]?+$e[5]:null}}else continue;!Fe.func&&Fe.line&&(Fe.func=K),He.push(Fe)}return He.length?{name:De.name,message:De.message,url:d(),stack:He}:null}}function Ie(De,Le,Be){var Ue={url:Le,line:Be};if(Ue.url&&Ue.line){if(De.incomplete=!1,Ue.func||(Ue.func=K),0<De.stack.length&&De.stack[0].url===Ue.url){if(De.stack[0].line===Ue.line)return!1;if(!De.stack[0].line&&De.stack[0].func===Ue.func)return De.stack[0].line=Ue.line,!1}return De.stack.unshift(Ue),De.partial=!0,!0}return De.incomplete=!0,!1}function je(De,Le){for(var ze,He,Be=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,Me=[],Ue={},Ae=!1,$e=je.caller;$e&&!Ae;$e=$e.caller)if($e!==Pe&&$e!==$.report){if(He={url:null,func:K,line:null,column:null},$e.name?He.func=$e.name:(ze=Be.exec($e.toString()))&&(He.func=ze[1]),'undefined'==typeof He.func)try{He.func=ze.input.substring(0,ze.input.indexOf('{'))}catch(We){}Ue[''+$e]?Ae=!0:Ue[''+$e]=!0,Me.push(He)}Le&&Me.splice(0,Le);var Fe={name:De.name,message:De.message,url:d(),stack:Me};return Ie(Fe,De.sourceURL||De.fileName,De.line||De.lineNumber,De.message||De.description),Fe}function Pe(De,Le){var Be=null;Le=null==Le?0:+Le;try{if(Be=Re(De),Be)return Be}catch(Me){if($.debug)throw Me}try{if(Be=je(De,Le+1),Be)return Be}catch(Me){if($.debug)throw Me}return{name:De.name,message:De.message,url:d()}}return Pe.augmentStackTraceWithInitialElement=Ie,Pe.computeStackTraceFromStackProp=Re,Pe}();var G=$,X=n(function(Ne,Re){'use strict';function Ie(De,Le){for(var Be=0;Be<De.length;++Be)if(De[Be]===Le)return Be;return-1}function Pe(De,Le){var Be=[],Me=[];return null==Le&&(Le=function(Ue,Ae){return Be[0]===Ae?'[Circular ~]':'[Circular ~.'+Me.slice(0,Ie(Be,Ae)).join('.')+']'}),function(Ue,Ae){if(0<Be.length){var ze=Ie(Be,this);~ze?Be.splice(ze+1):Be.push(this),~ze?Me.splice(ze,Infinity,Ue):Me.push(Ue),~Ie(Be,Ae)&&(Ae=Le.call(this,Ue,Ae))}else Be.push(Ae);return null==De?Ae:De.call(this,Ue,Ae)}}Re=Ne.exports=function(De,Le,Be,Me){return JSON.stringify(De,Pe(Le,Me),Be)},Re.getSerialize=Pe});u.prototype=new Error,u.prototype.constructor=u;var Y=u,Z=q.isError,ee=q.isObject,te={wrapMethod:function(Ne,Re,Ie){var je=Ne[Re];if(Re in Ne){var De='warn'===Re?'warning':Re;Ne[Re]=function(){var Le=[].slice.call(arguments),Be=''+Le.join(' ');Ie&&Ie(Be,{level:De,logger:'console',extra:{arguments:Le}}),je&&Function.prototype.apply.call(je,Ne,Le)}}}}.wrapMethod,ne='source protocol user pass host port path'.split(' '),ae=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,re='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,oe=re.document,ie=re.navigator;f.prototype={VERSION:'3.14.2',debug:!1,TraceKit:G,config:function(Ne,Re){var Ie=this;if(Ie._globalServer)return this._logDebug('error','Error: Raven has already been configured'),Ie;if(!Ne)return Ie;var je=Ie._globalOptions;Re&&S(Re,function(Le,Be){'tags'===Le||'extra'===Le||'user'===Le?Ie._globalContext[Le]=Be:je[Le]=Be}),Ie.setDSN(Ne),je.ignoreErrors.push(/^Script error\.?$/),je.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),je.ignoreErrors=O(je.ignoreErrors),je.ignoreUrls=!!je.ignoreUrls.length&&O(je.ignoreUrls),je.whitelistUrls=!!je.whitelistUrls.length&&O(je.whitelistUrls),je.includePaths=O(je.includePaths),je.maxBreadcrumbs=Math.max(0,Math.min(je.maxBreadcrumbs||100,100));var Pe={xhr:!0,console:!0,dom:!0,location:!0},De=je.autoBreadcrumbs;return'[object Object]'==={}.toString.call(De)?De=E(Pe,De):!1!==De&&(De=Pe),je.autoBreadcrumbs=De,G.collectWindowErrors=!!je.collectWindowErrors,Ie},install:function(){var Ne=this;return Ne.isSetup()&&!Ne._isRavenInstalled&&(G.report.subscribe(function(){Ne._handleOnErrorStackInfo.apply(Ne,arguments)}),Ne._instrumentTryCatch(),Ne._globalOptions.autoBreadcrumbs&&Ne._instrumentBreadcrumbs(),Ne._drainPlugins(),Ne._isRavenInstalled=!0),Error.stackTraceLimit=Ne._globalOptions.stackTraceLimit,this},setDSN:function(Ne){var Re=this,Ie=Re._parseDSN(Ne),je=Ie.path.lastIndexOf('/'),Pe=Ie.path.substr(1,je);Re._dsn=Ne,Re._globalKey=Ie.user,Re._globalSecret=Ie.pass&&Ie.pass.substr(1),Re._globalProject=Ie.path.substr(je+1),Re._globalServer=Re._getGlobalServer(Ie),Re._globalEndpoint=Re._globalServer+'/'+Pe+'api/'+Re._globalProject+'/store/',this._resetBackoff()},context:function(Ne,Re,Ie){return h(Ne)&&(Ie=Re||[],Re=Ne,Ne=void 0),this.wrap(Ne,Re).apply(this,Ie)},wrap:function(Ne,Re,Ie){function je(){var Le=[],Be=arguments.length,Me=!Ne||Ne&&!1!==Ne.deep;for(Ie&&h(Ie)&&Ie.apply(this,arguments);Be--;)Le[Be]=Me?Pe.wrap(Ne,arguments[Be]):arguments[Be];try{return Re.apply(this,Le)}catch(Ue){throw Pe._ignoreNextOnError(),Pe.captureException(Ue,Ne),Ue}}var Pe=this;if(g(Re)&&!h(Ne))return Ne;if(h(Ne)&&(Re=Ne,Ne=void 0),!h(Re))return Re;try{if(Re.__raven__)return Re;if(Re.__raven_wrapper__)return Re.__raven_wrapper__}catch(Le){return Re}for(var De in Re)C(Re,De)&&(je[De]=Re[De]);return je.prototype=Re.prototype,Re.__raven_wrapper__=je,je.__raven__=!0,je.__inner__=Re,je},uninstall:function(){return G.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(Ne,Re){if(!Z(Ne))return this.captureMessage(Ne,E({trimHeadFrames:1,stacktrace:!0},Re));this._lastCapturedException=Ne;try{var Ie=G.computeStackTrace(Ne);this._handleStackInfo(Ie,Re)}catch(je){if(Ne!==je)throw je}return this},captureMessage:function(Ne,Re){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(Ne)){Re=Re||{};var Ie=E({message:Ne+''},Re);if(this._globalOptions.stacktrace||Re&&Re.stacktrace){var je;try{throw new Error(Ne)}catch(Le){je=Le}je.name=null,Re=E({fingerprint:Ne,trimHeadFrames:(Re.trimHeadFrames||0)+1},Re);var Pe=G.computeStackTrace(je),De=this._prepareFrames(Pe,Re);Ie.stacktrace={frames:De.reverse()}}return this._send(Ie),this}},captureBreadcrumb:function(Ne){var Re=E({timestamp:p()/1e3},Ne);if(h(this._globalOptions.breadcrumbCallback)){var Ie=this._globalOptions.breadcrumbCallback(Re);if(ee(Ie)&&!x(Ie))Re=Ie;else if(!1===Ie)return this}return this._breadcrumbs.push(Re),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(Ne){var Re=[].slice.call(arguments,1);return this._plugins.push([Ne,Re]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(Ne){return this._globalContext.user=Ne,this},setExtraContext:function(Ne){return this._mergeContext('extra',Ne),this},setTagsContext:function(Ne){return this._mergeContext('tags',Ne),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(X(this._globalContext))},setEnvironment:function(Ne){return this._globalOptions.environment=Ne,this},setRelease:function(Ne){return this._globalOptions.release=Ne,this},setDataCallback:function(Ne){var Re=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=h(Ne)?function(Ie){return Ne(Ie,Re)}:Ne,this},setBreadcrumbCallback:function(Ne){var Re=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=h(Ne)?function(Ie){return Ne(Ie,Re)}:Ne,this},setShouldSendCallback:function(Ne){var Re=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=h(Ne)?function(Ie){return Ne(Ie,Re)}:Ne,this},setTransport:function(Ne){return this._globalOptions.transport=Ne,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug('error','Error: Raven has not been configured.')),!1))},afterLoad:function(){var Ne=re.RavenConfig;Ne&&this.config(Ne.dsn,Ne.config).install()},showReportDialog:function(Ne){if(oe){Ne=Ne||{};var Re=Ne.eventId||this.lastEventId();if(!Re)throw new Y('Missing eventId');var Ie=Ne.dsn||this._dsn;if(!Ie)throw new Y('Missing DSN');var je=encodeURIComponent,Pe='';Pe+='?eventId='+je(Re),Pe+='&dsn='+je(Ie);var De=Ne.user||this._globalContext.user;De&&(De.name&&(Pe+='&name='+je(De.name)),De.email&&(Pe+='&email='+je(De.email)));var Le=this._getGlobalServer(this._parseDSN(Ie)),Be=oe.createElement('script');Be.async=!0,Be.src=Le+'/api/embed/error-page/'+Pe,(oe.head||oe.body).appendChild(Be)}},_ignoreNextOnError:function(){var Ne=this;this._ignoreOnError+=1,setTimeout(function(){Ne._ignoreOnError-=1})},_triggerEvent:function(Ne,Re){var Ie,je;if(this._hasDocument){for(je in Re=Re||{},Ne='raven'+Ne.substr(0,1).toUpperCase()+Ne.substr(1),oe.createEvent?(Ie=oe.createEvent('HTMLEvents'),Ie.initEvent(Ne,!0,!0)):(Ie=oe.createEventObject(),Ie.eventType=Ne),Re)C(Re,je)&&(Ie[je]=Re[je]);if(oe.createEvent)oe.dispatchEvent(Ie);else try{oe.fireEvent('on'+Ie.eventType.toLowerCase(),Ie)}catch(Pe){}}},_breadcrumbEventHandler:function(Ne){var Re=this;return function(Ie){if(Re._keypressTimeout=null,Re._lastCapturedEvent!==Ie){Re._lastCapturedEvent=Ie;var je;try{je=I(Ie.target)}catch(Pe){je='<unknown>'}Re.captureBreadcrumb({category:'ui.'+Ne,message:je})}}},_keypressEventHandler:function(){var Ne=this;return function(Ie){var je;try{je=Ie.target}catch(Le){return}var Pe=je&&je.tagName;if(Pe&&('INPUT'===Pe||'TEXTAREA'===Pe||je.isContentEditable)){var De=Ne._keypressTimeout;De||Ne._breadcrumbEventHandler('input')(Ie),clearTimeout(De),Ne._keypressTimeout=setTimeout(function(){Ne._keypressTimeout=null},1e3)}}},_captureUrlChange:function(Ne,Re){var Ie=N(this._location.href),je=N(Re),Pe=N(Ne);this._lastHref=Re,Ie.protocol===je.protocol&&Ie.host===je.host&&(Re=je.relative),Ie.protocol===Pe.protocol&&Ie.host===Pe.host&&(Ne=Pe.relative),this.captureBreadcrumb({category:'navigation',data:{to:Re,from:Ne}})},_instrumentTryCatch:function(){function Ne(Be){return function(){for(var Ae=Array(arguments.length),ze=0;ze<Ae.length;++ze)Ae[ze]=arguments[ze];var He=Ae[0];return h(He)&&(Ae[0]=Ie.wrap(He)),Be.apply?Be.apply(this,Ae):Be(Ae[0],Ae[1])}}function Re(Be){var Me=re[Be]&&re[Be].prototype;Me&&Me.hasOwnProperty&&Me.hasOwnProperty('addEventListener')&&(M(Me,'addEventListener',function(Ue){return function(Ae,ze,He,qe){try{ze&&ze.handleEvent&&(ze.handleEvent=Ie.wrap(ze.handleEvent))}catch(Ke){}var $e,Fe,We;return Pe&&Pe.dom&&('EventTarget'===Be||'Node'===Be)&&(Fe=Ie._breadcrumbEventHandler('click'),We=Ie._keypressEventHandler(),$e=function(Ke){if(Ke){var Ve;try{Ve=Ke.type}catch(Ge){return}return'click'===Ve?Fe(Ke):'keypress'===Ve?We(Ke):void 0}}),Ue.call(this,Ae,Ie.wrap(ze,void 0,$e),He,qe)}},je),M(Me,'removeEventListener',function(Ue){return function(Ae,ze,He,qe){try{ze=ze&&(ze.__raven_wrapper__?ze.__raven_wrapper__:ze)}catch($e){}return Ue.call(this,Ae,ze,He,qe)}},je))}var Ie=this,je=Ie._wrappedBuiltIns,Pe=this._globalOptions.autoBreadcrumbs;M(re,'setTimeout',Ne,je),M(re,'setInterval',Ne,je),re.requestAnimationFrame&&M(re,'requestAnimationFrame',function(Be){return function(Me){return Be(Ie.wrap(Me))}},je);for(var De=['EventTarget','Window','Node','ApplicationCache','AudioTrackList','ChannelMergerNode','CryptoOperation','EventSource','FileReader','HTMLUnknownElement','IDBDatabase','IDBRequest','IDBTransaction','KeyOperation','MediaController','MessagePort','ModalWindow','Notification','SVGElementInstance','Screen','TextTrack','TextTrackCue','TextTrackList','WebSocket','WebSocketWorker','Worker','XMLHttpRequest','XMLHttpRequestEventTarget','XMLHttpRequestUpload'],Le=0;Le<De.length;Le++)Re(De[Le])},_instrumentBreadcrumbs:function(){function Ne(Ae,ze){Ae in ze&&h(ze[Ae])&&M(ze,Ae,function(He){return Re.wrap(He)})}var Re=this,Ie=this._globalOptions.autoBreadcrumbs,je=Re._wrappedBuiltIns;if(Ie.xhr&&'XMLHttpRequest'in re){var Pe=XMLHttpRequest.prototype;M(Pe,'open',function(Ae){return function(ze,He){return y(He)&&-1===He.indexOf(Re._globalKey)&&(this.__raven_xhr={method:ze,url:He,status_code:null}),Ae.apply(this,arguments)}},je),M(Pe,'send',function(Ae){return function(){function He(){if(qe.__raven_xhr&&(1===qe.readyState||4===qe.readyState)){try{qe.__raven_xhr.status_code=qe.status}catch(We){}Re.captureBreadcrumb({type:'http',category:'xhr',data:qe.__raven_xhr})}}for(var qe=this,$e=['onload','onerror','onprogress'],Fe=0;Fe<$e.length;Fe++)Ne($e[Fe],qe);return'onreadystatechange'in qe&&h(qe.onreadystatechange)?M(qe,'onreadystatechange',function(We){return Re.wrap(We,void 0,He)}):qe.onreadystatechange=He,Ae.apply(this,arguments)}},je)}Ie.xhr&&'fetch'in re&&M(re,'fetch',function(Ae){return function(){for(var qe=Array(arguments.length),$e=0;$e<qe.length;++$e)qe[$e]=arguments[$e];var Ke,Fe=qe[0],We='GET';'string'==typeof Fe?Ke=Fe:(Ke=Fe.url,Fe.method&&(We=Fe.method)),qe[1]&&qe[1].method&&(We=qe[1].method);var Ve={method:We,url:Ke,status_code:null};return Re.captureBreadcrumb({type:'http',category:'fetch',data:Ve}),Ae.apply(this,qe).then(function(Ge){return Ve.status_code=Ge.status,Ge})}},je),Ie.dom&&this._hasDocument&&(oe.addEventListener?(oe.addEventListener('click',Re._breadcrumbEventHandler('click'),!1),oe.addEventListener('keypress',Re._keypressEventHandler(),!1)):(oe.attachEvent('onclick',Re._breadcrumbEventHandler('click')),oe.attachEvent('onkeypress',Re._keypressEventHandler())));var De=re.chrome,Le=De&&De.app&&De.app.runtime,Be=!Le&&re.history&&history.pushState;if(Ie.location&&Be){var Me=re.onpopstate;re.onpopstate=function(){var Ae=Re._location.href;if(Re._captureUrlChange(Re._lastHref,Ae),Me)return Me.apply(this,arguments)},M(history,'pushState',function(Ae){return function(){var ze=2<arguments.length?arguments[2]:void 0;return ze&&Re._captureUrlChange(Re._lastHref,ze+''),Ae.apply(this,arguments)}},je)}if(Ie.console&&'console'in re&&console.log){var Ue=function(Ae,ze){Re.captureBreadcrumb({message:Ae,level:ze.level,category:'console'})};S(['debug','info','warn','error','log'],function(Ae,ze){te(console,ze,Ue)})}},_restoreBuiltIns:function(){for(var Ne;this._wrappedBuiltIns.length;){Ne=this._wrappedBuiltIns.shift();var Re=Ne[0],Ie=Ne[1],je=Ne[2];Re[Ie]=je}},_drainPlugins:function(){var Ne=this;S(this._plugins,function(Re,Ie){var je=Ie[0],Pe=Ie[1];je.apply(Ne,[Ne].concat(Pe))})},_parseDSN:function(Ne){var Re=ae.exec(Ne),Ie={},je=7;try{for(;je--;)Ie[ne[je]]=Re[je]||''}catch(Pe){throw new Y('Invalid DSN: '+Ne)}if(Ie.pass&&!this._globalOptions.allowSecretKey)throw new Y('Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key');return Ie},_getGlobalServer:function(Ne){var Re='//'+Ne.host+(Ne.port?':'+Ne.port:'');return Ne.protocol&&(Re=Ne.protocol+':'+Re),Re},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(Ne,Re){var Ie=this._prepareFrames(Ne,Re);this._triggerEvent('handle',{stackInfo:Ne,options:Re}),this._processException(Ne.name,Ne.message,Ne.url,Ne.lineno,Ie,Re)},_prepareFrames:function(Ne,Re){var Ie=this,je=[];if(Ne.stack&&Ne.stack.length&&(S(Ne.stack,function(De,Le){var Be=Ie._normalizeFrame(Le);Be&&je.push(Be)}),Re&&Re.trimHeadFrames))for(var Pe=0;Pe<Re.trimHeadFrames&&Pe<je.length;Pe++)je[Pe].in_app=!1;return je=je.slice(0,this._globalOptions.stackTraceLimit),je},_normalizeFrame:function(Ne){if(Ne.url){var Re={filename:Ne.url,lineno:Ne.line,colno:Ne.column,'function':Ne.func||'?'};return Re.in_app=(!this._globalOptions.includePaths.test||this._globalOptions.includePaths.test(Re.filename))&&!/(Raven|TraceKit)\./.test(Re['function'])&&!/raven\.(min\.)?js$/.test(Re.filename),Re}},_processException:function(Ne,Re,Ie,je,Pe,De){var Le;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(Re))&&(Re+='',Pe&&Pe.length?(Ie=Pe[0].filename||Ie,Pe.reverse(),Le={frames:Pe}):Ie&&(Le={frames:[{filename:Ie,lineno:je,in_app:!0}]}),!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(Ie))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(Ie))){var Be=E({exception:{values:[{type:Ne,value:Re,stacktrace:Le}]},culprit:Ie},De);this._send(Be)}},_trimPacket:function(Ne){var Re=this._globalOptions.maxMessageLength;if(Ne.message&&(Ne.message=w(Ne.message,Re)),Ne.exception){var Ie=Ne.exception.values[0];Ie.value=w(Ie.value,Re)}var je=Ne.request;return je&&(je.url&&(je.url=w(je.url,this._globalOptions.maxUrlLength)),je.Referer&&(je.Referer=w(je.Referer,this._globalOptions.maxUrlLength))),Ne.breadcrumbs&&Ne.breadcrumbs.values&&this._trimBreadcrumbs(Ne.breadcrumbs),Ne},_trimBreadcrumbs:function(Ne){for(var Ie,je,Pe,Re=['to','from','url'],De=0;De<Ne.values.length;++De)if(je=Ne.values[De],je.hasOwnProperty('data')&&ee(je.data)){Pe=je.data;for(var Le=0;Le<Re.length;++Le)Ie=Re[Le],Pe.hasOwnProperty(Ie)&&(Pe[Ie]=w(Pe[Ie],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var Ne={};return this._hasNavigator&&ie.userAgent&&(Ne.headers={'User-Agent':navigator.userAgent}),this._hasDocument&&(oe.location&&oe.location.href&&(Ne.url=oe.location.href),oe.referrer&&(!Ne.headers&&(Ne.headers={}),Ne.headers.Referer=oe.referrer)),Ne}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&p()-this._backoffStart<this._backoffDuration},_isRepeatData:function(Ne){var Re=this._lastData;if(!Re||Ne.message!==Re.message||Ne.culprit!==Re.culprit)return!1;return Ne.stacktrace||Re.stacktrace?B(Ne.stacktrace,Re.stacktrace):Ne.exception||Re.exception?L(Ne.exception,Re.exception):!0},_setBackoffState:function(Ne){if(!this._shouldBackoff()){var Re=Ne.status;if(400===Re||401===Re||429===Re){var Ie;try{Ie=Ne.getResponseHeader('Retry-After'),Ie=1e3*parseInt(Ie,10)}catch(je){}this._backoffDuration=Ie?Ie:2*this._backoffDuration||1e3,this._backoffStart=p()}}},_send:function(Ne){var Re=this._globalOptions,Ie={project:this._globalProject,logger:Re.logger,platform:'javascript'},je=this._getHttpData();return je&&(Ie.request=je),Ne.trimHeadFrames&&delete Ne.trimHeadFrames,Ne=E(Ie,Ne),Ne.tags=E(E({},this._globalContext.tags),Ne.tags),Ne.extra=E(E({},this._globalContext.extra),Ne.extra),Ne.extra['session:duration']=p()-this._startTime,this._breadcrumbs&&0<this._breadcrumbs.length&&(Ne.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),x(Ne.tags)&&delete Ne.tags,this._globalContext.user&&(Ne.user=this._globalContext.user),Re.environment&&(Ne.environment=Re.environment),Re.release&&(Ne.release=Re.release),Re.serverName&&(Ne.server_name=Re.serverName),h(Re.dataCallback)&&(Ne=Re.dataCallback(Ne)||Ne),!Ne||x(Ne)||h(Re.shouldSendCallback)&&!Re.shouldSendCallback(Ne)?void 0:this._shouldBackoff()?void this._logDebug('warn','Raven dropped error due to backoff: ',Ne):void('number'==typeof Re.sampleRate?Math.random()<Re.sampleRate&&this._sendProcessedPayload(Ne):this._sendProcessedPayload(Ne))},_getUuid:function(){return R()},_sendProcessedPayload:function(Ne,Re){var Ie=this,je=this._globalOptions;if(this.isSetup()){if(this._lastEventId=Ne.event_id||(Ne.event_id=this._getUuid()),Ne=this._trimPacket(Ne),!this._globalOptions.allowDuplicates&&this._isRepeatData(Ne))return void this._logDebug('warn','Raven dropped repeat event: ',Ne);this._lastData=Ne,this._logDebug('debug','Raven about to send:',Ne);var Pe={sentry_version:'7',sentry_client:'raven-js/'+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(Pe.sentry_secret=this._globalSecret);var De=Ne.exception&&Ne.exception.values[0];this.captureBreadcrumb({category:'sentry',message:De?(De.type?De.type+': ':'')+De.value:Ne.message,event_id:Ne.event_id,level:Ne.level||'error'});var Le=this._globalEndpoint;(je.transport||this._makeRequest).call(this,{url:Le,auth:Pe,data:Ne,options:je,onSuccess:function(){Ie._resetBackoff(),Ie._triggerEvent('success',{data:Ne,src:Le}),Re&&Re()},onError:function(Me){Ie._logDebug('error','Raven transport failed to send: ',Me),Me.request&&Ie._setBackoffState(Me.request),Ie._triggerEvent('failure',{data:Ne,src:Le}),Me=Me||new Error('Raven send failed (no additional details provided)'),Re&&Re(Me)}})}},_makeRequest:function(Ne){var Re=new XMLHttpRequest,Ie='withCredentials'in Re||'undefined'!=typeof XDomainRequest;if(Ie){var je=Ne.url;'withCredentials'in Re?Re.onreadystatechange=function(){if(4===Re.readyState)if(200===Re.status)Ne.onSuccess&&Ne.onSuccess();else if(Ne.onError){var Pe=new Error('Sentry error code: '+Re.status);Pe.request=Re,Ne.onError(Pe)}}:(Re=new XDomainRequest,je=je.replace(/^https?:/,''),Ne.onSuccess&&(Re.onload=Ne.onSuccess),Ne.onError&&(Re.onerror=function(){var Pe=new Error('Sentry error code: XDomainRequest');Pe.request=Re,Ne.onError(Pe)})),Re.open('POST',je+'?'+T(Ne.auth)),Re.send(X(Ne.data))}},_logDebug:function(Ne){this._originalConsoleMethods[Ne]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[Ne],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(Ne,Re){g(Re)?delete this._globalContext[Ne]:this._globalContext[Ne]=E(this._globalContext[Ne]||{},Re)}};var se=Object.prototype;'undefined'!=typeof __DEV__&&__DEV__&&(f.utils={isUndefined:g,isFunction:h,isString:y,isObject:ee,isEmptyObject:x,isError:Z,each:S,objectMerge:E,truncate:w,hasKey:C,joinRegExp:O,urlencode:T,uuid4:R,htmlTreeAsString:I,htmlElementAsString:P,parseUrl:N,fill:M}),f.prototype.setUser=f.prototype.setUserContext,f.prototype.setReleaseContext=f.prototype.setRelease;var de='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,ce=de.Raven,ue=new f;ue.noConflict=function(){return de.Raven=ce,ue},ue.afterLoad();var pe=ue,fe={requestToken:function(Ne){return A.request({method:'POST',url:z.URL+'/token/request',withCredentials:!0,data:{email:Ne}}).then(function(Re){console.log(Re),H.flashMessage=Re.note}).catch(function(Re){pe.captureException(Re)})},activateToken:function(Ne){return A.request({method:'POST',url:z.URL+'/token/activate',withCredentials:!0,data:{token:Ne}}).then(function(Re){window.localStorage.setItem('hydrocarbon-key',Re.key),window.localStorage.setItem('hydrocarbon-email',Re.email),H.flashMessage='logged in ok'})},logout:function(){return A.request({method:'POST',url:z.URL+'/key/deactivate',withCredentials:!0,data:{key:window.localStorage.getItem('hydrocarbon-key')}}).then(function(){window.localStorage.removeItem('hydrocarbon-key'),window.localStorage.removeItem('hydrocarbon-email'),H.flashMessage='logged out'})},loggedIn:function(){return null!==window.localStorage.getItem('hydrocarbon-key')},loggedInUser:function(){return null===window.localStorage.getItem('hydrocarbon-key')?'':window.localStorage.getItem('hydrocarbon-email')}},he='link dim gray    f6 f5-ns dib mr3',be={view(){return A('nav',{class:'pa3 pa4-ns'},A('a',{class:'link dim black b f6 f5-ns dib mr3',href:'/',oncreate:A.route.link},'hydrocarbon'),fe.loggedIn()?[A('a',{class:he},fe.loggedInUser()),A('a',{class:he,href:'/settings',oncreate:A.route.link},'settings'),A('a',{class:he,href:'/logout',oncreate:A.route.link},'logout')]:A('a',{class:he,href:'/login',oncreate:A.route.link},'login'))}},ye='f6 dib ph2 link mid-gray dim',ke={view(){return A('footer',{class:'ph3 pv2 ph5-m w-100 mid-gray absolute bottom-1'},[A('small',{class:'f6 db tc'},'\xA9 2017 ',A('b',{class:'b'},'hydrocarbon')),A('div',{class:'flex items-center justify-center tc mt2'},A('a',{class:'f6 dib ph2 link mid-gray dim bottom-0 lh0',style:'height: 16px;',href:'https://github.com/fortytw2/hydrocarbon?ref=hc'},A('svg',{fill:'currentColor',xmlns:'http://www.w3.org/2000/svg',width:'16px',height:'16px','view-box':'0 0 16 16','fill-rule':'evenodd','clip-rule':'evenodd','stroke-linejoin':'round','stroke-miterlimit':'1.414'},A('path',{d:'M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8'}))),A('a',{class:ye,href:'/terms-and-conditions',oncreate:A.route.link},'terms and conditions'),A('a',{class:ye,href:'/promise',oncreate:A.route.link},'promise'),A('a',{class:ye,href:'/privacy-policy',oncreate:A.route.link},'privacy'))])}},xe={view(){if(''!==H.flashMessage){var Re=H.flashMessage;return H.flashMessage='',A('div',{onchange:function(Ie){H.flashMessage[Ie.target.name]=Ie.target.value},class:'flex items-center justify-center pa4 bg-lightest-red red'},A('span',{class:'lh-title ml3'},Re))}}},Se={view(Ne){return A('div',{class:'min-vh-100'},[A(be),A(xe),A('div',{class:'fl w-100 pa2 h-auto'},Ne.children),A(ke)])}},we={view(){return A('form',{class:'measure center',onsubmit:function(Re){Re.preventDefault(),fe.requestToken(document.getElementById('email').value)}},[A('fieldset',{class:'ba b--transparent ph0 mh0'},A('div',{class:'mt3'},[A('label',{class:'db fw6 lh-copy f6',for:'email-address'},'we\'ll send you a link to login'),A('input',{class:'pa2 input-reset ba bg-transparent w-100',placeholder:'example@example.com',id:'email',type:'email',name:'email-address'})])),A('div',A('input',{class:'b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib',type:'submit'},'send link'))])}},Ce={oncreate(){fe.logout()},view(){return A.route.set('/login')}},Oe={oncreate(){fe.activateToken(A.route.param('key'))},view(){return A.route.set('/')}},Te={view(){return A('h1','settings page not finished')}};A.route.prefix(''),A.route(document.body,'/',{'/':{render:function(){return A(Se,A('p','this is the homepage'))}},'/about':{render:function(){return A(Se,A('p','this is the about page'))}},'/privacy-policy':{render:function(){return A(Se,A('p','this is privacy policy'))}},'/terms-and-conditions':{render:function(){return A(Se,A('p','this is terms and conditions'))}},'/promise':{render:function(){return A(Se,A('p','this is the hydrocarbon promise'))}},'/login':{render:function(){return A(Se,A(we))}},'/logout':{render:function(){return A(Se,A(Ce))}},'/login-callback':{render:function(){return A(Se,A(Oe))}},'/settings':{render:function(){return A(Se,A(Te))}}}),''!==z.SENTRY_PUBLIC_DSN&&(console.log('installing sentry',z.SENTRY_PUBLIC_DSN),pe.config(z.SENTRY_PUBLIC_DSN,{environment:'HYDROCARBON_ENV',autoBreadcrumbs:{xhr:!0,console:!0,dom:!0,location:!0}}).install())})();
//# sourceMappingURL=bundle.min.js.map
