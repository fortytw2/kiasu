var _Mathabs=Math.abs;(function(){'use strict';function n(Oe,Te){return Te={exports:{}},Oe(Te,Te.exports),Te.exports}function d(){return'undefined'==typeof document||'undefined'==typeof document.location?'':document.location.href}function u(Oe){this.name='RavenConfigError',this.message=Oe}function p(){return+new Date}function f(){for(var Oe in this._hasJSON=!!('object'==typeof JSON&&JSON.stringify),this._hasDocument=!g(me),this._hasNavigator=!g(he),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:'javascript',ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:'anonymous',collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=ge.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=p(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=ge.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[Oe]=this._originalConsole[Oe]}function g(Oe){return void 0===Oe}function h(Oe){return'function'==typeof Oe}function y(Oe){return'[object String]'===be.toString.call(Oe)}function x(Oe){for(var Te in Oe)return!1;return!0}function E(Oe,Te){var Ne,Re;if(g(Oe.length))for(Ne in Oe)C(Oe,Ne)&&Te.call(null,Ne,Oe[Ne]);else if(Re=Oe.length,Re)for(Ne=0;Ne<Re;Ne++)Te.call(null,Ne,Oe[Ne])}function S(Oe,Te){return Te?(E(Te,function(Ne,Re){Oe[Ne]=Re}),Oe):Oe}function w(Oe,Te){return!Te||Oe.length<=Te?Oe:Oe.substr(0,Te)+'\u2026'}function C(Oe,Te){return be.hasOwnProperty.call(Oe,Te)}function O(Oe){for(var je,Te=[],Ne=0,Re=Oe.length;Ne<Re;Ne++)je=Oe[Ne],y(je)?Te.push(je.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,'\\$1')):je&&je.source&&Te.push(je.source);return new RegExp(Te.join('|'),'i')}function T(Oe){var Te=[];return E(Oe,function(Ne,Re){Te.push(encodeURIComponent(Ne)+'='+encodeURIComponent(Re))}),Te.join('&')}function N(Oe){var Te=Oe.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Te)return{};var Ne=Te[6]||'',Re=Te[8]||'';return{protocol:Te[2],host:Te[4],path:Te[5],relative:Te[5]+Ne+Re}}function R(){var Oe=ge.crypto||ge.msCrypto;if(!g(Oe)&&Oe.getRandomValues){var Te=new Uint16Array(8);Oe.getRandomValues(Te),Te[3]=16384|4095&Te[3],Te[4]=32768|16383&Te[4];var Ne=function(Re){for(var je=Re.toString(16);4>je.length;)je='0'+je;return je};return Ne(Te[0])+Ne(Te[1])+Ne(Te[2])+Ne(Te[3])+Ne(Te[4])+Ne(Te[5])+Ne(Te[6])+Ne(Te[7])}return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(Re){var je=0|16*Math.random(),Pe='x'===Re?je:8|3&je;return Pe.toString(16)})}function P(Oe){for(var Ie,Re=[],je=0,Pe=0,De=' > ',Le=De.length;Oe&&je++<5&&(Ie=D(Oe),!('html'===Ie||1<je&&Pe+Re.length*Le+Ie.length>=80));)Re.push(Ie),Pe+=Ie.length,Oe=Oe.parentNode;return Re.reverse().join(De)}function D(Oe){var Ne,Re,je,Pe,De,Te=[];if(!Oe||!Oe.tagName)return'';if(Te.push(Oe.tagName.toLowerCase()),Oe.id&&Te.push('#'+Oe.id),Ne=Oe.className,Ne&&y(Ne))for(Re=Ne.split(/\s+/),De=0;De<Re.length;De++)Te.push('.'+Re[De]);var Le=['type','name','title','alt'];for(De=0;De<Le.length;De++)je=Le[De],Pe=Oe.getAttribute(je),Pe&&Te.push('['+je+'="'+Pe+'"]');return Te.join('')}function L(Oe,Te){return!!(!!Oe^!!Te)}function I(Oe,Te){return!L(Oe,Te)&&(Oe=Oe.values[0],Te=Te.values[0],Oe.type!==Te.type||Oe.value!==Te.value?!1:B(Oe.stacktrace,Te.stacktrace))}function B(Oe,Te){if(L(Oe,Te))return!1;var Ne=Oe.frames,Re=Te.frames;if(Ne.length!==Re.length)return!1;for(var je,Pe,De=0;De<Ne.length;De++)if(je=Ne[De],Pe=Re[De],je.filename!==Pe.filename||je.lineno!==Pe.lineno||je.colno!==Pe.colno||je['function']!==Pe['function'])return!1;return!0}function M(Oe,Te,Ne,Re){var je=Oe[Te];Oe[Te]=Ne(je),Re&&Re.push([Oe,Te,je])}var U='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,A=n(function(Oe){(function(){'use strict';function Te(Je,Qe,Ze,et,tt,nt){return{tag:Je,key:Qe,attrs:Ze,children:et,text:tt,dom:nt,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function Ne(Je){for(var Qe,Ze='div',et=[],tt={};Qe=De.exec(Je);){var nt=Qe[1],at=Qe[2];if(''===nt&&''!==at)Ze=at;else if('#'===nt)tt.id=at;else if('.'===nt)et.push(at);else if('['===Qe[3][0]){var rt=Qe[6];rt&&(rt=rt.replace(/\\(["'])/g,'$1').replace(/\\\\/g,'\\')),'class'===Qe[4]?et.push(rt):tt[Qe[4]]=rt||!0}}return 0<et.length&&(tt.className=et.join(' ')),Le[Je]={tag:Ze,attrs:tt}}function Re(Je,Qe,Ze){var tt,nt,et=!1,at=Qe.className||Qe.class;for(var rt in Je.attrs)Ie.call(Je.attrs,rt)&&(Qe[rt]=Je.attrs[rt]);for(var rt in void 0!==at&&(void 0!==Qe.class&&(Qe.class=void 0,Qe.className=at),null!=Je.attrs.className&&(Qe.className=Je.attrs.className+' '+at)),Qe)if(Ie.call(Qe,rt)&&'key'!=rt){et=!0;break}return Array.isArray(Ze)&&1===Ze.length&&null!=Ze[0]&&'#'===Ze[0].tag?nt=Ze[0].children:tt=Ze,Te(Je.tag,Qe.key,et?Qe:void 0,tt,nt)}function je(Je){var et,Qe=arguments[1],Ze=2;if(null==Je||'string'!=typeof Je&&'function'!=typeof Je&&'function'!=typeof Je.view)throw Error('The selector must be either a string or a component.');if('string'==typeof Je)var tt=Le[Je]||Ne(Je);if(null==Qe?Qe={}:('object'!=typeof Qe||null!=Qe.tag||Array.isArray(Qe))&&(Qe={},Ze=1),arguments.length===Ze+1)et=arguments[Ze],Array.isArray(et)||(et=[et]);else for(et=[];Ze<arguments.length;)et.push(arguments[Ze++]);var nt=Te.normalizeChildren(et);return'string'==typeof Je?Re(tt,Qe,nt):Te(Je,Qe.key,Qe,nt)}function Pe(Je){var Qe=16,Ze=0,et=null,tt='function'==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var nt=Date.now();0==Ze||nt-Ze>=Qe?(Ze=nt,Je()):null==et&&(et=tt(function(){et=null,Je(),Ze=Date.now()},Qe-(nt-Ze)))}}Te.normalize=function(Je){return Array.isArray(Je)?Te('[',void 0,void 0,Te.normalizeChildren(Je),void 0,void 0):null!=Je&&'object'!=typeof Je?Te('#',void 0,void 0,!1===Je?'':Je,void 0,void 0):Je},Te.normalizeChildren=function(Qe){for(var Ze=0;Ze<Qe.length;Ze++)Qe[Ze]=Te.normalize(Qe[Ze]);return Qe};var De=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Le={},Ie={}.hasOwnProperty;je.trust=function(Je){return null==Je&&(Je=''),Te('<',void 0,void 0,Je,void 0,void 0)},je.fragment=function(Je,Qe){return Te('[',Je.key,Je,Te.normalizeChildren(Qe),void 0,void 0)};var Be=je,Me=function(Je){function Qe(ot,lt){return function dt(ct){var ut;try{if(lt&&null!=ct&&('object'==typeof ct||'function'==typeof ct)&&'function'==typeof(ut=ct.then)){if(ct===et)throw new TypeError('Promise can\'t be resolved w/ itself');Ze(ut.bind(ct))}else st(function(){lt||0!==ot.length||console.error('Possible unhandled promise rejection:',ct);for(var pt=0;pt<ot.length;pt++)ot[pt](ct);tt.length=0,nt.length=0,it.state=lt,it.retry=function(){dt(ct)}})}catch(pt){rt(pt)}}}function Ze(ot){function lt(ut){return function(pt){0<dt++||ut(pt)}}var dt=0,ct=lt(rt);try{ot(lt(at),ct)}catch(ut){ct(ut)}}if(!(this instanceof Me))throw new Error('Promise must be called with `new`');if('function'!=typeof Je)throw new TypeError('executor must be a function');var et=this,tt=[],nt=[],at=Qe(tt,!0),rt=Qe(nt,!1),it=et._instance={resolvers:tt,rejectors:nt},st='function'==typeof setImmediate?setImmediate:setTimeout;Ze(Je)};if(Me.prototype.then=function(Je,Qe){function Ze(it,st,ot,lt){st.push(function(dt){if('function'!=typeof it)ot(dt);else try{nt(it(dt))}catch(ct){at&&at(ct)}}),'function'==typeof tt.retry&&lt===tt.state&&tt.retry()}var nt,at,et=this,tt=et._instance,rt=new Me(function(it,st){nt=it,at=st});return Ze(Je,tt.resolvers,nt,!0),Ze(Qe,tt.rejectors,at,!1),rt},Me.prototype.catch=function(Je){return this.then(null,Je)},Me.resolve=function(Je){return Je instanceof Me?Je:new Me(function(Qe){Qe(Je)})},Me.reject=function(Je){return new Me(function(Qe,Ze){Ze(Je)})},Me.all=function(Je){return new Me(function(Qe,Ze){var et=Je.length,tt=0,nt=[];if(0===Je.length)Qe([]);else for(var at=0;at<Je.length;at++)(function(rt){function it(st){tt++,nt[rt]=st,tt===et&&Qe(nt)}null!=Je[rt]&&('object'==typeof Je[rt]||'function'==typeof Je[rt])&&'function'==typeof Je[rt].then?Je[rt].then(it,Ze):it(Je[rt])})(at)})},Me.race=function(Je){return new Me(function(Qe,Ze){for(var et=0;et<Je.length;et++)Je[et].then(Qe,Ze)})},'undefined'!=typeof window){'undefined'==typeof window.Promise&&(window.Promise=Me);var Me=window.Promise}else if('undefined'!=typeof U){'undefined'==typeof U.Promise&&(U.Promise=Me);var Me=U.Promise}else;var Ue=function(Je){function Qe(tt,nt){if(Array.isArray(nt))for(var at=0;at<nt.length;at++)Qe(tt+'['+at+']',nt[at]);else if('[object Object]'===Object.prototype.toString.call(nt))for(var at in nt)Qe(tt+'['+at+']',nt[at]);else Ze.push(encodeURIComponent(tt)+(null!=nt&&''!==nt?'='+encodeURIComponent(nt):''))}if('[object Object]'!==Object.prototype.toString.call(Je))return'';var Ze=[];for(var et in Je)Qe(et,Je[et]);return Ze.join('&')},Ae=/^file:\/\//i,He=function(Je,Qe){function et(){function ut(){0==--pt&&'function'==typeof ct&&ct()}var pt=0;return function ft(gt){var mt=gt.then;return gt.then=function(){pt++;var ht=mt.apply(gt,arguments);return ht.then(ut,function(bt){if(ut(),0==pt)throw bt}),ft(ht)},gt}}function tt(ut,pt){if('string'==typeof ut){var ft=ut;ut=pt||{},null==ut.url&&(ut.url=ft)}return ut}function rt(ut,pt){if(null==pt)return ut;for(var mt,ft=ut.match(/:[^\/]+/gi)||[],gt=0;gt<ft.length;gt++)mt=ft[gt].slice(1),null!=pt[mt]&&(ut=ut.replace(ft[gt],pt[mt]));return ut}function it(ut,pt){var ft=Ue(pt);if(''!==ft){var gt=0>ut.indexOf('?')?'?':'&';ut+=gt+ft}return ut}function st(ut){try{return''===ut?null:JSON.parse(ut)}catch(pt){throw new Error(ut)}}function ot(ut){return ut.responseText}function lt(ut,pt){if('function'==typeof ut)if(Array.isArray(pt))for(var ft=0;ft<pt.length;ft++)pt[ft]=new ut(pt[ft]);else return new ut(pt);return pt}var ct,dt=0;return{request:function(ut,pt){var ft=et();ut=tt(ut,pt);var gt=new Qe(function(mt,ht){null==ut.method&&(ut.method='GET'),ut.method=ut.method.toUpperCase();var bt='GET'===ut.method||'TRACE'===ut.method?!1:'boolean'!=typeof ut.useBody||ut.useBody;'function'!=typeof ut.serialize&&(ut.serialize='undefined'!=typeof FormData&&ut.data instanceof FormData?function(xt){return xt}:JSON.stringify),'function'!=typeof ut.deserialize&&(ut.deserialize=st),'function'!=typeof ut.extract&&(ut.extract=ot),ut.url=rt(ut.url,ut.data),bt?ut.data=ut.serialize(ut.data):ut.url=it(ut.url,ut.data);var _t=new Je.XMLHttpRequest,vt=!1,yt=_t.abort;for(var kt in _t.abort=function(){vt=!0,yt.call(_t)},_t.open(ut.method,ut.url,'boolean'!=typeof ut.async||ut.async,'string'==typeof ut.user?ut.user:void 0,'string'==typeof ut.password?ut.password:void 0),ut.serialize===JSON.stringify&&bt&&_t.setRequestHeader('Content-Type','application/json; charset=utf-8'),ut.deserialize===st&&_t.setRequestHeader('Accept','application/json, text/*'),ut.withCredentials&&(_t.withCredentials=ut.withCredentials),ut.headers)({}).hasOwnProperty.call(ut.headers,kt)&&_t.setRequestHeader(kt,ut.headers[kt]);'function'==typeof ut.config&&(_t=ut.config(_t,ut)||_t),_t.onreadystatechange=function(){if(!vt&&4===_t.readyState)try{var xt=ut.extract===ot?ut.deserialize(ut.extract(_t,ut)):ut.extract(_t,ut);if(200<=_t.status&&300>_t.status||304===_t.status||Ae.test(ut.url))mt(lt(ut.type,xt));else{var Et=new Error(_t.responseText);for(var St in xt)Et[St]=xt[St];ht(Et)}}catch(wt){ht(wt)}},bt&&null!=ut.data?_t.send(ut.data):_t.send()});return!0===ut.background?gt:ft(gt)},jsonp:function(ut,pt){var ft=et();ut=tt(ut,pt);var gt=new Qe(function(mt,ht){var bt=ut.callbackName||'_mithril_'+Math.round(1e16*Math.random())+'_'+dt++,_t=Je.document.createElement('script');Je[bt]=function(vt){_t.parentNode.removeChild(_t),mt(lt(ut.type,vt)),delete Je[bt]},_t.onerror=function(){_t.parentNode.removeChild(_t),ht(new Error('JSONP request failed')),delete Je[bt]},null==ut.data&&(ut.data={}),ut.url=rt(ut.url,ut.data),ut.data[ut.callbackKey||'callback']=bt,_t.src=it(ut.url,ut.data),Je.document.documentElement.appendChild(_t)});return!0===ut.background?gt:ft(gt)},setCompletionCallback:function(ut){ct=ut}}}(window,Me),qe=function(Je){function Ze(qt,$t,Ft,Wt,Kt,Vt,Gt){for(var Yt,Xt=Ft;Xt<Wt;Xt++)Yt=$t[Xt],null!=Yt&&et(qt,Yt,Kt,Gt,Vt)}function et(qt,$t,Ft,Wt,Kt){var Vt=$t.tag;return'string'==typeof Vt?($t.state={},null!=$t.attrs&&It($t.attrs,$t,Ft),'#'===Vt?tt(qt,$t,Kt):'<'===Vt?nt(qt,$t,Kt):'['===Vt?at(qt,$t,Ft,Wt,Kt):rt(qt,$t,Ft,Wt,Kt)):st(qt,$t,Ft,Wt,Kt)}function tt(qt,$t,Ft){return $t.dom=At.createTextNode($t.children),_t(qt,$t.dom,Ft),$t.dom}function nt(qt,$t,Ft){var Wt=$t.children.match(/^\s*?<(\w+)/im)||[],Kt={caption:'table',thead:'table',tbody:'table',tfoot:'table',tr:'tbody',th:'tr',td:'tr',colgroup:'table',col:'colgroup'}[Wt[1]]||'div',Vt=At.createElement(Kt);Vt.innerHTML=$t.children,$t.dom=Vt.firstChild,$t.domSize=Vt.childNodes.length;for(var Xt,Gt=At.createDocumentFragment();Xt=Vt.firstChild;)Gt.appendChild(Xt);return _t(qt,Gt,Ft),Gt}function at(qt,$t,Ft,Wt,Kt){var Vt=At.createDocumentFragment();if(null!=$t.children){var Gt=$t.children;Ze(Vt,Gt,0,Gt.length,Ft,null,Wt)}return $t.dom=Vt.firstChild,$t.domSize=Vt.childNodes.length,_t(qt,Vt,Kt),Vt}function rt(qt,$t,Ft,Wt,Kt){var Vt=$t.tag;switch($t.tag){case'svg':Wt='http://www.w3.org/2000/svg';break;case'math':Wt='http://www.w3.org/1998/Math/MathML';}var Gt=$t.attrs,Xt=Gt&&Gt.is,Yt=Wt?Xt?At.createElementNS(Wt,Vt,{is:Xt}):At.createElementNS(Wt,Vt):Xt?At.createElement(Vt,{is:Xt}):At.createElement(Vt);if($t.dom=Yt,null!=Gt&&St($t,Gt,Wt),_t(qt,Yt,Kt),null!=$t.attrs&&null!=$t.attrs.contenteditable)vt($t);else if(null!=$t.text&&(''===$t.text?$t.children=[Te('#',void 0,void 0,$t.text,void 0,void 0)]:Yt.textContent=$t.text),null!=$t.children){var Jt=$t.children;Ze(Yt,Jt,0,Jt.length,Ft,null,Wt),Ct($t)}return Yt}function it(qt,$t){var Ft;if('function'==typeof qt.tag.view){if(qt.state=Object.create(qt.tag),Ft=qt.state.view,null!=Ft.$$reentrantLock$$)return zt;Ft.$$reentrantLock$$=!0}else{if(qt.state=void 0,Ft=qt.tag,null!=Ft.$$reentrantLock$$)return zt;Ft.$$reentrantLock$$=!0,qt.state=null!=qt.tag.prototype&&'function'==typeof qt.tag.prototype.view?new qt.tag(qt):qt.tag(qt)}if(qt._state=qt.state,null!=qt.attrs&&It(qt.attrs,qt,$t),It(qt._state,qt,$t),qt.instance=Te.normalize(qt._state.view.call(qt.state,qt)),qt.instance===qt)throw Error('A view cannot return the vnode it received as argument');Ft.$$reentrantLock$$=null}function st(qt,$t,Ft,Wt,Kt){if(it($t,Ft),null!=$t.instance){var Vt=et(qt,$t.instance,Ft,Wt,Kt);return $t.dom=$t.instance.dom,$t.domSize=null==$t.dom?0:$t.instance.domSize,_t(qt,Vt,Kt),Vt}return $t.domSize=0,zt}function ot(qt,$t,Ft,Wt,Kt,Vt,Gt){if($t!==Ft&&(null!=$t||null!=Ft))if(null==$t)Ze(qt,Ft,0,Ft.length,Kt,Vt,void 0);else if(null==Ft)yt($t,0,$t.length,Ft);else{if($t.length===Ft.length){for(var Xt=!1,Yt=0;Yt<Ft.length;Yt++)if(null!=Ft[Yt]&&null!=$t[Yt]){Xt=null==Ft[Yt].key&&null==$t[Yt].key;break}if(Xt){for(var Yt=0;Yt<$t.length;Yt++)if($t[Yt]===Ft[Yt])continue;else null==$t[Yt]&&null!=Ft[Yt]?et(qt,Ft[Yt],Kt,Gt,bt($t,Yt+1,Vt)):null==Ft[Yt]?yt($t,Yt,Yt+1,Ft):lt(qt,$t[Yt],Ft[Yt],Kt,bt($t,Yt+1,Vt),Wt,Gt);return}}if(Wt=Wt||gt($t,Ft),Wt){var Jt=$t.pool;$t=$t.concat($t.pool)}for(var nn,Qt=0,Zt=0,en=$t.length-1,tn=Ft.length-1;en>=Qt&&tn>=Zt;){var an=$t[Qt],rn=Ft[Zt];if(an===rn&&!Wt)Qt++,Zt++;else if(null==an)Qt++;else if(null==rn)Zt++;else if(an.key===rn.key){var sn=null!=Jt&&Qt>=$t.length-Jt.length||null==Jt&&Wt;Qt++,Zt++,lt(qt,an,rn,Kt,bt($t,Qt,Vt),sn,Gt),Wt&&an.tag===rn.tag&&_t(qt,ht(an),Vt)}else{var an=$t[en];if(an===rn&&!Wt)en--,Zt++;else if(null==an)en--;else if(null==rn)Zt++;else if(an.key===rn.key){var sn=null!=Jt&&en>=$t.length-Jt.length||null==Jt&&Wt;lt(qt,an,rn,Kt,bt($t,en+1,Vt),sn,Gt),(Wt||Zt<tn)&&_t(qt,ht(an),bt($t,Qt,Vt)),en--,Zt++}else break}}for(;en>=Qt&&tn>=Zt;){var an=$t[en],rn=Ft[tn];if(an===rn&&!Wt)en--,tn--;else if(null==an)en--;else if(null==rn)tn--;else if(an.key===rn.key){var sn=null!=Jt&&en>=$t.length-Jt.length||null==Jt&&Wt;lt(qt,an,rn,Kt,bt($t,en+1,Vt),sn,Gt),Wt&&an.tag===rn.tag&&_t(qt,ht(an),Vt),null!=an.dom&&(Vt=an.dom),en--,tn--}else{if(nn||(nn=mt($t,en)),null!=rn){var on=nn[rn.key];if(null!=on){var ln=$t[on],sn=null!=Jt&&on>=$t.length-Jt.length||null==Jt&&Wt;lt(qt,ln,rn,Kt,bt($t,en+1,Vt),Wt,Gt),_t(qt,ht(ln),Vt),$t[on].skip=!0,null!=ln.dom&&(Vt=ln.dom)}else{var dn=et(qt,rn,Kt,void 0,Vt);Vt=dn}}tn--}if(tn<Zt)break}Ze(qt,Ft,Zt,tn+1,Kt,Vt,Gt),yt($t,Qt,en+1,Ft)}}function lt(qt,$t,Ft,Wt,Kt,Vt,Gt){var Xt=$t.tag,Yt=Ft.tag;if(Xt===Yt){if(Ft.state=$t.state,Ft._state=$t._state,Ft.events=$t.events,!Vt&&Mt(Ft,$t))return;'string'==typeof Xt?(null!=Ft.attrs&&(Vt?(Ft.state={},It(Ft.attrs,Ft,Wt)):Bt(Ft.attrs,Ft,Wt)),'#'===Xt?dt($t,Ft):'<'===Xt?ct(qt,$t,Ft,Kt):'['===Xt?ut(qt,$t,Ft,Vt,Wt,Kt,Gt):pt($t,Ft,Vt,Wt,Gt)):ft(qt,$t,Ft,Wt,Kt,Vt,Gt)}else kt($t,null),et(qt,Ft,Wt,Gt,Kt)}function dt(qt,$t){qt.children.toString()!==$t.children.toString()&&(qt.dom.nodeValue=$t.children),$t.dom=qt.dom}function ct(qt,$t,Ft,Wt){$t.children===Ft.children?(Ft.dom=$t.dom,Ft.domSize=$t.domSize):(ht($t),nt(qt,Ft,Wt))}function ut(qt,$t,Ft,Wt,Kt,Vt,Gt){ot(qt,$t.children,Ft.children,Wt,Kt,Vt,Gt);var Xt=0,Yt=Ft.children;if(Ft.dom=null,null!=Yt){for(var Qt,Jt=0;Jt<Yt.length;Jt++)Qt=Yt[Jt],null!=Qt&&null!=Qt.dom&&(null==Ft.dom&&(Ft.dom=Qt.dom),Xt+=Qt.domSize||1);1!==Xt&&(Ft.domSize=Xt)}}function pt(qt,$t,Ft,Wt,Kt){var Vt=$t.dom=qt.dom;switch($t.tag){case'svg':Kt='http://www.w3.org/2000/svg';break;case'math':Kt='http://www.w3.org/1998/Math/MathML';}'textarea'===$t.tag&&(null==$t.attrs&&($t.attrs={}),null!=$t.text&&($t.attrs.value=$t.text,$t.text=void 0)),Ot($t,qt.attrs,$t.attrs,Kt),null!=$t.attrs&&null!=$t.attrs.contenteditable?vt($t):null!=qt.text&&null!=$t.text&&''!==$t.text?qt.text.toString()!==$t.text.toString()&&(qt.dom.firstChild.nodeValue=$t.text):(null!=qt.text&&(qt.children=[Te('#',void 0,void 0,qt.text,void 0,qt.dom.firstChild)]),null!=$t.text&&($t.children=[Te('#',void 0,void 0,$t.text,void 0,void 0)]),ot(Vt,qt.children,$t.children,Ft,Wt,null,Kt))}function ft(qt,$t,Ft,Wt,Kt,Vt,Gt){if(Vt)it(Ft,Wt);else{if(Ft.instance=Te.normalize(Ft._state.view.call(Ft.state,Ft)),Ft.instance===Ft)throw Error('A view cannot return the vnode it received as argument');null!=Ft.attrs&&Bt(Ft.attrs,Ft,Wt),Bt(Ft._state,Ft,Wt)}null==Ft.instance?null==$t.instance?(Ft.dom=$t.dom,Ft.domSize=$t.domSize):(kt($t.instance,null),Ft.dom=void 0,Ft.domSize=0):(null==$t.instance?et(qt,Ft.instance,Wt,Gt,Kt):lt(qt,$t.instance,Ft.instance,Wt,Kt,Vt,Gt),Ft.dom=Ft.instance.dom,Ft.domSize=Ft.instance.domSize)}function gt(qt,$t){if(null!=qt.pool&&_Mathabs(qt.pool.length-$t.length)<=_Mathabs(qt.length-$t.length)){var Ft=qt[0]&&qt[0].children&&qt[0].children.length||0,Wt=qt.pool[0]&&qt.pool[0].children&&qt.pool[0].children.length||0,Kt=$t[0]&&$t[0].children&&$t[0].children.length||0;if(_Mathabs(Wt-Kt)<=_Mathabs(Ft-Kt))return!0}return!1}function mt(qt,$t){for(var Kt,Ft={},Wt=0,Wt=0;Wt<$t;Wt++)if(Kt=qt[Wt],null!=Kt){var Vt=Kt.key;null!=Vt&&(Ft[Vt]=Wt)}return Ft}function ht(qt){var $t=qt.domSize;if(null!=$t||null==qt.dom){var Ft=At.createDocumentFragment();if(0<$t){for(var Wt=qt.dom;--$t;)Ft.appendChild(Wt.nextSibling);Ft.insertBefore(Wt,Ft.firstChild)}return Ft}return qt.dom}function bt(qt,$t,Ft){for(;$t<qt.length;$t++)if(null!=qt[$t]&&null!=qt[$t].dom)return qt[$t].dom;return Ft}function _t(qt,$t,Ft){Ft&&Ft.parentNode?qt.insertBefore($t,Ft):qt.appendChild($t)}function vt(qt){var $t=qt.children;if(null!=$t&&1===$t.length&&'<'===$t[0].tag){var Ft=$t[0].children;qt.dom.innerHTML!==Ft&&(qt.dom.innerHTML=Ft)}else if(null!=qt.text||null!=$t&&0!==$t.length)throw new Error('Child node of a contenteditable must be trusted')}function yt(qt,$t,Ft,Wt){for(var Vt,Kt=$t;Kt<Ft;Kt++)Vt=qt[Kt],null!=Vt&&(Vt.skip?Vt.skip=!1:kt(Vt,Wt))}function kt(qt,$t){function Ft(){if(++Kt==Wt&&(Et(qt),qt.dom)){var Gt=qt.domSize||1;if(1<Gt)for(var Xt=qt.dom;--Gt;)xt(Xt.nextSibling);xt(qt.dom),null==$t||null!=qt.domSize||Pt(qt.attrs)||'string'!=typeof qt.tag||($t.pool?$t.pool.push(qt):$t.pool=[qt])}}var Wt=1,Kt=0;if(qt.attrs&&'function'==typeof qt.attrs.onbeforeremove){var Vt=qt.attrs.onbeforeremove.call(qt.state,qt);null!=Vt&&'function'==typeof Vt.then&&(Wt++,Vt.then(Ft,Ft))}if('string'!=typeof qt.tag&&'function'==typeof qt._state.onbeforeremove){var Vt=qt._state.onbeforeremove.call(qt.state,qt);null!=Vt&&'function'==typeof Vt.then&&(Wt++,Vt.then(Ft,Ft))}Ft()}function xt(qt){var $t=qt.parentNode;null!=$t&&$t.removeChild(qt)}function Et(qt){if(qt.attrs&&'function'==typeof qt.attrs.onremove&&qt.attrs.onremove.call(qt.state,qt),'string'!=typeof qt.tag&&'function'==typeof qt._state.onremove&&qt._state.onremove.call(qt.state,qt),null!=qt.instance)Et(qt.instance);else{var $t=qt.children;if(Array.isArray($t))for(var Wt,Ft=0;Ft<$t.length;Ft++)Wt=$t[Ft],null!=Wt&&Et(Wt)}}function St(qt,$t,Ft){for(var Wt in $t)wt(qt,Wt,null,$t[Wt],Ft)}function wt(qt,$t,Ft,Wt,Kt){var Vt=qt.dom;if('key'!==$t&&'is'!==$t&&(Ft!==Wt||Tt(qt,$t)||'object'==typeof Wt)&&'undefined'!=typeof Wt&&!Nt($t)){var Gt=$t.indexOf(':');if(-1<Gt&&'xlink'===$t.substr(0,Gt))Vt.setAttributeNS('http://www.w3.org/1999/xlink',$t.slice(Gt+1),Wt);else if('o'===$t[0]&&'n'===$t[1]&&'function'==typeof Wt)Lt(qt,$t,Wt);else if('style'===$t)Dt(Vt,Ft,Wt);else if($t in Vt&&!Rt($t)&&void 0===Kt&&!jt(qt)){if('input'===qt.tag&&'value'===$t&&qt.dom.value==Wt&&qt.dom===At.activeElement)return;if('select'===qt.tag&&'value'===$t&&qt.dom.value==Wt&&qt.dom===At.activeElement)return;if('option'===qt.tag&&'value'===$t&&qt.dom.value==Wt)return;if('input'===qt.tag&&'type'===$t)return void Vt.setAttribute($t,Wt);Vt[$t]=Wt}else'boolean'==typeof Wt?Wt?Vt.setAttribute($t,''):Vt.removeAttribute($t):Vt.setAttribute('className'===$t?'class':$t,Wt)}}function Ct(qt){var $t=qt.attrs;'select'===qt.tag&&null!=$t&&('value'in $t&&wt(qt,'value',null,$t.value,void 0),'selectedIndex'in $t&&wt(qt,'selectedIndex',null,$t.selectedIndex,void 0))}function Ot(qt,$t,Ft,Wt){if(null!=Ft)for(var Kt in Ft)wt(qt,Kt,$t&&$t[Kt],Ft[Kt],Wt);if(null!=$t)for(var Kt in $t)null!=Ft&&Kt in Ft||('className'==Kt&&(Kt='class'),'o'!==Kt[0]||'n'!==Kt[1]||Nt(Kt)?'key'!=Kt&&qt.dom.removeAttribute(Kt):Lt(qt,Kt,void 0))}function Tt(qt,$t){return'value'===$t||'checked'===$t||'selectedIndex'===$t||'selected'===$t&&qt.dom===At.activeElement}function Nt(qt){return'oninit'===qt||'oncreate'===qt||'onupdate'===qt||'onremove'===qt||'onbeforeremove'===qt||'onbeforeupdate'===qt}function Rt(qt){return'href'===qt||'list'===qt||'form'===qt||'width'===qt||'height'===qt}function jt(qt){return qt.attrs.is||-1<qt.tag.indexOf('-')}function Pt(qt){return null!=qt&&(qt.oncreate||qt.onupdate||qt.onbeforeremove||qt.onremove)}function Dt(qt,$t,Ft){if($t===Ft&&(qt.style.cssText='',$t=null),null==Ft)qt.style.cssText='';else if('string'==typeof Ft)qt.style.cssText=Ft;else{for(var Wt in'string'==typeof $t&&(qt.style.cssText=''),Ft)qt.style[Wt]=Ft[Wt];if(null!=$t&&'string'!=typeof $t)for(var Wt in $t)Wt in Ft||(qt.style[Wt]='')}}function Lt(qt,$t,Ft){var Wt=qt.dom,Kt='function'==typeof Ht?function(Gt){var Xt=Ft.call(Wt,Gt);return Ht.call(Wt,Gt),Xt}:Ft;if($t in Wt)Wt[$t]='function'==typeof Ft?Kt:null;else{var Vt=$t.slice(2);if(void 0===qt.events&&(qt.events={}),qt.events[$t]===Kt)return;null!=qt.events[$t]&&Wt.removeEventListener(Vt,qt.events[$t],!1),'function'==typeof Ft&&(qt.events[$t]=Kt,Wt.addEventListener(Vt,qt.events[$t],!1))}}function It(qt,$t,Ft){'function'==typeof qt.oninit&&qt.oninit.call($t.state,$t),'function'==typeof qt.oncreate&&Ft.push(qt.oncreate.bind($t.state,$t))}function Bt(qt,$t,Ft){'function'==typeof qt.onupdate&&Ft.push(qt.onupdate.bind($t.state,$t))}function Mt(qt,$t){var Ft,Wt;return null!=qt.attrs&&'function'==typeof qt.attrs.onbeforeupdate&&(Ft=qt.attrs.onbeforeupdate.call(qt.state,qt,$t)),'string'!=typeof qt.tag&&'function'==typeof qt._state.onbeforeupdate&&(Wt=qt._state.onbeforeupdate.call(qt.state,qt,$t)),void 0===Ft&&void 0===Wt||Ft||Wt?!1:(qt.dom=$t.dom,qt.domSize=$t.domSize,qt.instance=$t.instance,!0)}var Ht,At=Je.document,zt=At.createDocumentFragment();return{render:function(qt,$t){if(!qt)throw new Error('Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.');var Ft=[],Wt=At.activeElement;null==qt.vnodes&&(qt.textContent=''),Array.isArray($t)||($t=[$t]),ot(qt,qt.vnodes,Te.normalizeChildren($t),!1,Ft,null,void 0),qt.vnodes=$t;for(var Kt=0;Kt<Ft.length;Kt++)Ft[Kt]();At.activeElement!==Wt&&Wt.focus()},setEventCallback:function(qt){return Ht=qt}}},Fe=function(Je){function Ze(at){var rt=nt.indexOf(at);-1<rt&&nt.splice(rt,2)}function et(){for(var at=1;at<nt.length;at+=2)nt[at]()}var tt=qe(Je);tt.setEventCallback(function(at){!1!==at.redraw&&et()});var nt=[];return{subscribe:function(at,rt){Ze(at),nt.push(at,Pe(rt))},unsubscribe:Ze,redraw:et,render:tt.render}}(window);He.setCompletionCallback(Fe.redraw);Be.mount=function(Je){return function(Qe,Ze){if(null===Ze)return Je.render(Qe,[]),void Je.unsubscribe(Qe);if(null==Ze.view&&'function'!=typeof Ze)throw new Error('m.mount(element, component) expects a component, not a vnode');Je.subscribe(Qe,function(){Je.render(Qe,Te(Ze))}),Je.redraw()}}(Fe);var Ve=function(Je){if(''===Je||null==Je)return{};'?'===Je.charAt(0)&&(Je=Je.slice(1));for(var Qe=Je.split('&'),Ze={},et={},tt=0;tt<Qe.length;tt++){var nt=Qe[tt].split('='),at=decodeURIComponent(nt[0]),rt=2===nt.length?decodeURIComponent(nt[1]):'';'true'===rt?rt=!0:'false'===rt&&(rt=!1);var it=at.split(/\]\[?|\[/),st=Ze;-1<at.indexOf('[')&&it.pop();for(var ot=0;ot<it.length;ot++){var lt=it[ot],dt=it[ot+1],ct=''==dt||!isNaN(parseInt(dt,10)),ut=ot===it.length-1;if(''===lt){var at=it.slice(0,ot).join();null==et[at]&&(et[at]=0),lt=et[at]++}null==st[lt]&&(st[lt]=ut?rt:ct?[]:{}),st=st[lt]}}return Ze},Ge=function(Je){function Qe(it){var st=Je.location[it].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return'pathname'===it&&'/'!==st[0]&&(st='/'+st),st}function Ze(it){return function(){null!=at||(at=nt(function(){at=null,it()}))}}function et(it,st,ot){var lt=it.indexOf('?'),dt=it.indexOf('#'),ct=-1<lt?lt:-1<dt?dt:it.length;if(-1<lt){var ut=-1<dt?dt:it.length,pt=Ve(it.slice(lt+1,ut));for(var ft in pt)st[ft]=pt[ft]}if(-1<dt){var gt=Ve(it.slice(dt+1));for(var ft in gt)ot[ft]=gt[ft]}return it.slice(0,ct)}var at,tt='function'==typeof Je.history.pushState,nt='function'==typeof setImmediate?setImmediate:setTimeout,rt={prefix:'#!'};return rt.getPath=function(){var it=rt.prefix.charAt(0);return'#'===it?Qe('hash').slice(rt.prefix.length):'?'===it?Qe('search').slice(rt.prefix.length)+Qe('hash'):Qe('pathname').slice(rt.prefix.length)+Qe('search')+Qe('hash')},rt.setPath=function(it,st,ot){var lt={},dt={};if(it=et(it,lt,dt),null!=st){for(var ct in st)lt[ct]=st[ct];it=it.replace(/:([^\/]+)/g,function(mt,ht){return delete lt[ht],st[ht]})}var ut=Ue(lt);ut&&(it+='?'+ut);var pt=Ue(dt);if(pt&&(it+='#'+pt),tt){var ft=ot?ot.state:null,gt=ot?ot.title:null;Je.onpopstate(),ot&&ot.replace?Je.history.replaceState(ft,gt,rt.prefix+it):Je.history.pushState(ft,gt,rt.prefix+it)}else Je.location.href=rt.prefix+it},rt.defineRoutes=function(it,st,ot){function lt(){var dt=rt.getPath(),ct={},ut=et(dt,ct,ct),pt=Je.history.state;if(null!=pt)for(var ft in pt)ct[ft]=pt[ft];for(var gt in it){var mt=new RegExp('^'+gt.replace(/:[^\/]+?\.{3}/g,'(.*?)').replace(/:[^\/]+/g,'([^\\/]+)')+'/?$');if(mt.test(ut))return void ut.replace(mt,function(){for(var ht=gt.match(/:[^\/]+/g)||[],bt=[].slice.call(arguments,1,-2),_t=0;_t<ht.length;_t++)ct[ht[_t].replace(/:|\./g,'')]=decodeURIComponent(bt[_t]);st(it[gt],ct,dt,gt)})}ot(dt,ct)}tt?Je.onpopstate=Ze(lt):'#'===rt.prefix.charAt(0)&&(Je.onhashchange=lt),lt()},rt};Be.route=function(Je,Qe){var tt,nt,at,rt,it,Ze=Ge(Je),et=function(ot){return ot},st=function(ot,lt,dt){if(null==ot)throw new Error('Ensure the DOM element that was passed to `m.route` is not undefined');var ct=function(){null!=tt&&Qe.render(ot,tt(Te(nt,at.key,at)))},ut=function(pt){if(pt!==lt)Ze.setPath(lt,null,{replace:!0});else throw new Error('Could not resolve default route '+lt)};Ze.defineRoutes(dt,function(pt,ft,gt){var mt=it=function(ht,bt){mt!==it||(nt=null!=bt&&('function'==typeof bt.view||'function'==typeof bt)?bt:'div',at=ft,rt=gt,it=null,tt=(ht.render||et).bind(ht),ct())};pt.view||'function'==typeof pt?mt({},pt):pt.onmatch?Me.resolve(pt.onmatch(ft,gt)).then(function(ht){mt(pt,ht)},ut):mt(pt,'div')},ut),Qe.subscribe(ot,ct)};return st.set=function(ot,lt,dt){null!=it&&(dt={replace:!0}),it=null,Ze.setPath(ot,lt,dt)},st.get=function(){return rt},st.prefix=function(ot){Ze.prefix=ot},st.link=function(ot){ot.dom.setAttribute('href',Ze.prefix+ot.attrs.href),ot.dom.onclick=function(lt){if(!(lt.ctrlKey||lt.metaKey||lt.shiftKey||2===lt.which)){lt.preventDefault(),lt.redraw=!1;var dt=this.getAttribute('href');0===dt.indexOf(Ze.prefix)&&(dt=dt.slice(Ze.prefix.length)),st.set(dt,void 0,void 0)}}},st.param=function(ot){return'undefined'!=typeof at&&'undefined'!=typeof ot?at[ot]:at},st}(window,Fe),Be.withAttr=function(Je,Qe,Ze){return function(et){Qe.call(Ze||this,Je in et.currentTarget?et.currentTarget[Je]:et.currentTarget.getAttribute(Je))}};var Ye=qe(window);Be.render=Ye.render,Be.redraw=Fe.redraw,Be.request=He.request,Be.jsonp=He.jsonp,Be.parseQueryString=Ve,Be.buildQueryString=Ue,Be.version='1.1.1',Be.vnode=Te,Oe.exports=Be})()}),$={view(){return A('nav',{class:'pa3 pa4-ns'},A('a',{class:'link dim black b f6 f5-ns dib mr3',href:'/',oncreate:A.route.link},'hydrocarbon'),A('a',{class:'link dim gray    f6 f5-ns dib mr3',href:'/login',oncreate:A.route.link},'login'))}},W='f6 dib ph2 link mid-gray dim',V={view(){return A('footer',{class:'ph3 pv2 ph5-m w-100 mid-gray absolute bottom-1'},[A('small',{class:'f6 db tc'},'\xA9 2017 ',A('b',{class:'b'},'hydrocarbon')),A('div',{class:'flex items-center justify-center tc mt2'},A('a',{class:'f6 dib ph2 link mid-gray dim bottom-0 lh0',style:'height: 16px;',href:'https://github.com/fortytw2/hydrocarbon?ref=hc'},A('svg',{fill:'currentColor',xmlns:'http://www.w3.org/2000/svg',width:'16px',height:'16px','view-box':'0 0 16 16','fill-rule':'evenodd','clip-rule':'evenodd','stroke-linejoin':'round','stroke-miterlimit':'1.414'},A('path',{d:'M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8'}))),A('a',{class:W,href:'/terms-and-conditions',oncreate:A.route.link},'terms and conditions'),A('a',{class:W,href:'/promise',oncreate:A.route.link},'promise'),A('a',{class:W,href:'/privacy-policy',oncreate:A.route.link},'privacy'))])}},G={flashMessage:''},X={view(){if(''!==G.flashMessage){var Te=G.flashMessage;return G.flashMessage='',A('div',{onchange:function(Ne){G.flashMessage[Ne.target.name]=Ne.target.value},class:'flex items-center justify-center pa4 bg-lightest-red red'},A('span',{class:'lh-title ml3'},Te))}}},Y={view(Oe){return A('div',{class:'min-vh-100'},[A($),A(X),A('div',{class:'fl w-100 pa2 h-auto'},Oe.children),A(V)])}},J={URL:'URL_ENDPOINT_CHANGE_ME',SENTRY_PUBLIC_DSN:''},Q={isObject:function(Oe){return'object'==typeof Oe&&null!==Oe},isError:function(Oe){switch({}.toString.call(Oe)){case'[object Error]':return!0;case'[object Exception]':return!0;case'[object DOMException]':return!0;default:return Oe instanceof Error;}}},Z={collectWindowErrors:!0,debug:!1},ee='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,te=[].slice,ne='?',ae=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;Z.report=function(){function je($e,Fe){var We=null;if(!Fe||Z.collectWindowErrors){for(var Ke in Me)if(Me.hasOwnProperty(Ke))try{Me[Ke].apply(null,[$e].concat(te.call(arguments,2)))}catch(Ve){We=Ve}if(We)throw We}}function Pe($e,Fe,We,Ke,Ve){var Ge=null;if(ze)Z.computeStackTrace.augmentStackTraceWithInitialElement(ze,Fe,We,$e),Ie();else if(Ve&&Q.isError(Ve))Ge=Z.computeStackTrace(Ve),je(Ge,!0);else{var Ye,Qe,Xe={url:Fe,line:We,column:Ke},Je=$e;if('[object String]'==={}.toString.call($e)){var Qe=$e.match(ae);Qe&&(Ye=Qe[1],Je=Qe[2])}Xe.func=ne,Ge={name:Ye,message:Je,url:d(),stack:[Xe]},je(Ge,!0)}return!!He&&He.apply(this,arguments)}function De(){qe||(He=ee.onerror,ee.onerror=Pe,qe=!0)}function Le(){qe&&(ee.onerror=He,qe=!1,He=void 0)}function Ie(){var $e=ze,Fe=Ue;Ue=null,ze=null,Ae=null,je.apply(null,[$e,!1].concat(Fe))}function Be($e,Fe){var We=te.call(arguments,1);if(ze){if(Ae===$e)return;Ie()}var Ke=Z.computeStackTrace($e);if(ze=Ke,Ae=$e,Ue=We,setTimeout(function(){Ae===$e&&Ie()},Ke.incomplete?2e3:0),!1!==Fe)throw $e}var He,qe,Me=[],Ue=null,Ae=null,ze=null;return Be.subscribe=function($e){De(),Me.push($e)},Be.unsubscribe=function($e){for(var Fe=Me.length-1;0<=Fe;--Fe)Me[Fe]===$e&&Me.splice(Fe,1)},Be.uninstall=function(){Le(),Me=[]},Be}(),Z.computeStackTrace=function(){function Te(Pe){if('undefined'!=typeof Pe.stack&&Pe.stack){for(var ze,He,qe,De=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Le=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,Ie=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Be=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Me=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ue=Pe.stack.split('\n'),Ae=[],$e=/^(.*) is undefined$/.exec(Pe.message),Fe=0,We=Ue.length;Fe<We;++Fe){if(He=De.exec(Ue[Fe])){var Ke=He[2]&&0===He[2].indexOf('native'),Ve=He[2]&&0===He[2].indexOf('eval');Ve&&(ze=Me.exec(He[2]))&&(He[2]=ze[1],He[3]=ze[2],He[4]=ze[3]),qe={url:Ke?null:He[2],func:He[1]||ne,args:Ke?[He[2]]:[],line:He[3]?+He[3]:null,column:He[4]?+He[4]:null}}else if(He=Ie.exec(Ue[Fe]))qe={url:He[2],func:He[1]||ne,args:[],line:+He[3],column:He[4]?+He[4]:null};else if(He=Le.exec(Ue[Fe])){var Ve=He[3]&&-1<He[3].indexOf(' > eval');Ve&&(ze=Be.exec(He[3]))?(He[3]=ze[1],He[4]=ze[2],He[5]=null):0===Fe&&!He[5]&&'undefined'!=typeof Pe.columnNumber&&(Ae[0].column=Pe.columnNumber+1),qe={url:He[3],func:He[1]||ne,args:He[2]?He[2].split(','):[],line:He[4]?+He[4]:null,column:He[5]?+He[5]:null}}else continue;!qe.func&&qe.line&&(qe.func=ne),Ae.push(qe)}return Ae.length?{name:Pe.name,message:Pe.message,url:d(),stack:Ae}:null}}function Ne(Pe,De,Le){var Be={url:De,line:Le};if(Be.url&&Be.line){if(Pe.incomplete=!1,Be.func||(Be.func=ne),0<Pe.stack.length&&Pe.stack[0].url===Be.url){if(Pe.stack[0].line===Be.line)return!1;if(!Pe.stack[0].line&&Pe.stack[0].func===Be.func)return Pe.stack[0].line=Be.line,!1}return Pe.stack.unshift(Be),Pe.partial=!0,!0}return Pe.incomplete=!0,!1}function Re(Pe,De){for(var Ue,Ae,Le=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,Ie=[],Be={},Me=!1,He=Re.caller;He&&!Me;He=He.caller)if(He!==je&&He!==Z.report){if(Ae={url:null,func:ne,line:null,column:null},He.name?Ae.func=He.name:(Ue=Le.exec(He.toString()))&&(Ae.func=Ue[1]),'undefined'==typeof Ae.func)try{Ae.func=Ue.input.substring(0,Ue.input.indexOf('{'))}catch($e){}Be[''+He]?Me=!0:Be[''+He]=!0,Ie.push(Ae)}De&&Ie.splice(0,De);var qe={name:Pe.name,message:Pe.message,url:d(),stack:Ie};return Ne(qe,Pe.sourceURL||Pe.fileName,Pe.line||Pe.lineNumber,Pe.message||Pe.description),qe}function je(Pe,De){var Le=null;De=null==De?0:+De;try{if(Le=Te(Pe),Le)return Le}catch(Ie){if(Z.debug)throw Ie}try{if(Le=Re(Pe,De+1),Le)return Le}catch(Ie){if(Z.debug)throw Ie}return{name:Pe.name,message:Pe.message,url:d()}}return je.augmentStackTraceWithInitialElement=Ne,je.computeStackTraceFromStackProp=Te,je}();var re=Z,ie=n(function(Oe,Te){'use strict';function Ne(Pe,De){for(var Le=0;Le<Pe.length;++Le)if(Pe[Le]===De)return Le;return-1}function je(Pe,De){var Le=[],Ie=[];return null==De&&(De=function(Be,Me){return Le[0]===Me?'[Circular ~]':'[Circular ~.'+Ie.slice(0,Ne(Le,Me)).join('.')+']'}),function(Be,Me){if(0<Le.length){var Ue=Ne(Le,this);~Ue?Le.splice(Ue+1):Le.push(this),~Ue?Ie.splice(Ue,Infinity,Be):Ie.push(Be),~Ne(Le,Me)&&(Me=De.call(this,Be,Me))}else Le.push(Me);return null==Pe?Me:Pe.call(this,Be,Me)}}Te=Oe.exports=function(Pe,De,Le,Ie){return JSON.stringify(Pe,je(De,Ie),Le)},Te.getSerialize=je});u.prototype=new Error,u.prototype.constructor=u;var se=u,de=Q.isError,ce=Q.isObject,ue={wrapMethod:function(Oe,Te,Ne){var Re=Oe[Te];if(Te in Oe){var Pe='warn'===Te?'warning':Te;Oe[Te]=function(){var De=[].slice.call(arguments),Le=''+De.join(' ');Ne&&Ne(Le,{level:Pe,logger:'console',extra:{arguments:De}}),Re&&Function.prototype.apply.call(Re,Oe,De)}}}}.wrapMethod,pe='source protocol user pass host port path'.split(' '),fe=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,ge='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,me=ge.document,he=ge.navigator;f.prototype={VERSION:'3.14.2',debug:!1,TraceKit:re,config:function(Oe,Te){var Ne=this;if(Ne._globalServer)return this._logDebug('error','Error: Raven has already been configured'),Ne;if(!Oe)return Ne;var Re=Ne._globalOptions;Te&&E(Te,function(De,Le){'tags'===De||'extra'===De||'user'===De?Ne._globalContext[De]=Le:Re[De]=Le}),Ne.setDSN(Oe),Re.ignoreErrors.push(/^Script error\.?$/),Re.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),Re.ignoreErrors=O(Re.ignoreErrors),Re.ignoreUrls=!!Re.ignoreUrls.length&&O(Re.ignoreUrls),Re.whitelistUrls=!!Re.whitelistUrls.length&&O(Re.whitelistUrls),Re.includePaths=O(Re.includePaths),Re.maxBreadcrumbs=Math.max(0,Math.min(Re.maxBreadcrumbs||100,100));var je={xhr:!0,console:!0,dom:!0,location:!0},Pe=Re.autoBreadcrumbs;return'[object Object]'==={}.toString.call(Pe)?Pe=S(je,Pe):!1!==Pe&&(Pe=je),Re.autoBreadcrumbs=Pe,re.collectWindowErrors=!!Re.collectWindowErrors,Ne},install:function(){var Oe=this;return Oe.isSetup()&&!Oe._isRavenInstalled&&(re.report.subscribe(function(){Oe._handleOnErrorStackInfo.apply(Oe,arguments)}),Oe._instrumentTryCatch(),Oe._globalOptions.autoBreadcrumbs&&Oe._instrumentBreadcrumbs(),Oe._drainPlugins(),Oe._isRavenInstalled=!0),Error.stackTraceLimit=Oe._globalOptions.stackTraceLimit,this},setDSN:function(Oe){var Te=this,Ne=Te._parseDSN(Oe),Re=Ne.path.lastIndexOf('/'),je=Ne.path.substr(1,Re);Te._dsn=Oe,Te._globalKey=Ne.user,Te._globalSecret=Ne.pass&&Ne.pass.substr(1),Te._globalProject=Ne.path.substr(Re+1),Te._globalServer=Te._getGlobalServer(Ne),Te._globalEndpoint=Te._globalServer+'/'+je+'api/'+Te._globalProject+'/store/',this._resetBackoff()},context:function(Oe,Te,Ne){return h(Oe)&&(Ne=Te||[],Te=Oe,Oe=void 0),this.wrap(Oe,Te).apply(this,Ne)},wrap:function(Oe,Te,Ne){function Re(){var De=[],Le=arguments.length,Ie=!Oe||Oe&&!1!==Oe.deep;for(Ne&&h(Ne)&&Ne.apply(this,arguments);Le--;)De[Le]=Ie?je.wrap(Oe,arguments[Le]):arguments[Le];try{return Te.apply(this,De)}catch(Be){throw je._ignoreNextOnError(),je.captureException(Be,Oe),Be}}var je=this;if(g(Te)&&!h(Oe))return Oe;if(h(Oe)&&(Te=Oe,Oe=void 0),!h(Te))return Te;try{if(Te.__raven__)return Te;if(Te.__raven_wrapper__)return Te.__raven_wrapper__}catch(De){return Te}for(var Pe in Te)C(Te,Pe)&&(Re[Pe]=Te[Pe]);return Re.prototype=Te.prototype,Te.__raven_wrapper__=Re,Re.__raven__=!0,Re.__inner__=Te,Re},uninstall:function(){return re.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(Oe,Te){if(!de(Oe))return this.captureMessage(Oe,S({trimHeadFrames:1,stacktrace:!0},Te));this._lastCapturedException=Oe;try{var Ne=re.computeStackTrace(Oe);this._handleStackInfo(Ne,Te)}catch(Re){if(Oe!==Re)throw Re}return this},captureMessage:function(Oe,Te){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(Oe)){Te=Te||{};var Ne=S({message:Oe+''},Te);if(this._globalOptions.stacktrace||Te&&Te.stacktrace){var Re;try{throw new Error(Oe)}catch(De){Re=De}Re.name=null,Te=S({fingerprint:Oe,trimHeadFrames:(Te.trimHeadFrames||0)+1},Te);var je=re.computeStackTrace(Re),Pe=this._prepareFrames(je,Te);Ne.stacktrace={frames:Pe.reverse()}}return this._send(Ne),this}},captureBreadcrumb:function(Oe){var Te=S({timestamp:p()/1e3},Oe);if(h(this._globalOptions.breadcrumbCallback)){var Ne=this._globalOptions.breadcrumbCallback(Te);if(ce(Ne)&&!x(Ne))Te=Ne;else if(!1===Ne)return this}return this._breadcrumbs.push(Te),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(Oe){var Te=[].slice.call(arguments,1);return this._plugins.push([Oe,Te]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(Oe){return this._globalContext.user=Oe,this},setExtraContext:function(Oe){return this._mergeContext('extra',Oe),this},setTagsContext:function(Oe){return this._mergeContext('tags',Oe),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(ie(this._globalContext))},setEnvironment:function(Oe){return this._globalOptions.environment=Oe,this},setRelease:function(Oe){return this._globalOptions.release=Oe,this},setDataCallback:function(Oe){var Te=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=h(Oe)?function(Ne){return Oe(Ne,Te)}:Oe,this},setBreadcrumbCallback:function(Oe){var Te=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=h(Oe)?function(Ne){return Oe(Ne,Te)}:Oe,this},setShouldSendCallback:function(Oe){var Te=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=h(Oe)?function(Ne){return Oe(Ne,Te)}:Oe,this},setTransport:function(Oe){return this._globalOptions.transport=Oe,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug('error','Error: Raven has not been configured.')),!1))},afterLoad:function(){var Oe=ge.RavenConfig;Oe&&this.config(Oe.dsn,Oe.config).install()},showReportDialog:function(Oe){if(me){Oe=Oe||{};var Te=Oe.eventId||this.lastEventId();if(!Te)throw new se('Missing eventId');var Ne=Oe.dsn||this._dsn;if(!Ne)throw new se('Missing DSN');var Re=encodeURIComponent,je='';je+='?eventId='+Re(Te),je+='&dsn='+Re(Ne);var Pe=Oe.user||this._globalContext.user;Pe&&(Pe.name&&(je+='&name='+Re(Pe.name)),Pe.email&&(je+='&email='+Re(Pe.email)));var De=this._getGlobalServer(this._parseDSN(Ne)),Le=me.createElement('script');Le.async=!0,Le.src=De+'/api/embed/error-page/'+je,(me.head||me.body).appendChild(Le)}},_ignoreNextOnError:function(){var Oe=this;this._ignoreOnError+=1,setTimeout(function(){Oe._ignoreOnError-=1})},_triggerEvent:function(Oe,Te){var Ne,Re;if(this._hasDocument){for(Re in Te=Te||{},Oe='raven'+Oe.substr(0,1).toUpperCase()+Oe.substr(1),me.createEvent?(Ne=me.createEvent('HTMLEvents'),Ne.initEvent(Oe,!0,!0)):(Ne=me.createEventObject(),Ne.eventType=Oe),Te)C(Te,Re)&&(Ne[Re]=Te[Re]);if(me.createEvent)me.dispatchEvent(Ne);else try{me.fireEvent('on'+Ne.eventType.toLowerCase(),Ne)}catch(je){}}},_breadcrumbEventHandler:function(Oe){var Te=this;return function(Ne){if(Te._keypressTimeout=null,Te._lastCapturedEvent!==Ne){Te._lastCapturedEvent=Ne;var Re;try{Re=P(Ne.target)}catch(je){Re='<unknown>'}Te.captureBreadcrumb({category:'ui.'+Oe,message:Re})}}},_keypressEventHandler:function(){var Oe=this;return function(Ne){var Re;try{Re=Ne.target}catch(De){return}var je=Re&&Re.tagName;if(je&&('INPUT'===je||'TEXTAREA'===je||Re.isContentEditable)){var Pe=Oe._keypressTimeout;Pe||Oe._breadcrumbEventHandler('input')(Ne),clearTimeout(Pe),Oe._keypressTimeout=setTimeout(function(){Oe._keypressTimeout=null},1e3)}}},_captureUrlChange:function(Oe,Te){var Ne=N(this._location.href),Re=N(Te),je=N(Oe);this._lastHref=Te,Ne.protocol===Re.protocol&&Ne.host===Re.host&&(Te=Re.relative),Ne.protocol===je.protocol&&Ne.host===je.host&&(Oe=je.relative),this.captureBreadcrumb({category:'navigation',data:{to:Te,from:Oe}})},_instrumentTryCatch:function(){function Oe(Le){return function(){for(var Me=Array(arguments.length),Ue=0;Ue<Me.length;++Ue)Me[Ue]=arguments[Ue];var Ae=Me[0];return h(Ae)&&(Me[0]=Ne.wrap(Ae)),Le.apply?Le.apply(this,Me):Le(Me[0],Me[1])}}function Te(Le){var Ie=ge[Le]&&ge[Le].prototype;Ie&&Ie.hasOwnProperty&&Ie.hasOwnProperty('addEventListener')&&(M(Ie,'addEventListener',function(Be){return function(Me,Ue,Ae,ze){try{Ue&&Ue.handleEvent&&(Ue.handleEvent=Ne.wrap(Ue.handleEvent))}catch(Fe){}var He,qe,$e;return je&&je.dom&&('EventTarget'===Le||'Node'===Le)&&(qe=Ne._breadcrumbEventHandler('click'),$e=Ne._keypressEventHandler(),He=function(Fe){if(Fe){var We;try{We=Fe.type}catch(Ke){return}return'click'===We?qe(Fe):'keypress'===We?$e(Fe):void 0}}),Be.call(this,Me,Ne.wrap(Ue,void 0,He),Ae,ze)}},Re),M(Ie,'removeEventListener',function(Be){return function(Me,Ue,Ae,ze){try{Ue=Ue&&(Ue.__raven_wrapper__?Ue.__raven_wrapper__:Ue)}catch(He){}return Be.call(this,Me,Ue,Ae,ze)}},Re))}var Ne=this,Re=Ne._wrappedBuiltIns,je=this._globalOptions.autoBreadcrumbs;M(ge,'setTimeout',Oe,Re),M(ge,'setInterval',Oe,Re),ge.requestAnimationFrame&&M(ge,'requestAnimationFrame',function(Le){return function(Ie){return Le(Ne.wrap(Ie))}},Re);for(var Pe=['EventTarget','Window','Node','ApplicationCache','AudioTrackList','ChannelMergerNode','CryptoOperation','EventSource','FileReader','HTMLUnknownElement','IDBDatabase','IDBRequest','IDBTransaction','KeyOperation','MediaController','MessagePort','ModalWindow','Notification','SVGElementInstance','Screen','TextTrack','TextTrackCue','TextTrackList','WebSocket','WebSocketWorker','Worker','XMLHttpRequest','XMLHttpRequestEventTarget','XMLHttpRequestUpload'],De=0;De<Pe.length;De++)Te(Pe[De])},_instrumentBreadcrumbs:function(){function Oe(Me,Ue){Me in Ue&&h(Ue[Me])&&M(Ue,Me,function(Ae){return Te.wrap(Ae)})}var Te=this,Ne=this._globalOptions.autoBreadcrumbs,Re=Te._wrappedBuiltIns;if(Ne.xhr&&'XMLHttpRequest'in ge){var je=XMLHttpRequest.prototype;M(je,'open',function(Me){return function(Ue,Ae){return y(Ae)&&-1===Ae.indexOf(Te._globalKey)&&(this.__raven_xhr={method:Ue,url:Ae,status_code:null}),Me.apply(this,arguments)}},Re),M(je,'send',function(Me){return function(){function Ae(){if(ze.__raven_xhr&&(1===ze.readyState||4===ze.readyState)){try{ze.__raven_xhr.status_code=ze.status}catch($e){}Te.captureBreadcrumb({type:'http',category:'xhr',data:ze.__raven_xhr})}}for(var ze=this,He=['onload','onerror','onprogress'],qe=0;qe<He.length;qe++)Oe(He[qe],ze);return'onreadystatechange'in ze&&h(ze.onreadystatechange)?M(ze,'onreadystatechange',function($e){return Te.wrap($e,void 0,Ae)}):ze.onreadystatechange=Ae,Me.apply(this,arguments)}},Re)}Ne.xhr&&'fetch'in ge&&M(ge,'fetch',function(Me){return function(){for(var ze=Array(arguments.length),He=0;He<ze.length;++He)ze[He]=arguments[He];var Fe,qe=ze[0],$e='GET';'string'==typeof qe?Fe=qe:(Fe=qe.url,qe.method&&($e=qe.method)),ze[1]&&ze[1].method&&($e=ze[1].method);var We={method:$e,url:Fe,status_code:null};return Te.captureBreadcrumb({type:'http',category:'fetch',data:We}),Me.apply(this,ze).then(function(Ke){return We.status_code=Ke.status,Ke})}},Re),Ne.dom&&this._hasDocument&&(me.addEventListener?(me.addEventListener('click',Te._breadcrumbEventHandler('click'),!1),me.addEventListener('keypress',Te._keypressEventHandler(),!1)):(me.attachEvent('onclick',Te._breadcrumbEventHandler('click')),me.attachEvent('onkeypress',Te._keypressEventHandler())));var Pe=ge.chrome,De=Pe&&Pe.app&&Pe.app.runtime,Le=!De&&ge.history&&history.pushState;if(Ne.location&&Le){var Ie=ge.onpopstate;ge.onpopstate=function(){var Me=Te._location.href;if(Te._captureUrlChange(Te._lastHref,Me),Ie)return Ie.apply(this,arguments)},M(history,'pushState',function(Me){return function(){var Ue=2<arguments.length?arguments[2]:void 0;return Ue&&Te._captureUrlChange(Te._lastHref,Ue+''),Me.apply(this,arguments)}},Re)}if(Ne.console&&'console'in ge&&console.log){var Be=function(Me,Ue){Te.captureBreadcrumb({message:Me,level:Ue.level,category:'console'})};E(['debug','info','warn','error','log'],function(Me,Ue){ue(console,Ue,Be)})}},_restoreBuiltIns:function(){for(var Oe;this._wrappedBuiltIns.length;){Oe=this._wrappedBuiltIns.shift();var Te=Oe[0],Ne=Oe[1],Re=Oe[2];Te[Ne]=Re}},_drainPlugins:function(){var Oe=this;E(this._plugins,function(Te,Ne){var Re=Ne[0],je=Ne[1];Re.apply(Oe,[Oe].concat(je))})},_parseDSN:function(Oe){var Te=fe.exec(Oe),Ne={},Re=7;try{for(;Re--;)Ne[pe[Re]]=Te[Re]||''}catch(je){throw new se('Invalid DSN: '+Oe)}if(Ne.pass&&!this._globalOptions.allowSecretKey)throw new se('Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key');return Ne},_getGlobalServer:function(Oe){var Te='//'+Oe.host+(Oe.port?':'+Oe.port:'');return Oe.protocol&&(Te=Oe.protocol+':'+Te),Te},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(Oe,Te){var Ne=this._prepareFrames(Oe,Te);this._triggerEvent('handle',{stackInfo:Oe,options:Te}),this._processException(Oe.name,Oe.message,Oe.url,Oe.lineno,Ne,Te)},_prepareFrames:function(Oe,Te){var Ne=this,Re=[];if(Oe.stack&&Oe.stack.length&&(E(Oe.stack,function(Pe,De){var Le=Ne._normalizeFrame(De);Le&&Re.push(Le)}),Te&&Te.trimHeadFrames))for(var je=0;je<Te.trimHeadFrames&&je<Re.length;je++)Re[je].in_app=!1;return Re=Re.slice(0,this._globalOptions.stackTraceLimit),Re},_normalizeFrame:function(Oe){if(Oe.url){var Te={filename:Oe.url,lineno:Oe.line,colno:Oe.column,'function':Oe.func||'?'};return Te.in_app=(!this._globalOptions.includePaths.test||this._globalOptions.includePaths.test(Te.filename))&&!/(Raven|TraceKit)\./.test(Te['function'])&&!/raven\.(min\.)?js$/.test(Te.filename),Te}},_processException:function(Oe,Te,Ne,Re,je,Pe){var De;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(Te))&&(Te+='',je&&je.length?(Ne=je[0].filename||Ne,je.reverse(),De={frames:je}):Ne&&(De={frames:[{filename:Ne,lineno:Re,in_app:!0}]}),!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(Ne))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(Ne))){var Le=S({exception:{values:[{type:Oe,value:Te,stacktrace:De}]},culprit:Ne},Pe);this._send(Le)}},_trimPacket:function(Oe){var Te=this._globalOptions.maxMessageLength;if(Oe.message&&(Oe.message=w(Oe.message,Te)),Oe.exception){var Ne=Oe.exception.values[0];Ne.value=w(Ne.value,Te)}var Re=Oe.request;return Re&&(Re.url&&(Re.url=w(Re.url,this._globalOptions.maxUrlLength)),Re.Referer&&(Re.Referer=w(Re.Referer,this._globalOptions.maxUrlLength))),Oe.breadcrumbs&&Oe.breadcrumbs.values&&this._trimBreadcrumbs(Oe.breadcrumbs),Oe},_trimBreadcrumbs:function(Oe){for(var Ne,Re,je,Te=['to','from','url'],Pe=0;Pe<Oe.values.length;++Pe)if(Re=Oe.values[Pe],Re.hasOwnProperty('data')&&ce(Re.data)){je=Re.data;for(var De=0;De<Te.length;++De)Ne=Te[De],je.hasOwnProperty(Ne)&&(je[Ne]=w(je[Ne],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var Oe={};return this._hasNavigator&&he.userAgent&&(Oe.headers={'User-Agent':navigator.userAgent}),this._hasDocument&&(me.location&&me.location.href&&(Oe.url=me.location.href),me.referrer&&(!Oe.headers&&(Oe.headers={}),Oe.headers.Referer=me.referrer)),Oe}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&p()-this._backoffStart<this._backoffDuration},_isRepeatData:function(Oe){var Te=this._lastData;if(!Te||Oe.message!==Te.message||Oe.culprit!==Te.culprit)return!1;return Oe.stacktrace||Te.stacktrace?B(Oe.stacktrace,Te.stacktrace):Oe.exception||Te.exception?I(Oe.exception,Te.exception):!0},_setBackoffState:function(Oe){if(!this._shouldBackoff()){var Te=Oe.status;if(400===Te||401===Te||429===Te){var Ne;try{Ne=Oe.getResponseHeader('Retry-After'),Ne=1e3*parseInt(Ne,10)}catch(Re){}this._backoffDuration=Ne?Ne:2*this._backoffDuration||1e3,this._backoffStart=p()}}},_send:function(Oe){var Te=this._globalOptions,Ne={project:this._globalProject,logger:Te.logger,platform:'javascript'},Re=this._getHttpData();return Re&&(Ne.request=Re),Oe.trimHeadFrames&&delete Oe.trimHeadFrames,Oe=S(Ne,Oe),Oe.tags=S(S({},this._globalContext.tags),Oe.tags),Oe.extra=S(S({},this._globalContext.extra),Oe.extra),Oe.extra['session:duration']=p()-this._startTime,this._breadcrumbs&&0<this._breadcrumbs.length&&(Oe.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),x(Oe.tags)&&delete Oe.tags,this._globalContext.user&&(Oe.user=this._globalContext.user),Te.environment&&(Oe.environment=Te.environment),Te.release&&(Oe.release=Te.release),Te.serverName&&(Oe.server_name=Te.serverName),h(Te.dataCallback)&&(Oe=Te.dataCallback(Oe)||Oe),!Oe||x(Oe)||h(Te.shouldSendCallback)&&!Te.shouldSendCallback(Oe)?void 0:this._shouldBackoff()?void this._logDebug('warn','Raven dropped error due to backoff: ',Oe):void('number'==typeof Te.sampleRate?Math.random()<Te.sampleRate&&this._sendProcessedPayload(Oe):this._sendProcessedPayload(Oe))},_getUuid:function(){return R()},_sendProcessedPayload:function(Oe,Te){var Ne=this,Re=this._globalOptions;if(this.isSetup()){if(this._lastEventId=Oe.event_id||(Oe.event_id=this._getUuid()),Oe=this._trimPacket(Oe),!this._globalOptions.allowDuplicates&&this._isRepeatData(Oe))return void this._logDebug('warn','Raven dropped repeat event: ',Oe);this._lastData=Oe,this._logDebug('debug','Raven about to send:',Oe);var je={sentry_version:'7',sentry_client:'raven-js/'+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(je.sentry_secret=this._globalSecret);var Pe=Oe.exception&&Oe.exception.values[0];this.captureBreadcrumb({category:'sentry',message:Pe?(Pe.type?Pe.type+': ':'')+Pe.value:Oe.message,event_id:Oe.event_id,level:Oe.level||'error'});var De=this._globalEndpoint;(Re.transport||this._makeRequest).call(this,{url:De,auth:je,data:Oe,options:Re,onSuccess:function(){Ne._resetBackoff(),Ne._triggerEvent('success',{data:Oe,src:De}),Te&&Te()},onError:function(Ie){Ne._logDebug('error','Raven transport failed to send: ',Ie),Ie.request&&Ne._setBackoffState(Ie.request),Ne._triggerEvent('failure',{data:Oe,src:De}),Ie=Ie||new Error('Raven send failed (no additional details provided)'),Te&&Te(Ie)}})}},_makeRequest:function(Oe){var Te=new XMLHttpRequest,Ne='withCredentials'in Te||'undefined'!=typeof XDomainRequest;if(Ne){var Re=Oe.url;'withCredentials'in Te?Te.onreadystatechange=function(){if(4===Te.readyState)if(200===Te.status)Oe.onSuccess&&Oe.onSuccess();else if(Oe.onError){var je=new Error('Sentry error code: '+Te.status);je.request=Te,Oe.onError(je)}}:(Te=new XDomainRequest,Re=Re.replace(/^https?:/,''),Oe.onSuccess&&(Te.onload=Oe.onSuccess),Oe.onError&&(Te.onerror=function(){var je=new Error('Sentry error code: XDomainRequest');je.request=Te,Oe.onError(je)})),Te.open('POST',Re+'?'+T(Oe.auth)),Te.send(ie(Oe.data))}},_logDebug:function(Oe){this._originalConsoleMethods[Oe]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[Oe],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(Oe,Te){g(Te)?delete this._globalContext[Oe]:this._globalContext[Oe]=S(this._globalContext[Oe]||{},Te)}};var be=Object.prototype;'undefined'!=typeof __DEV__&&__DEV__&&(f.utils={isUndefined:g,isFunction:h,isString:y,isObject:ce,isEmptyObject:x,isError:de,each:E,objectMerge:S,truncate:w,hasKey:C,joinRegExp:O,urlencode:T,uuid4:R,htmlTreeAsString:P,htmlElementAsString:D,parseUrl:N,fill:M}),f.prototype.setUser=f.prototype.setUserContext,f.prototype.setReleaseContext=f.prototype.setRelease;var ve='undefined'==typeof window?'undefined'==typeof U?'undefined'==typeof self?{}:self:U:window,ye=ve.Raven,ke=new f;ke.noConflict=function(){return ve.Raven=ye,ke},ke.afterLoad();var xe=ke,Ee={activateToken:function(Oe){return A.request({method:'POST',url:J.URL+'/token/activate',withCredentials:!0,data:{token:Oe}}).then(function(Te){window.localStorage.setItem('hydrocarbon-key',Te.key),G.flashMessage='logged in ok'})},requestToken:function(Oe){return A.request({method:'POST',url:J.URL+'/token/request',withCredentials:!0,data:{email:Oe}}).then(function(Te){console.log(Te),G.flashMessage=Te.note}).catch(function(Te){xe.captureException(Te)})}},we={view(){return A('form',{class:'measure center',onsubmit:function(Te){Te.preventDefault(),Ee.requestToken(document.getElementById('email').value)}},[A('fieldset',{class:'ba b--transparent ph0 mh0'},A('div',{class:'mt3'},[A('label',{class:'db fw6 lh-copy f6',for:'email-address'},'we\'ll send you a link to login'),A('input',{class:'pa2 input-reset ba bg-transparent w-100',placeholder:'example@example.com',id:'email',type:'email',name:'email-address'})])),A('div',A('input',{class:'b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib',type:'submit'},'send link'))])}},Ce={oncreate(){Ee.activateToken(A.route.param('key'))},view(){return A.route.set('/')}};A.route.prefix(''),A.route(document.body,'/',{'/':{render:function(){return A(Y,A('p','this is the homepage'))}},'/about':{render:function(){return A(Y,A('p','this is the about page'))}},'/privacy-policy':{render:function(){return A(Y,A('p','this is privacy policy'))}},'/terms-and-conditions':{render:function(){return A(Y,A('p','this is terms and conditions'))}},'/promise':{render:function(){return A(Y,A('p','this is the hydrocarbon promise'))}},'/login':{render:function(){return A(Y,A(we))}},'/login-callback':{render:function(){return A(Y,A(Ce))}}}),''!==J.SENTRY_PUBLIC_DSN&&(console.log('installing sentry',J.SENTRY_PUBLIC_DSN),xe.config(J.SENTRY_PUBLIC_DSN,{environment:'HYDROCARBON_ENV',autoBreadcrumbs:{xhr:!0,console:!0,dom:!0,location:!0}}).install())})();
//# sourceMappingURL=bundle.min.js.map
